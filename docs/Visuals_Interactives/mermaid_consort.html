<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.361">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-06-10">

<title>HTW Project - Mermaid with R + consort</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>
<script src="../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">
<script src="../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="../site_libs/viz-1.8.2/viz.js"></script>
<link href="../site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="../site_libs/grViz-binding-1.0.10/grViz.js"></script>


<link rel="stylesheet" href="../Style/style1.css">
<link rel="stylesheet" href="../Style/calloutTG.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">HTW Project</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-analyses" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Analyses</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-analyses">    
        <li>
    <a class="dropdown-item" href="../Analysis/discrim.html" rel="" target="">
 <span class="dropdown-text">Testing Discrimination Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Analysis/ME_Pool.html" rel="" target="">
 <span class="dropdown-text">ME_Pool</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Analysis/analysis.html" rel="" target="">
 <span class="dropdown-text">HTW Analysis</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Visuals_Interactives/ojs_explore.html" rel="" target="">
 <span class="dropdown-text">OJS data exploration</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-simulations" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Simulations</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-simulations">    
        <li>
    <a class="dropdown-item" href="../Simulations/simParameterRecovery.html" rel="" target="">
 <span class="dropdown-text">Parameter Recovery Simulations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Simulations/DeLosh97_Sim.html" rel="" target="">
 <span class="dropdown-text">Simulating DeLosh 1997</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Simulations/SimReplications.html" rel="" target="">
 <span class="dropdown-text">General Simulations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Simulations/alm_learning.html" rel="" target="">
 <span class="dropdown-text">ALM Learning</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-model-fitting" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Model Fitting</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-model-fitting">    
        <li>
    <a class="dropdown-item" href="../Model/htw_exam.html" rel="" target="">
 <span class="dropdown-text">ALM &amp; EXAM Fitting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Model/abc_htw.html" rel="" target="">
 <span class="dropdown-text">Approximate Bayesian Fitting</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Model/group_fits.html" rel="" target="">
 <span class="dropdown-text">Group Level Fits</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-interactive" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Interactive</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-interactive">    
        <li>
    <a class="dropdown-item" href="../Visuals_Interactives/ojs_alm.html" rel="" target="">
 <span class="dropdown-text">OJS ALM</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Visuals_Interactives/quarto_shiny.qmd" rel="" target="">
 <span class="dropdown-text"></span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Visuals_Interactives/ALM_Shiny.html" rel="" target="">
 <span class="dropdown-text">ALM Shiny App Code</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Visuals_Interactives/quartoP5.qmd" rel="" target="">
 <span class="dropdown-text"></span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-misc" role="button" data-bs-toggle="dropdown" aria-expanded="false" rel="" target="">
 <span class="menu-text">Misc</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-misc">    
        <li>
    <a class="dropdown-item" href="../Misc/Task.html" rel="" target="">
 <span class="dropdown-text">HTW Task</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Visuals_Interactives/model_viz.html" rel="" target="">
 <span class="dropdown-text">Model Visualization</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Misc/htw_dp.html" rel="" target="">
 <span class="dropdown-text">Project 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Misc/External.html" rel="" target="">
 <span class="dropdown-text">External</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Misc/HTW_ToDo.html" rel="" target="">
 <span class="dropdown-text">HTW To-do and Notes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../Misc/benchmarks.html" rel="" target="">
 <span class="dropdown-text">Benchmarking</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <div class="quarto-navbar-tools ms-auto">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
  
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Mermaid with R + consort</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">Visualization</div>
    <div class="quarto-category">R</div>
    <div class="quarto-category">OJS</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 10, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#lapply(c('tidyverse','data.table','igraph','ggraph','kableExtra'),library,character.only=TRUE))</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse,data.table,igraph,ggraph,kableExtra,DiagrammeR,png,consort,data.table) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 591.83 336.80" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 332.8)">
<title>
ALM
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-332.8 587.83,-332.8 587.83,4 -4,4"></polygon> <!-- Input1 --> <g id="node1" class="node">
<title>
Input1
</title>
<ellipse fill="none" stroke="black" cx="120.97" cy="-282" rx="36.5" ry="18"></ellipse> <text text-anchor="middle" x="120.97" y="-277.8" font-family="Times,serif" font-size="14.00">Input1</text> </g> <!-- Input2 --> <g id="node2" class="node">
<title>
Input2
</title>
<ellipse fill="none" stroke="black" cx="120.97" cy="-186" rx="36.5" ry="18"></ellipse> <text text-anchor="middle" x="120.97" y="-181.8" font-family="Times,serif" font-size="14.00">Input2</text> </g> <!-- Input1&#45;&gt;Input2 --> <!-- Output1 --> <g id="node3" class="node">
<title>
Output1
</title>
<ellipse fill="none" stroke="black" cx="453.16" cy="-306" rx="42.88" ry="18"></ellipse> <text text-anchor="middle" x="453.16" y="-301.8" font-family="Times,serif" font-size="14.00">Output1</text> </g> <!-- Input1&#45;&gt;Output1 --> <g id="edge1" class="edge">
<title>
Input1-&gt;Output1
</title>
<path fill="none" stroke="black" d="M156.99,-284.55C215.4,-288.79 332.98,-297.34 400.78,-302.27"></path> <polygon fill="black" stroke="black" points="400.59,-305.76 410.81,-302.99 401.09,-298.78 400.59,-305.76"></polygon> <text text-anchor="middle" x="282.21" y="-316.2" font-family="Times,serif" font-size="14.00">w_{11}</text> </g> <!-- Output2 --> <g id="node4" class="node">
<title>
Output2
</title>
<ellipse fill="none" stroke="black" cx="453.16" cy="-234" rx="42.88" ry="18"></ellipse> <text text-anchor="middle" x="453.16" y="-229.8" font-family="Times,serif" font-size="14.00">Output2</text> </g> <!-- Input1&#45;&gt;Output2 --> <g id="edge2" class="edge">
<title>
Input1-&gt;Output2
</title>
<path fill="none" stroke="black" d="M156.06,-277.04C214.68,-268.52 334.78,-251.06 402.63,-241.2"></path> <polygon fill="black" stroke="black" points="403.26,-244.65 412.65,-239.74 402.26,-237.72 403.26,-244.65"></polygon> <text text-anchor="middle" x="282.21" y="-278.2" font-family="Times,serif" font-size="14.00">w_{12}</text> </g> <!-- Output3 --> <g id="node5" class="node">
<title>
Output3
</title>
<ellipse fill="none" stroke="black" cx="453.16" cy="-162" rx="42.88" ry="18"></ellipse> <text text-anchor="middle" x="453.16" y="-157.8" font-family="Times,serif" font-size="14.00">Output3</text> </g> <!-- Input1&#45;&gt;Output3 --> <g id="edge3" class="edge">
<title>
Input1-&gt;Output3
</title>
<path fill="none" stroke="black" d="M150.69,-271.56C209.32,-250.26 342.92,-201.7 410.85,-177.01"></path> <polygon fill="black" stroke="black" points="412.18,-180.26 420.38,-173.55 409.78,-173.68 412.18,-180.26"></polygon> <text text-anchor="middle" x="282.21" y="-219.2" font-family="Times,serif" font-size="14.00">w_{13}</text> </g> <!-- Input2&#45;&gt;Output1 --> <g id="edge4" class="edge">
<title>
Input2-&gt;Output1
</title>
<path fill="none" stroke="black" d="M150.69,-196.44C209.32,-217.74 342.92,-266.3 410.85,-290.99"></path> <polygon fill="black" stroke="black" points="409.78,-294.32 420.38,-294.45 412.18,-287.74 409.78,-294.32"></polygon> <text text-anchor="middle" x="282.21" y="-255.2" font-family="Times,serif" font-size="14.00">w_{21}</text> </g> <!-- Input2&#45;&gt;Output2 --> <g id="edge5" class="edge">
<title>
Input2-&gt;Output2
</title>
<path fill="none" stroke="black" d="M156.06,-190.96C214.68,-199.48 334.78,-216.94 402.63,-226.8"></path> <polygon fill="black" stroke="black" points="402.26,-230.28 412.65,-228.26 403.26,-223.35 402.26,-230.28"></polygon> <text text-anchor="middle" x="282.21" y="-180.2" font-family="Times,serif" font-size="14.00">w_{22}</text> </g> <!-- Input2&#45;&gt;Output3 --> <g id="edge6" class="edge">
<title>
Input2-&gt;Output3
</title>
<path fill="none" stroke="black" d="M156.99,-183.45C215.4,-179.21 332.98,-170.66 400.78,-165.73"></path> <polygon fill="black" stroke="black" points="401.09,-169.22 410.81,-165.01 400.59,-162.24 401.09,-169.22"></polygon> <text text-anchor="middle" x="282.21" y="-140.2" font-family="Times,serif" font-size="14.00">w_{23}</text> </g> <!-- equation1 --> <g id="node6" class="node">
<title>
equation1
</title>
<text text-anchor="middle" x="120.97" y="-111" font-family="Times,serif" font-size="10.00">a_i(X) = e</text></g></g></svg><sup>{-γ(X-X_i)</sup>2}, normalized: a_i(X) / Σa_i(X)  <!-- Input2&#45;&gt;equation1 --> <!-- Output1&#45;&gt;Output2 --> <!-- Output2&#45;&gt;Output3 --> <!-- equation2 --> <g id="node7" class="node">
<title>
equation2
</title>
<text text-anchor="middle" x="453.16" y="-87" font-family="Times,serif" font-size="10.00">O_j(X) = Σ w_{ji} ⋅ a_i(X), P[Y_j | X] = O_j(X) / Σ O_k(X)</text> </g> <!-- Output3&#45;&gt;equation2 --> <!-- invis1 --> <!-- equation1&#45;&gt;invis1 --> <!-- invis2 --> <!-- equation2&#45;&gt;invis2 --> 

</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 515.52 415.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 411)">
<title>
ALM
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-411 511.52,-411 511.52,4 -4,4"></polygon> <g id="clust2" class="cluster">
<title>
cluster_output
</title>
<polygon fill="lightgrey" stroke="lightgrey" points="398.14,-30 398.14,-215 499.52,-215 499.52,-30 398.14,-30"></polygon> <text text-anchor="middle" x="448.83" y="-198.4" font-family="Times,serif" font-size="14.00">Output Layer</text> </g> <g id="clust1" class="cluster">
<title>
cluster_input
</title>
<polygon fill="lightgrey" stroke="lightgrey" points="125.26,-34 125.26,-165 213.76,-165 213.76,-34 125.26,-34"></polygon> <text text-anchor="middle" x="169.51" y="-148.4" font-family="Times,serif" font-size="14.00">Input Layer</text> </g> <!-- Input1 --> <g id="node1" class="node">
<title>
Input1
</title>
<ellipse fill="none" stroke="black" cx="169.51" cy="-114" rx="36.5" ry="18"></ellipse> <text text-anchor="middle" x="169.51" y="-109.8" font-family="Times,serif" font-size="14.00">Input1</text> </g> <!-- Output1 --> <g id="node3" class="node">
<title>
Output1
</title>
<ellipse fill="none" stroke="black" cx="448.83" cy="-164" rx="42.88" ry="18"></ellipse> <text text-anchor="middle" x="448.83" y="-159.8" font-family="Times,serif" font-size="14.00">Output1</text> </g> <!-- Input1&#45;&gt;Output1 --> <g id="edge1" class="edge">
<title>
Input1-&gt;Output1
</title>
<path fill="none" stroke="black" d="M203.96,-120.03C252.65,-128.81 343.32,-145.16 399.33,-155.26"></path> <polygon fill="black" stroke="black" points="398.91,-158.74 409.37,-157.07 400.15,-151.85 398.91,-158.74"></polygon> <text text-anchor="middle" x="372.58" y="-163.2" font-family="Times,serif" font-size="14.00">w_11</text> </g> <!-- Output2 --> <g id="node4" class="node">
<title>
Output2
</title>
<ellipse fill="none" stroke="black" cx="448.83" cy="-110" rx="42.88" ry="18"></ellipse> <text text-anchor="middle" x="448.83" y="-105.8" font-family="Times,serif" font-size="14.00">Output2</text> </g> <!-- Input1&#45;&gt;Output2 --> <g id="edge2" class="edge">
<title>
Input1-&gt;Output2
</title>
<path fill="none" stroke="black" d="M205.92,-113.49C253.93,-112.8 340.04,-111.55 395.52,-110.75"></path> <polygon fill="black" stroke="black" points="395.9,-114.25 405.85,-110.61 395.8,-107.25 395.9,-114.25"></polygon> <text text-anchor="middle" x="372.58" y="-140.2" font-family="Times,serif" font-size="14.00">w_12</text> </g> <!-- Output3 --> <g id="node5" class="node">
<title>
Output3
</title>
<ellipse fill="none" stroke="black" cx="448.83" cy="-56" rx="42.88" ry="18"></ellipse> <text text-anchor="middle" x="448.83" y="-51.8" font-family="Times,serif" font-size="14.00">Output3</text> </g> <!-- Input1&#45;&gt;Output3 --> <g id="edge3" class="edge">
<title>
Input1-&gt;Output3
</title>
<path fill="none" stroke="black" d="M203.14,-107.18C251.8,-97 343.67,-77.79 399.94,-66.01"></path> <polygon fill="black" stroke="black" points="400.95,-69.38 410.02,-63.91 399.52,-62.53 400.95,-69.38"></polygon> <text text-anchor="middle" x="372.58" y="-83.2" font-family="Times,serif" font-size="14.00">w_13</text> </g> <!-- Input2 --> <g id="node2" class="node">
<title>
Input2
</title>
<ellipse fill="none" stroke="black" cx="169.51" cy="-60" rx="36.5" ry="18"></ellipse> <text text-anchor="middle" x="169.51" y="-55.8" font-family="Times,serif" font-size="14.00">Input2</text> </g> <!-- Input2&#45;&gt;Output1 --> <g id="edge4" class="edge">
<title>
Input2-&gt;Output1
</title>
<path fill="none" stroke="black" d="M198.89,-70.64C248.21,-89.14 349.94,-127.29 406.9,-148.65"></path> <polygon fill="black" stroke="black" points="405.73,-151.95 416.32,-152.18 408.19,-145.4 405.73,-151.95"></polygon> <text text-anchor="middle" x="372.58" y="-119.2" font-family="Times,serif" font-size="14.00">w_21</text> </g> <!-- Input2&#45;&gt;Output2 --> <g id="edge5" class="edge">
<title>
Input2-&gt;Output2
</title>
<path fill="none" stroke="black" d="M203.96,-66.03C252.65,-74.81 343.32,-91.16 399.33,-101.26"></path> <polygon fill="black" stroke="black" points="398.91,-104.74 409.37,-103.07 400.15,-97.85 398.91,-104.74"></polygon> <text text-anchor="middle" x="372.58" y="-43.2" font-family="Times,serif" font-size="14.00">w_22</text> </g> <!-- Input2&#45;&gt;Output3 --> <g id="edge6" class="edge">
<title>
Input2-&gt;Output3
</title>
<path fill="none" stroke="black" d="M205.92,-59.49C253.93,-58.8 340.04,-57.55 395.52,-56.75"></path> <polygon fill="black" stroke="black" points="395.9,-60.25 405.85,-56.61 395.8,-53.25 395.9,-60.25"></polygon> <text text-anchor="middle" x="372.58" y="-4.2" font-family="Times,serif" font-size="14.00">w_23</text> </g> <!-- equation1 --> <g id="node6" class="node">
<title>
equation1
</title>
<text text-anchor="middle" x="169.51" y="-260" font-family="Times,serif" font-size="10.00">Input activation ai(X) = exp(-gamma*(X-Xi)^2), normalized by dividing by sum</text> </g> <!-- invis1 --> <!-- equation1&#45;&gt;invis1 --> <!-- equation2 --> <g id="node7" class="node">
<title>
equation2
</title>
<text text-anchor="middle" x="169.51" y="-386" font-family="Times,serif" font-size="10.00">Output Oj(X) = sum(w_ji * ai(X)), Probability P[Yj | X] = Oj(X) / sum(Ok(X))</text> </g> <!-- invis2 --> <!-- equation2&#45;&gt;invis2 --> </g>
</svg>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 248.70 214.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 210)">
<title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-210 244.7,-210 244.7,4 -4,4"></polygon> <!-- E1 --> <g id="node1" class="node">
<title>
E1
</title>
<text text-anchor="middle" x="27" y="-67" font-family="Times,serif" font-size="30.00">⋮</text> </g> <!-- z --> <g id="node5" class="node">
<title>
z
</title>
<ellipse fill="none" stroke="black" cx="27" cy="-18" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="27" y="-13.8" font-family="Times,serif" font-size="14.00">z</text> </g> <!-- E1&#45;&gt;z --> <!-- E2 --> <g id="node2" class="node">
<title>
E2
</title>
<text text-anchor="middle" x="120.35" y="-67" font-family="Times,serif" font-size="30.00">⋮</text> </g> <!-- x100 --> <g id="node8" class="node">
<title>
x100
</title>
<ellipse fill="none" stroke="black" cx="120.35" cy="-18" rx="30.2" ry="18"></ellipse> <text text-anchor="middle" x="120.35" y="-13.8" font-family="Times,serif" font-size="14.00">x100</text> </g> <!-- E2&#45;&gt;x100 --> <!-- a --> <g id="node3" class="node">
<title>
a
</title>
<ellipse fill="none" stroke="black" cx="27" cy="-188" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="27" y="-183.8" font-family="Times,serif" font-size="14.00">a</text> </g> <!-- b --> <g id="node4" class="node">
<title>
b
</title>
<ellipse fill="none" stroke="black" cx="27" cy="-134" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="27" y="-129.8" font-family="Times,serif" font-size="14.00">b</text> </g> <!-- a&#45;&gt;b --> <!-- x1 --> <g id="node6" class="node">
<title>
x1
</title>
<ellipse fill="none" stroke="black" cx="120.35" cy="-188" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="120.35" y="-183.8" font-family="Times,serif" font-size="14.00">x1</text> </g> <!-- a&#45;&gt;x1 --> <g id="edge1" class="edge">
<title>
a-&gt;x1
</title>
<path fill="none" stroke="black" d="M54.42,-188C63.4,-188 73.59,-188 83.2,-188"></path> <polygon fill="black" stroke="black" points="83.3,-191.5 93.3,-188 83.3,-184.5 83.3,-191.5"></polygon> </g> <!-- x2 --> <g id="node7" class="node">
<title>
x2
</title>
<ellipse fill="none" stroke="black" cx="120.35" cy="-134" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="120.35" y="-129.8" font-family="Times,serif" font-size="14.00">x2</text> </g> <!-- a&#45;&gt;x2 --> <g id="edge2" class="edge">
<title>
a-&gt;x2
</title>
<path fill="none" stroke="black" d="M47.82,-176.28C60.39,-168.85 76.85,-159.12 90.82,-150.87"></path> <polygon fill="black" stroke="black" points="92.74,-153.8 99.57,-145.69 89.18,-147.77 92.74,-153.8"></polygon> </g> <!-- a&#45;&gt;x100 --> <g id="edge3" class="edge">
<title>
a-&gt;x100
</title>
<path fill="none" stroke="black" d="M37.09,-171.08C53.06,-141.37 86.23,-79.64 105.21,-44.32"></path> <polygon fill="black" stroke="black" points="108.51,-45.57 110.16,-35.11 102.34,-42.26 108.51,-45.57"></polygon> </g> <!-- b&#45;&gt;E1 --> <!-- b&#45;&gt;x1 --> <g id="edge4" class="edge">
<title>
b-&gt;x1
</title>
<path fill="none" stroke="black" d="M47.82,-145.72C60.39,-153.15 76.85,-162.88 90.82,-171.13"></path> <polygon fill="black" stroke="black" points="89.18,-174.23 99.57,-176.31 92.74,-168.2 89.18,-174.23"></polygon> </g> <!-- b&#45;&gt;x2 --> <g id="edge5" class="edge">
<title>
b-&gt;x2
</title>
<path fill="none" stroke="black" d="M54.42,-134C63.4,-134 73.59,-134 83.2,-134"></path> <polygon fill="black" stroke="black" points="83.3,-137.5 93.3,-134 83.3,-130.5 83.3,-137.5"></polygon> </g> <!-- b&#45;&gt;x100 --> <g id="edge6" class="edge">
<title>
b-&gt;x100
</title>
<path fill="none" stroke="black" d="M40.7,-117.87C56.09,-98.33 82.17,-65.21 100.05,-42.51"></path> <polygon fill="black" stroke="black" points="103.02,-44.39 106.46,-34.37 97.53,-40.06 103.02,-44.39"></polygon> </g> <!-- z&#45;&gt;x1 --> <g id="edge7" class="edge">
<title>
z-&gt;x1
</title>
<path fill="none" stroke="black" d="M37.09,-34.92C53.1,-64.71 86.4,-126.68 105.35,-161.95"></path> <polygon fill="black" stroke="black" points="102.48,-163.99 110.29,-171.15 108.64,-160.68 102.48,-163.99"></polygon> </g> <!-- z&#45;&gt;x2 --> <g id="edge8" class="edge">
<title>
z-&gt;x2
</title>
<path fill="none" stroke="black" d="M40.7,-34.13C56.18,-53.78 82.47,-87.16 100.35,-109.88"></path> <polygon fill="black" stroke="black" points="97.82,-112.32 106.76,-118.01 103.32,-107.99 97.82,-112.32"></polygon> </g> <!-- z&#45;&gt;x100 --> <g id="edge9" class="edge">
<title>
z-&gt;x100
</title>
<path fill="none" stroke="black" d="M54.42,-18C62.29,-18 71.09,-18 79.61,-18"></path> <polygon fill="black" stroke="black" points="79.78,-21.5 89.78,-18 79.78,-14.5 79.78,-21.5"></polygon> </g> <!-- x1&#45;&gt;x2 --> <!-- Y --> <g id="node9" class="node">
<title>
Y
</title>
<ellipse fill="none" stroke="black" cx="213.7" cy="-134" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="213.7" y="-129.8" font-family="Times,serif" font-size="14.00">Y</text> </g> <!-- x1&#45;&gt;Y --> <g id="edge10" class="edge">
<title>
x1-&gt;Y
</title>
<path fill="none" stroke="black" d="M141.17,-176.28C153.74,-168.85 170.21,-159.12 184.17,-150.87"></path> <polygon fill="black" stroke="black" points="186.09,-153.8 192.92,-145.69 182.53,-147.77 186.09,-153.8"></polygon> </g> <!-- x2&#45;&gt;E2 --> <!-- x2&#45;&gt;Y --> <g id="edge11" class="edge">
<title>
x2-&gt;Y
</title>
<path fill="none" stroke="black" d="M147.77,-134C156.75,-134 166.94,-134 176.55,-134"></path> <polygon fill="black" stroke="black" points="176.65,-137.5 186.65,-134 176.65,-130.5 176.65,-137.5"></polygon> </g> <!-- x100&#45;&gt;Y --> <g id="edge12" class="edge">
<title>
x100-&gt;Y
</title>
<path fill="none" stroke="black" d="M134.05,-34.13C149.53,-53.78 175.82,-87.16 193.7,-109.88"></path> <polygon fill="black" stroke="black" points="191.17,-112.32 200.11,-118.01 196.67,-107.99 191.17,-112.32"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 438.00 222.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 218)">
<title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-218 434,-218 434,4 -4,4"></polygon> <g id="clust2" class="cluster">
<title>
clusterX
</title>
<polygon fill="none" stroke="black" points="8,-100 8,-206 348,-206 348,-100 8,-100"></polygon> </g> <!-- n1 --> <g id="node1" class="node">
<title>
n1
</title>
</g> <!-- n2 --> <g id="node2" class="node">
<title>
n2
</title>
</g> <!-- n1&#45;&gt;n2 --> <g id="edge1" class="edge">
<title>
n1-&gt;n2
</title>
<path fill="none" stroke="black" d="M70.4,-53.1C78.48,-55.58 87.51,-58.35 96.1,-60.99"></path> <polygon fill="black" stroke="black" points="95.33,-64.41 105.92,-64 97.39,-57.72 95.33,-64.41"></polygon> </g> <!-- n3 --> <g id="node3" class="node">
<title>
n3
</title>
</g> <!-- n1&#45;&gt;n3 --> <g id="edge2" class="edge">
<title>
n1-&gt;n3
</title>
<path fill="none" stroke="black" d="M70.4,-36.9C78.48,-34.42 87.51,-31.65 96.1,-29.01"></path> <polygon fill="black" stroke="black" points="97.39,-32.28 105.92,-26 95.33,-25.59 97.39,-32.28"></polygon> </g> <!-- n4 --> <g id="node4" class="node">
<title>
n4
</title>
<polygon fill="none" stroke="black" points="250,-90 196,-90 196,-54 250,-54 250,-90"></polygon> </g> <!-- n2&#45;&gt;n4 --> <g id="edge3" class="edge">
<title>
n2-&gt;n4
</title>
<path fill="none" stroke="black" d="M160.4,-72C168.39,-72 177.31,-72 185.82,-72"></path> <polygon fill="black" stroke="black" points="185.92,-75.5 195.92,-72 185.92,-68.5 185.92,-75.5"></polygon> </g> <!-- n5 --> <g id="node5" class="node">
<title>
n5
</title>
<ellipse fill="none" stroke="black" cx="313" cy="-72" rx="18" ry="18"></ellipse> </g> <!-- n4&#45;&gt;n5 --> <g id="edge4" class="edge">
<title>
n4-&gt;n5
</title>
<path fill="none" stroke="black" d="M250.4,-72C261.19,-72 273.66,-72 284.55,-72"></path> <polygon fill="black" stroke="black" points="284.79,-75.5 294.79,-72 284.79,-68.5 284.79,-75.5"></polygon> </g> <!-- n6 --> <g id="node6" class="node">
<title>
n6
</title>
<polygon fill="none" stroke="black" points="430,-90 376,-90 376,-54 430,-54 430,-90"></polygon> </g> <!-- n5&#45;&gt;n6 --> <g id="edge5" class="edge">
<title>
n5-&gt;n6
</title>
<path fill="none" stroke="black" d="M331.39,-72C341.23,-72 353.91,-72 365.81,-72"></path> <polygon fill="black" stroke="black" points="365.97,-75.5 375.97,-72 365.97,-68.5 365.97,-75.5"></polygon> </g> <!-- J1 --> <g id="node7" class="node">
<title>
J1
</title>
</g> <!-- J2 --> <g id="node8" class="node">
<title>
J2
</title>
<polygon fill="none" stroke="black" points="160,-144 106,-144 106,-108 160,-108 160,-144"></polygon> </g> <!-- J1&#45;&gt;J2 --> <g id="edge6" class="edge">
<title>
J1-&gt;J2
</title>
<path fill="none" stroke="black" d="M70.4,-144.9C78.48,-142.42 87.51,-139.65 96.1,-137.01"></path> <polygon fill="black" stroke="black" points="97.39,-140.28 105.92,-134 95.33,-133.59 97.39,-140.28"></polygon> </g> <!-- J6 --> <g id="node11" class="node">
<title>
J6
</title>
<ellipse fill="none" stroke="black" cx="133" cy="-180" rx="18" ry="18"></ellipse> </g> <!-- J1&#45;&gt;J6 --> <g id="edge7" class="edge">
<title>
J1-&gt;J6
</title>
<path fill="none" stroke="black" d="M70.4,-161.1C81.64,-164.55 94.72,-168.56 105.92,-172"></path> <polygon fill="black" stroke="black" points="104.99,-175.38 115.58,-174.96 107.05,-168.68 104.99,-175.38"></polygon> </g> <!-- J4 --> <g id="node9" class="node">
<title>
J4
</title>
</g> <!-- J5 --> <g id="node10" class="node">
<title>
J5
</title>
<polygon fill="none" stroke="black" points="250,-198 196,-198 196,-162 250,-162 250,-198"></polygon> </g> <!-- J5&#45;&gt;J4 --> <g id="edge9" class="edge">
<title>
J5-&gt;J4
</title>
<path fill="none" stroke="black" d="M250.4,-180C258.39,-180 267.31,-180 275.82,-180"></path> <polygon fill="black" stroke="black" points="275.92,-183.5 285.92,-180 275.92,-176.5 275.92,-183.5"></polygon> </g> <!-- J6&#45;&gt;J5 --> <g id="edge8" class="edge">
<title>
J6-&gt;J5
</title>
<path fill="none" stroke="black" d="M151.39,-180C161.23,-180 173.91,-180 185.81,-180"></path> <polygon fill="black" stroke="black" points="185.97,-183.5 195.97,-180 185.97,-176.5 185.97,-183.5"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 248.70 214.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 210)">
<title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-210 244.7,-210 244.7,4 -4,4"></polygon> <!-- E1 --> <g id="node1" class="node">
<title>
E1
</title>
<ellipse fill="none" stroke="black" cx="27" cy="-80" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="27" y="-75.8" font-family="Times,serif" font-size="14.00">E1</text> </g> <!-- z --> <g id="node5" class="node">
<title>
z
</title>
<ellipse fill="none" stroke="black" cx="27" cy="-26" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="27" y="-21.8" font-family="Times,serif" font-size="14.00">z</text> </g> <!-- E1&#45;&gt;z --> <!-- E2 --> <g id="node2" class="node">
<title>
E2
</title>
<text text-anchor="middle" x="120.35" y="-67" font-family="Times,serif" font-size="30.00">⋮</text> </g> <!-- x100 --> <g id="node8" class="node">
<title>
x100
</title>
<ellipse fill="none" stroke="black" cx="120.35" cy="-18" rx="30.2" ry="18"></ellipse> <text text-anchor="middle" x="120.35" y="-13.8" font-family="Times,serif" font-size="14.00">x100</text> </g> <!-- E2&#45;&gt;x100 --> <!-- a --> <g id="node3" class="node">
<title>
a
</title>
<ellipse fill="none" stroke="black" cx="27" cy="-188" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="27" y="-183.8" font-family="Times,serif" font-size="14.00">a</text> </g> <!-- b --> <g id="node4" class="node">
<title>
b
</title>
<ellipse fill="none" stroke="black" cx="27" cy="-134" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="27" y="-129.8" font-family="Times,serif" font-size="14.00">b</text> </g> <!-- a&#45;&gt;b --> <!-- x1 --> <g id="node6" class="node">
<title>
x1
</title>
<ellipse fill="none" stroke="black" cx="120.35" cy="-188" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="120.35" y="-183.8" font-family="Times,serif" font-size="14.00">x1</text> </g> <!-- a&#45;&gt;x1 --> <g id="edge1" class="edge">
<title>
a-&gt;x1
</title>
<path fill="none" stroke="black" d="M54.42,-188C63.4,-188 73.59,-188 83.2,-188"></path> <polygon fill="black" stroke="black" points="83.3,-191.5 93.3,-188 83.3,-184.5 83.3,-191.5"></polygon> </g> <!-- x2 --> <g id="node7" class="node">
<title>
x2
</title>
<ellipse fill="none" stroke="black" cx="120.35" cy="-134" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="120.35" y="-129.8" font-family="Times,serif" font-size="14.00">x2</text> </g> <!-- a&#45;&gt;x2 --> <g id="edge2" class="edge">
<title>
a-&gt;x2
</title>
<path fill="none" stroke="black" d="M47.82,-176.28C60.39,-168.85 76.85,-159.12 90.82,-150.87"></path> <polygon fill="black" stroke="black" points="92.74,-153.8 99.57,-145.69 89.18,-147.77 92.74,-153.8"></polygon> </g> <!-- a&#45;&gt;x100 --> <g id="edge3" class="edge">
<title>
a-&gt;x100
</title>
<path fill="none" stroke="black" d="M37.09,-171.08C53.06,-141.37 86.23,-79.64 105.21,-44.32"></path> <polygon fill="black" stroke="black" points="108.51,-45.57 110.16,-35.11 102.34,-42.26 108.51,-45.57"></polygon> </g> <!-- b&#45;&gt;E1 --> <!-- b&#45;&gt;x1 --> <g id="edge4" class="edge">
<title>
b-&gt;x1
</title>
<path fill="none" stroke="black" d="M47.82,-145.72C60.39,-153.15 76.85,-162.88 90.82,-171.13"></path> <polygon fill="black" stroke="black" points="89.18,-174.23 99.57,-176.31 92.74,-168.2 89.18,-174.23"></polygon> </g> <!-- b&#45;&gt;x2 --> <g id="edge5" class="edge">
<title>
b-&gt;x2
</title>
<path fill="none" stroke="black" d="M54.42,-134C63.4,-134 73.59,-134 83.2,-134"></path> <polygon fill="black" stroke="black" points="83.3,-137.5 93.3,-134 83.3,-130.5 83.3,-137.5"></polygon> </g> <!-- b&#45;&gt;x100 --> <g id="edge6" class="edge">
<title>
b-&gt;x100
</title>
<path fill="none" stroke="black" d="M40.7,-117.87C56.09,-98.33 82.17,-65.21 100.05,-42.51"></path> <polygon fill="black" stroke="black" points="103.02,-44.39 106.46,-34.37 97.53,-40.06 103.02,-44.39"></polygon> </g> <!-- z&#45;&gt;x1 --> <g id="edge7" class="edge">
<title>
z-&gt;x1
</title>
<path fill="none" stroke="black" d="M37.43,-42.73C53.43,-71.1 85.99,-128.85 104.89,-162.36"></path> <polygon fill="black" stroke="black" points="101.87,-164.13 109.83,-171.12 107.97,-160.69 101.87,-164.13"></polygon> </g> <!-- z&#45;&gt;x2 --> <g id="edge8" class="edge">
<title>
z-&gt;x2
</title>
<path fill="none" stroke="black" d="M41.09,-41.47C56.42,-59.6 81.97,-89.81 99.69,-110.75"></path> <polygon fill="black" stroke="black" points="97.16,-113.18 106.29,-118.55 102.5,-108.66 97.16,-113.18"></polygon> </g> <!-- z&#45;&gt;x100 --> <g id="edge9" class="edge">
<title>
z-&gt;x100
</title>
<path fill="none" stroke="black" d="M53.93,-23.73C62.05,-23.02 71.19,-22.22 80.01,-21.45"></path> <polygon fill="black" stroke="black" points="80.48,-24.92 90.14,-20.56 79.87,-17.94 80.48,-24.92"></polygon> </g> <!-- x1&#45;&gt;x2 --> <!-- Y --> <g id="node9" class="node">
<title>
Y
</title>
<ellipse fill="none" stroke="black" cx="213.7" cy="-134" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="213.7" y="-129.8" font-family="Times,serif" font-size="14.00">Y</text> </g> <!-- x1&#45;&gt;Y --> <g id="edge10" class="edge">
<title>
x1-&gt;Y
</title>
<path fill="none" stroke="black" d="M141.17,-176.28C153.74,-168.85 170.21,-159.12 184.17,-150.87"></path> <polygon fill="black" stroke="black" points="186.09,-153.8 192.92,-145.69 182.53,-147.77 186.09,-153.8"></polygon> </g> <!-- x2&#45;&gt;E2 --> <!-- x2&#45;&gt;Y --> <g id="edge11" class="edge">
<title>
x2-&gt;Y
</title>
<path fill="none" stroke="black" d="M147.77,-134C156.75,-134 166.94,-134 176.55,-134"></path> <polygon fill="black" stroke="black" points="176.65,-137.5 186.65,-134 176.65,-130.5 176.65,-137.5"></polygon> </g> <!-- x100&#45;&gt;Y --> <g id="edge12" class="edge">
<title>
x100-&gt;Y
</title>
<path fill="none" stroke="black" d="M134.05,-34.13C149.53,-53.78 175.82,-87.16 193.7,-109.88"></path> <polygon fill="black" stroke="black" points="191.17,-112.32 200.11,-118.01 196.67,-107.99 191.17,-112.32"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 242.00 44.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 40)">
<title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-40 238,-40 238,4 -4,4"></polygon> <!-- n1 --> <g id="node1" class="node">
<title>
n1
</title>
</g> <!-- n2 --> <g id="node2" class="node">
<title>
n2
</title>
</g> <!-- n1&#45;&gt;n2 --> <g id="edge1" class="edge">
<title>
n1-&gt;n2
</title>
<path fill="none" stroke="black" d="M54.4,-18C62.39,-18 71.31,-18 79.82,-18"></path> <polygon fill="black" stroke="black" points="79.92,-21.5 89.92,-18 79.92,-14.5 79.92,-21.5"></polygon> </g> <!-- n4 --> <g id="node3" class="node">
<title>
n4
</title>
</g> <!-- n2&#45;&gt;n4 --> <g id="edge2" class="edge">
<title>
n2-&gt;n4
</title>
<path fill="none" stroke="black" d="M144.4,-18C152.39,-18 161.31,-18 169.82,-18"></path> <polygon fill="black" stroke="black" points="169.92,-21.5 179.92,-18 169.92,-14.5 169.92,-21.5"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 306.83 286.84" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 282.84)">
<title>
ALM
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-282.84 302.83,-282.84 302.83,4 -4,4"></polygon> <!-- Input1 --> <g id="node1" class="node">
<title>
Input1
</title>
<ellipse fill="chartreuse" stroke="chartreuse" cx="40.85" cy="-153.84" rx="22.68" ry="22.68"></ellipse> <text text-anchor="start" x="32.29" y="-150.64" font-family="Times,serif" font-size="14.00">X</text> <text text-anchor="start" x="42.4" y="-150.64" font-family="Times,serif" baseline-shift="sub" font-size="14.00">1</text> </g> <!-- Input2 --> <g id="node2" class="node">
<title>
Input2
</title>
<ellipse fill="chartreuse" stroke="chartreuse" cx="40.85" cy="-62.84" rx="22.68" ry="22.68"></ellipse> <text text-anchor="start" x="32.29" y="-59.64" font-family="Times,serif" font-size="14.00">X</text> <text text-anchor="start" x="42.4" y="-59.64" font-family="Times,serif" baseline-shift="sub" font-size="14.00">2</text> </g> <!-- Input1&#45;&gt;Input2 --> <!-- Output1 --> <g id="node3" class="node">
<title>
Output1
</title>
<ellipse fill="#ff7256" stroke="#ff7256" cx="253.32" cy="-184.84" rx="22.68" ry="22.68"></ellipse> <text text-anchor="start" x="244.76" y="-181.64" font-family="Times,serif" font-size="14.00">Y</text> <text text-anchor="start" x="254.87" y="-181.64" font-family="Times,serif" baseline-shift="sub" font-size="14.00">1</text> </g> <!-- Input1&#45;&gt;Output1 --> <g id="edge6" class="edge">
<title>
Input1:e-&gt;Output1:w
</title>
<path fill="none" stroke="black" d="M64.85,-153.84C64.85,-153.84 183.02,-176.11 219.03,-182.9"></path> <polygon fill="black" stroke="black" points="218.84,-186.43 229.32,-184.84 220.14,-179.55 218.84,-186.43"></polygon> <text text-anchor="start" x="132.69" y="-187.04" font-family="Times,serif" font-size="14.00">w</text> <text text-anchor="start" x="142.8" y="-187.04" font-family="Times,serif" baseline-shift="sub" font-size="14.00">11</text> </g> <!-- Output2 --> <g id="node4" class="node">
<title>
Output2
</title>
<ellipse fill="#ff7256" stroke="#ff7256" cx="253.32" cy="-103.84" rx="22.68" ry="22.68"></ellipse> <text text-anchor="start" x="244.76" y="-100.64" font-family="Times,serif" font-size="14.00">Y</text> <text text-anchor="start" x="254.87" y="-100.64" font-family="Times,serif" baseline-shift="sub" font-size="14.00">2</text> </g> <!-- Input1&#45;&gt;Output2 --> <g id="edge7" class="edge">
<title>
Input1:e-&gt;Output2:w
</title>
<path fill="none" stroke="black" d="M64.85,-153.84C64.85,-153.84 184.12,-117.58 219.52,-106.82"></path> <polygon fill="black" stroke="black" points="220.77,-110.1 229.32,-103.84 218.73,-103.4 220.77,-110.1"></polygon> <text text-anchor="start" x="132.69" y="-149.04" font-family="Times,serif" font-size="14.00">w</text> <text text-anchor="start" x="142.8" y="-149.04" font-family="Times,serif" baseline-shift="sub" font-size="14.00">12</text> </g> <!-- Output3 --> <g id="node5" class="node">
<title>
Output3
</title>
<ellipse fill="#ff7256" stroke="#ff7256" cx="253.32" cy="-22.84" rx="22.68" ry="22.68"></ellipse> <text text-anchor="start" x="244.76" y="-19.64" font-family="Times,serif" font-size="14.00">Y</text> <text text-anchor="start" x="254.87" y="-19.64" font-family="Times,serif" baseline-shift="sub" font-size="14.00">3</text> </g> <!-- Input1&#45;&gt;Output3 --> <g id="edge8" class="edge">
<title>
Input1:e-&gt;Output3:w
</title>
<path fill="none" stroke="black" d="M64.85,-153.84C64.85,-153.84 188.53,-55.33 221.39,-29.16"></path> <polygon fill="black" stroke="black" points="223.68,-31.81 229.32,-22.84 219.32,-26.33 223.68,-31.81"></polygon> <text text-anchor="start" x="132.69" y="-91.04" font-family="Times,serif" font-size="14.00">w</text> <text text-anchor="start" x="142.8" y="-91.04" font-family="Times,serif" baseline-shift="sub" font-size="14.00">13</text> </g> <!-- Input2&#45;&gt;Output1 --> <g id="edge9" class="edge">
<title>
Input2:e-&gt;Output1:w
</title>
<path fill="none" stroke="black" d="M64.85,-62.84C64.85,-62.84 187.42,-153.76 220.94,-178.62"></path> <polygon fill="black" stroke="black" points="219.2,-181.69 229.32,-184.84 223.37,-176.07 219.2,-181.69"></polygon> <text text-anchor="start" x="132.69" y="-126.04" font-family="Times,serif" font-size="14.00">w</text> <text text-anchor="start" x="142.8" y="-126.04" font-family="Times,serif" baseline-shift="sub" font-size="14.00">21</text> </g> <!-- Input2&#45;&gt;Output2 --> <g id="edge10" class="edge">
<title>
Input2:e-&gt;Output2:w
</title>
<path fill="none" stroke="black" d="M64.85,-62.84C64.85,-62.84 184.12,-92.57 219.52,-101.4"></path> <polygon fill="black" stroke="black" points="218.77,-104.82 229.32,-103.84 220.46,-98.02 218.77,-104.82"></polygon> <text text-anchor="start" x="132.69" y="-51.04" font-family="Times,serif" font-size="14.00">w</text> <text text-anchor="start" x="142.8" y="-51.04" font-family="Times,serif" baseline-shift="sub" font-size="14.00">22</text> </g> <!-- Input2&#45;&gt;Output3 --> <g id="edge11" class="edge">
<title>
Input2:e-&gt;Output3:w
</title>
<path fill="none" stroke="black" d="M64.85,-62.84C64.85,-62.84 184.12,-33.83 219.52,-25.22"></path> <polygon fill="black" stroke="black" points="220.43,-28.6 229.32,-22.84 218.78,-21.8 220.43,-28.6"></polygon> <text text-anchor="start" x="132.69" y="-11.04" font-family="Times,serif" font-size="14.00">w</text> <text text-anchor="start" x="142.8" y="-11.04" font-family="Times,serif" baseline-shift="sub" font-size="14.00">23</text> </g> <!-- Output1&#45;&gt;Output2 --> <!-- Output2&#45;&gt;Output3 --> <!-- label_input --> <g id="node6" class="node">
<title>
label_input
</title>
<text text-anchor="middle" x="40.85" y="-225.64" font-family="Times,serif" font-size="14.00">Input Layer</text> </g> <!-- label_input&#45;&gt;Input1 --> <!-- label_output --> <g id="node7" class="node">
<title>
label_output
</title>
<text text-anchor="middle" x="253.32" y="-256.64" font-family="Times,serif" font-size="14.00">Output Layer</text> </g> <!-- label_output&#45;&gt;Output1 --> </g>
</svg>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 602.85 462.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 458)">
<title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-458 598.85,-458 598.85,4 -4,4"></polygon> <g id="clust1" class="cluster">
<title>
cluster_0
</title>
<polygon fill="none" stroke="white" points="0,-85 0,-302 127.39,-302 127.39,-85 0,-85"></polygon> <text text-anchor="middle" x="63.69" y="-285.4" font-family="Times,serif" font-size="14.00">layer 1 (input layer)</text> </g> <g id="clust2" class="cluster">
<title>
cluster_1
</title>
<polygon fill="none" stroke="white" points="147.39,-8 147.39,-446 284.21,-446 284.21,-8 147.39,-8"></polygon> <text text-anchor="middle" x="215.8" y="-429.4" font-family="Times,serif" font-size="14.00">layer 2 (hidden layer)</text> </g> <g id="clust3" class="cluster">
<title>
cluster_2
</title>
<polygon fill="none" stroke="white" points="304.21,-8 304.21,-446 441.03,-446 441.03,-8 304.21,-8"></polygon> <text text-anchor="middle" x="372.62" y="-429.4" font-family="Times,serif" font-size="14.00">layer 3 (hidden layer)</text> </g> <g id="clust4" class="cluster">
<title>
cluster_3
</title>
<polygon fill="none" stroke="white" points="461.03,-75 461.03,-379 594.85,-379 594.85,-75 461.03,-75"></polygon> <text text-anchor="middle" x="527.94" y="-362.4" font-family="Times,serif" font-size="14.00">layer 4 (output layer)</text> </g> <!-- x0 --> <g id="node1" class="node">
<title>
x0
</title>
<ellipse fill="yellow" stroke="yellow" cx="63.69" cy="-249" rx="20.89" ry="20.89"></ellipse> <text text-anchor="start" x="56.69" y="-245.8" font-family="Times,serif" font-size="14.00">x</text> <text text-anchor="start" x="63.69" y="-245.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">0</text> </g> <!-- a02 --> <g id="node5" class="node">
<title>
a02
</title>
<ellipse fill="yellow" stroke="yellow" cx="215.8" cy="-382" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="201.03" y="-378.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="207.24" y="-378.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">0</text> <text text-anchor="start" x="214.24" y="-378.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(2)</text> </g> <!-- x0&#45;&gt;a02 --> <g id="edge1" class="edge">
<title>
x0:e-&gt;a02:w
</title>
</g> <!-- a12 --> <g id="node6" class="node">
<title>
a12
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="215.8" cy="-47" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="201.03" y="-43.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="207.24" y="-43.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">5</text> <text text-anchor="start" x="214.24" y="-43.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(2)</text> </g> <!-- x0&#45;&gt;a12 --> <g id="edge2" class="edge">
<title>
x0:e-&gt;a12:w
</title>
<path fill="none" stroke="black" d="M85.69,-249C85.69,-249 159.38,-95.72 178.37,-56.2"></path> <polygon fill="black" stroke="black" points="181.62,-57.53 182.8,-47 175.31,-54.5 181.62,-57.53"></polygon> </g> <!-- a22 --> <g id="node7" class="node">
<title>
a22
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="215.8" cy="-315" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="201.03" y="-311.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="207.24" y="-311.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">1</text> <text text-anchor="start" x="214.24" y="-311.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(2)</text> </g> <!-- x0&#45;&gt;a22 --> <g id="edge3" class="edge">
<title>
x0:e-&gt;a22:w
</title>
<path fill="none" stroke="black" d="M85.69,-249C85.69,-249 151.04,-293.41 174.52,-309.37"></path> <polygon fill="black" stroke="black" points="172.56,-312.27 182.8,-315 176.5,-306.48 172.56,-312.27"></polygon> </g> <!-- a32 --> <g id="node8" class="node">
<title>
a32
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="215.8" cy="-248" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="201.03" y="-244.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="207.24" y="-244.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">2</text> <text text-anchor="start" x="214.24" y="-244.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(2)</text> </g> <!-- x0&#45;&gt;a32 --> <g id="edge4" class="edge">
<title>
x0:e-&gt;a32:w
</title>
<path fill="none" stroke="black" d="M85.69,-249C85.69,-249 147.96,-248.36 172.77,-248.1"></path> <polygon fill="black" stroke="black" points="172.83,-251.6 182.8,-248 172.76,-244.6 172.83,-251.6"></polygon> </g> <!-- a42 --> <g id="node9" class="node">
<title>
a42
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="215.8" cy="-181" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="201.03" y="-177.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="207.24" y="-177.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">3</text> <text text-anchor="start" x="214.24" y="-177.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(2)</text> </g> <!-- x0&#45;&gt;a42 --> <g id="edge5" class="edge">
<title>
x0:e-&gt;a42:w
</title>
<path fill="none" stroke="black" d="M85.69,-249C85.69,-249 151.04,-203.24 174.52,-186.8"></path> <polygon fill="black" stroke="black" points="176.61,-189.6 182.8,-181 172.6,-183.87 176.61,-189.6"></polygon> </g> <!-- a52 --> <g id="node10" class="node">
<title>
a52
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="215.8" cy="-114" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="201.03" y="-110.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="207.24" y="-110.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">4</text> <text text-anchor="start" x="214.24" y="-110.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(2)</text> </g> <!-- x0&#45;&gt;a52 --> <g id="edge6" class="edge">
<title>
x0:e-&gt;a52:w
</title>
<path fill="none" stroke="black" d="M85.69,-249C85.69,-249 155.47,-152 176.72,-122.44"></path> <polygon fill="black" stroke="black" points="179.8,-124.16 182.8,-114 174.12,-120.07 179.8,-124.16"></polygon> </g> <!-- x1 --> <g id="node2" class="node">
<title>
x1
</title>
<ellipse fill="chartreuse" stroke="chartreuse" cx="63.69" cy="-204" rx="20.89" ry="20.89"></ellipse> <text text-anchor="start" x="56.69" y="-200.8" font-family="Times,serif" font-size="14.00">x</text> <text text-anchor="start" x="63.69" y="-200.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">1</text> </g> <!-- x1&#45;&gt;a12 --> <g id="edge7" class="edge">
<title>
x1:e-&gt;a12:w
</title>
<path fill="none" stroke="black" d="M85.69,-204C85.69,-204 156.76,-89.1 177.3,-55.89"></path> <polygon fill="black" stroke="black" points="180.51,-57.35 182.8,-47 174.56,-53.66 180.51,-57.35"></polygon> </g> <!-- x1&#45;&gt;a22 --> <g id="edge8" class="edge">
<title>
x1:e-&gt;a22:w
</title>
<path fill="none" stroke="black" d="M85.69,-204C85.69,-204 154.19,-282.29 176.12,-307.37"></path> <polygon fill="black" stroke="black" points="173.58,-309.78 182.8,-315 178.85,-305.17 173.58,-309.78"></polygon> </g> <!-- x1&#45;&gt;a32 --> <g id="edge9" class="edge">
<title>
x1:e-&gt;a32:w
</title>
<path fill="none" stroke="black" d="M85.69,-204C85.69,-204 149.18,-232.77 173.49,-243.78"></path> <polygon fill="black" stroke="black" points="172.25,-247.06 182.8,-248 175.13,-240.68 172.25,-247.06"></polygon> </g> <!-- x1&#45;&gt;a42 --> <g id="edge10" class="edge">
<title>
x1:e-&gt;a42:w
</title>
<path fill="none" stroke="black" d="M85.69,-204C85.69,-204 147.96,-189.25 172.77,-183.37"></path> <polygon fill="black" stroke="black" points="173.87,-186.71 182.8,-181 172.26,-179.9 173.87,-186.71"></polygon> </g> <!-- x1&#45;&gt;a52 --> <g id="edge11" class="edge">
<title>
x1:e-&gt;a52:w
</title>
<path fill="none" stroke="black" d="M85.69,-204C85.69,-204 152.29,-142.28 175.18,-121.06"></path> <polygon fill="black" stroke="black" points="177.84,-123.36 182.8,-114 173.08,-118.23 177.84,-123.36"></polygon> </g> <!-- x2 --> <g id="node3" class="node">
<title>
x2
</title>
<ellipse fill="chartreuse" stroke="chartreuse" cx="63.69" cy="-159" rx="20.89" ry="20.89"></ellipse> <text text-anchor="start" x="56.69" y="-155.8" font-family="Times,serif" font-size="14.00">x</text> <text text-anchor="start" x="63.69" y="-155.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">2</text> </g> <!-- x2&#45;&gt;a12 --> <g id="edge12" class="edge">
<title>
x2:e-&gt;a12:w
</title>
<path fill="none" stroke="black" d="M85.69,-159C85.69,-159 154.19,-80 176.12,-54.7"></path> <polygon fill="black" stroke="black" points="178.89,-56.85 182.8,-47 173.6,-52.26 178.89,-56.85"></polygon> </g> <!-- x2&#45;&gt;a22 --> <g id="edge13" class="edge">
<title>
x2:e-&gt;a22:w
</title>
<path fill="none" stroke="black" d="M85.69,-159C85.69,-159 156.76,-273.16 177.3,-306.17"></path> <polygon fill="black" stroke="black" points="174.54,-308.36 182.8,-315 180.49,-304.66 174.54,-308.36"></polygon> </g> <!-- x2&#45;&gt;a32 --> <g id="edge14" class="edge">
<title>
x2:e-&gt;a32:w
</title>
<path fill="none" stroke="black" d="M85.69,-159C85.69,-159 152.29,-220.04 175.18,-241.02"></path> <polygon fill="black" stroke="black" points="173.06,-243.82 182.8,-248 177.79,-238.66 173.06,-243.82"></polygon> </g> <!-- x2&#45;&gt;a42 --> <g id="edge15" class="edge">
<title>
x2:e-&gt;a42:w
</title>
<path fill="none" stroke="black" d="M85.69,-159C85.69,-159 147.96,-173.11 172.77,-178.73"></path> <polygon fill="black" stroke="black" points="172.27,-182.2 182.8,-181 173.82,-175.38 172.27,-182.2"></polygon> </g> <!-- x2&#45;&gt;a52 --> <g id="edge16" class="edge">
<title>
x2:e-&gt;a52:w
</title>
<path fill="none" stroke="black" d="M85.69,-159C85.69,-159 149.18,-129.58 173.49,-118.31"></path> <polygon fill="black" stroke="black" points="175.2,-121.38 182.8,-114 172.25,-115.03 175.2,-121.38"></polygon> </g> <!-- x3 --> <g id="node4" class="node">
<title>
x3
</title>
<ellipse fill="chartreuse" stroke="chartreuse" cx="63.69" cy="-114" rx="20.89" ry="20.89"></ellipse> <text text-anchor="start" x="56.69" y="-110.8" font-family="Times,serif" font-size="14.00">x</text> <text text-anchor="start" x="63.69" y="-110.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">3</text> </g> <!-- x3&#45;&gt;a12 --> <g id="edge17" class="edge">
<title>
x3:e-&gt;a12:w
</title>
<path fill="none" stroke="black" d="M85.69,-114C85.69,-114 151.04,-68.91 174.52,-52.71"></path> <polygon fill="black" stroke="black" points="176.56,-55.56 182.8,-47 172.58,-49.8 176.56,-55.56"></polygon> </g> <!-- x3&#45;&gt;a22 --> <g id="edge18" class="edge">
<title>
x3:e-&gt;a22:w
</title>
<path fill="none" stroke="black" d="M85.69,-114C85.69,-114 159.38,-266.52 178.37,-305.84"></path> <polygon fill="black" stroke="black" points="175.3,-307.52 182.8,-315 181.6,-304.47 175.3,-307.52"></polygon> </g> <!-- x3&#45;&gt;a32 --> <g id="edge19" class="edge">
<title>
x3:e-&gt;a32:w
</title>
<path fill="none" stroke="black" d="M85.69,-114C85.69,-114 155.47,-210.28 176.72,-239.62"></path> <polygon fill="black" stroke="black" points="174.1,-241.96 182.8,-248 179.76,-237.85 174.1,-241.96"></polygon> </g> <!-- x3&#45;&gt;a42 --> <g id="edge20" class="edge">
<title>
x3:e-&gt;a42:w
</title>
<path fill="none" stroke="black" d="M85.69,-114C85.69,-114 151.04,-159.09 174.52,-175.29"></path> <polygon fill="black" stroke="black" points="172.58,-178.2 182.8,-181 176.56,-172.44 172.58,-178.2"></polygon> </g> <!-- x3&#45;&gt;a52 --> <g id="edge21" class="edge">
<title>
x3:e-&gt;a52:w
</title>
<path fill="none" stroke="black" d="M85.69,-114C85.69,-114 147.96,-114 172.77,-114"></path> <polygon fill="black" stroke="black" points="172.8,-117.5 182.8,-114 172.8,-110.5 172.8,-117.5"></polygon> </g> <!-- a03 --> <g id="node11" class="node">
<title>
a03
</title>
<ellipse fill="yellow" stroke="yellow" cx="372.62" cy="-382" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="357.85" y="-378.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="364.07" y="-378.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">0</text> <text text-anchor="start" x="371.07" y="-378.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(3)</text> </g> <!-- a02&#45;&gt;a03 --> <g id="edge22" class="edge">
<title>
a02:e-&gt;a03:w
</title>
</g> <!-- a13 --> <g id="node12" class="node">
<title>
a13
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="372.62" cy="-181" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="357.85" y="-177.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="364.07" y="-177.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">3</text> <text text-anchor="start" x="371.07" y="-177.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(3)</text> </g> <!-- a02&#45;&gt;a13 --> <g id="edge23" class="edge">
<title>
a02:e-&gt;a13:w
</title>
<path fill="none" stroke="black" d="M248.8,-382C248.8,-382 317.71,-229.48 335.48,-190.16"></path> <polygon fill="black" stroke="black" points="338.69,-191.55 339.62,-181 332.31,-188.67 338.69,-191.55"></polygon> </g> <!-- a23 --> <g id="node13" class="node">
<title>
a23
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="372.62" cy="-114" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="357.85" y="-110.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="364.07" y="-110.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">4</text> <text text-anchor="start" x="371.07" y="-110.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(3)</text> </g> <!-- a02&#45;&gt;a23 --> <g id="edge24" class="edge">
<title>
a02:e-&gt;a23:w
</title>
<path fill="none" stroke="black" d="M248.8,-382C248.8,-382 320.21,-171.28 336.39,-123.54"></path> <polygon fill="black" stroke="black" points="339.73,-124.59 339.62,-114 333.1,-122.35 339.73,-124.59"></polygon> </g> <!-- a33 --> <g id="node14" class="node">
<title>
a33
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="372.62" cy="-47" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="357.85" y="-43.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="364.07" y="-43.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">5</text> <text text-anchor="start" x="371.07" y="-43.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(3)</text> </g> <!-- a02&#45;&gt;a33 --> <g id="edge25" class="edge">
<title>
a02:e-&gt;a33:w
</title>
<path fill="none" stroke="black" d="M248.8,-382C248.8,-382 322.11,-111.59 337,-56.66"></path> <polygon fill="black" stroke="black" points="340.38,-57.57 339.62,-47 333.63,-55.74 340.38,-57.57"></polygon> </g> <!-- a43 --> <g id="node15" class="node">
<title>
a43
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="372.62" cy="-315" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="357.85" y="-311.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="364.07" y="-311.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">1</text> <text text-anchor="start" x="371.07" y="-311.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(3)</text> </g> <!-- a02&#45;&gt;a43 --> <g id="edge26" class="edge">
<title>
a02:e-&gt;a43:w
</title>
<path fill="none" stroke="black" d="M248.8,-382C248.8,-382 309.33,-337.34 331.56,-320.95"></path> <polygon fill="black" stroke="black" points="333.65,-323.75 339.62,-315 329.5,-318.12 333.65,-323.75"></polygon> </g> <!-- a53 --> <g id="node16" class="node">
<title>
a53
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="372.62" cy="-248" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="357.85" y="-244.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="364.07" y="-244.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">2</text> <text text-anchor="start" x="371.07" y="-244.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(3)</text> </g> <!-- a02&#45;&gt;a53 --> <g id="edge27" class="edge">
<title>
a02:e-&gt;a53:w
</title>
<path fill="none" stroke="black" d="M248.8,-382C248.8,-382 314.06,-285.72 333.94,-256.38"></path> <polygon fill="black" stroke="black" points="336.91,-258.24 339.62,-248 331.11,-254.31 336.91,-258.24"></polygon> </g> <!-- a12&#45;&gt;a13 --> <g id="edge28" class="edge">
<title>
a12:e-&gt;a13:w
</title>
<path fill="none" stroke="black" d="M248.8,-47C248.8,-47 314.06,-143.28 333.94,-172.62"></path> <polygon fill="black" stroke="black" points="331.11,-174.69 339.62,-181 336.91,-170.76 331.11,-174.69"></polygon> </g> <!-- a12&#45;&gt;a23 --> <g id="edge29" class="edge">
<title>
a12:e-&gt;a23:w
</title>
<path fill="none" stroke="black" d="M248.8,-47C248.8,-47 309.33,-91.66 331.56,-108.05"></path> <polygon fill="black" stroke="black" points="329.5,-110.88 339.62,-114 333.65,-105.25 329.5,-110.88"></polygon> </g> <!-- a12&#45;&gt;a33 --> <g id="edge30" class="edge">
<title>
a12:e-&gt;a33:w
</title>
<path fill="none" stroke="black" d="M248.8,-47C248.8,-47 305.91,-47 329.55,-47"></path> <polygon fill="black" stroke="black" points="329.62,-50.5 339.62,-47 329.62,-43.5 329.62,-50.5"></polygon> </g> <!-- a12&#45;&gt;a43 --> <g id="edge31" class="edge">
<title>
a12:e-&gt;a43:w
</title>
<path fill="none" stroke="black" d="M248.8,-47C248.8,-47 320.21,-257.72 336.39,-305.46"></path> <polygon fill="black" stroke="black" points="333.1,-306.65 339.62,-315 339.73,-304.41 333.1,-306.65"></polygon> </g> <!-- a12&#45;&gt;a53 --> <g id="edge32" class="edge">
<title>
a12:e-&gt;a53:w
</title>
<path fill="none" stroke="black" d="M248.8,-47C248.8,-47 317.71,-199.52 335.48,-238.84"></path> <polygon fill="black" stroke="black" points="332.31,-240.33 339.62,-248 338.69,-237.45 332.31,-240.33"></polygon> </g> <!-- a22&#45;&gt;a13 --> <g id="edge33" class="edge">
<title>
a22:e-&gt;a13:w
</title>
<path fill="none" stroke="black" d="M248.8,-315C248.8,-315 314.06,-218.72 333.94,-189.38"></path> <polygon fill="black" stroke="black" points="336.91,-191.24 339.62,-181 331.11,-187.31 336.91,-191.24"></polygon> </g> <!-- a22&#45;&gt;a23 --> <g id="edge34" class="edge">
<title>
a22:e-&gt;a23:w
</title>
<path fill="none" stroke="black" d="M248.8,-315C248.8,-315 317.71,-162.48 335.48,-123.16"></path> <polygon fill="black" stroke="black" points="338.69,-124.55 339.62,-114 332.31,-121.67 338.69,-124.55"></polygon> </g> <!-- a22&#45;&gt;a33 --> <g id="edge35" class="edge">
<title>
a22:e-&gt;a33:w
</title>
<path fill="none" stroke="black" d="M248.8,-315C248.8,-315 320.21,-104.28 336.39,-56.54"></path> <polygon fill="black" stroke="black" points="339.73,-57.59 339.62,-47 333.1,-55.35 339.73,-57.59"></polygon> </g> <!-- a22&#45;&gt;a43 --> <g id="edge36" class="edge">
<title>
a22:e-&gt;a43:w
</title>
<path fill="none" stroke="black" d="M248.8,-315C248.8,-315 305.91,-315 329.55,-315"></path> <polygon fill="black" stroke="black" points="329.62,-318.5 339.62,-315 329.62,-311.5 329.62,-318.5"></polygon> </g> <!-- a22&#45;&gt;a53 --> <g id="edge37" class="edge">
<title>
a22:e-&gt;a53:w
</title>
<path fill="none" stroke="black" d="M248.8,-315C248.8,-315 309.33,-270.34 331.56,-253.95"></path> <polygon fill="black" stroke="black" points="333.65,-256.75 339.62,-248 329.5,-251.12 333.65,-256.75"></polygon> </g> <!-- a32&#45;&gt;a13 --> <g id="edge38" class="edge">
<title>
a32:e-&gt;a13:w
</title>
<path fill="none" stroke="black" d="M248.8,-248C248.8,-248 309.33,-203.34 331.56,-186.95"></path> <polygon fill="black" stroke="black" points="333.65,-189.75 339.62,-181 329.5,-184.12 333.65,-189.75"></polygon> </g> <!-- a32&#45;&gt;a23 --> <g id="edge39" class="edge">
<title>
a32:e-&gt;a23:w
</title>
<path fill="none" stroke="black" d="M248.8,-248C248.8,-248 314.06,-151.72 333.94,-122.38"></path> <polygon fill="black" stroke="black" points="336.91,-124.24 339.62,-114 331.11,-120.31 336.91,-124.24"></polygon> </g> <!-- a32&#45;&gt;a33 --> <g id="edge40" class="edge">
<title>
a32:e-&gt;a33:w
</title>
<path fill="none" stroke="black" d="M248.8,-248C248.8,-248 317.71,-95.48 335.48,-56.16"></path> <polygon fill="black" stroke="black" points="338.69,-57.55 339.62,-47 332.31,-54.67 338.69,-57.55"></polygon> </g> <!-- a32&#45;&gt;a43 --> <g id="edge41" class="edge">
<title>
a32:e-&gt;a43:w
</title>
<path fill="none" stroke="black" d="M248.8,-248C248.8,-248 309.33,-292.66 331.56,-309.05"></path> <polygon fill="black" stroke="black" points="329.5,-311.88 339.62,-315 333.65,-306.25 329.5,-311.88"></polygon> </g> <!-- a32&#45;&gt;a53 --> <g id="edge42" class="edge">
<title>
a32:e-&gt;a53:w
</title>
<path fill="none" stroke="black" d="M248.8,-248C248.8,-248 305.91,-248 329.55,-248"></path> <polygon fill="black" stroke="black" points="329.62,-251.5 339.62,-248 329.62,-244.5 329.62,-251.5"></polygon> </g> <!-- a42&#45;&gt;a13 --> <g id="edge43" class="edge">
<title>
a42:e-&gt;a13:w
</title>
<path fill="none" stroke="black" d="M248.8,-181C248.8,-181 305.91,-181 329.55,-181"></path> <polygon fill="black" stroke="black" points="329.62,-184.5 339.62,-181 329.62,-177.5 329.62,-184.5"></polygon> </g> <!-- a42&#45;&gt;a23 --> <g id="edge44" class="edge">
<title>
a42:e-&gt;a23:w
</title>
<path fill="none" stroke="black" d="M248.8,-181C248.8,-181 309.33,-136.34 331.56,-119.95"></path> <polygon fill="black" stroke="black" points="333.65,-122.75 339.62,-114 329.5,-117.12 333.65,-122.75"></polygon> </g> <!-- a42&#45;&gt;a33 --> <g id="edge45" class="edge">
<title>
a42:e-&gt;a33:w
</title>
<path fill="none" stroke="black" d="M248.8,-181C248.8,-181 314.06,-84.72 333.94,-55.38"></path> <polygon fill="black" stroke="black" points="336.91,-57.24 339.62,-47 331.11,-53.31 336.91,-57.24"></polygon> </g> <!-- a42&#45;&gt;a43 --> <g id="edge46" class="edge">
<title>
a42:e-&gt;a43:w
</title>
<path fill="none" stroke="black" d="M248.8,-181C248.8,-181 314.06,-277.28 333.94,-306.62"></path> <polygon fill="black" stroke="black" points="331.11,-308.69 339.62,-315 336.91,-304.76 331.11,-308.69"></polygon> </g> <!-- a42&#45;&gt;a53 --> <g id="edge47" class="edge">
<title>
a42:e-&gt;a53:w
</title>
<path fill="none" stroke="black" d="M248.8,-181C248.8,-181 309.33,-225.66 331.56,-242.05"></path> <polygon fill="black" stroke="black" points="329.5,-244.88 339.62,-248 333.65,-239.25 329.5,-244.88"></polygon> </g> <!-- a52&#45;&gt;a13 --> <g id="edge48" class="edge">
<title>
a52:e-&gt;a13:w
</title>
<path fill="none" stroke="black" d="M248.8,-114C248.8,-114 309.33,-158.66 331.56,-175.05"></path> <polygon fill="black" stroke="black" points="329.5,-177.88 339.62,-181 333.65,-172.25 329.5,-177.88"></polygon> </g> <!-- a52&#45;&gt;a23 --> <g id="edge49" class="edge">
<title>
a52:e-&gt;a23:w
</title>
<path fill="none" stroke="black" d="M248.8,-114C248.8,-114 305.91,-114 329.55,-114"></path> <polygon fill="black" stroke="black" points="329.62,-117.5 339.62,-114 329.62,-110.5 329.62,-117.5"></polygon> </g> <!-- a52&#45;&gt;a33 --> <g id="edge50" class="edge">
<title>
a52:e-&gt;a33:w
</title>
<path fill="none" stroke="black" d="M248.8,-114C248.8,-114 309.33,-69.34 331.56,-52.95"></path> <polygon fill="black" stroke="black" points="333.65,-55.75 339.62,-47 329.5,-50.12 333.65,-55.75"></polygon> </g> <!-- a52&#45;&gt;a43 --> <g id="edge51" class="edge">
<title>
a52:e-&gt;a43:w
</title>
<path fill="none" stroke="black" d="M248.8,-114C248.8,-114 317.71,-266.52 335.48,-305.84"></path> <polygon fill="black" stroke="black" points="332.31,-307.33 339.62,-315 338.69,-304.45 332.31,-307.33"></polygon> </g> <!-- a52&#45;&gt;a53 --> <g id="edge52" class="edge">
<title>
a52:e-&gt;a53:w
</title>
<path fill="none" stroke="black" d="M248.8,-114C248.8,-114 314.06,-210.28 333.94,-239.62"></path> <polygon fill="black" stroke="black" points="331.11,-241.69 339.62,-248 336.91,-237.76 331.11,-241.69"></polygon> </g> <!-- O1 --> <g id="node17" class="node">
<title>
O1
</title>
<ellipse fill="#ff7256" stroke="#ff7256" cx="527.44" cy="-315" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="512.67" y="-311.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="518.89" y="-311.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">1</text> <text text-anchor="start" x="525.89" y="-311.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(4)</text> </g> <!-- a03&#45;&gt;O1 --> <g id="edge53" class="edge">
<title>
a03:e-&gt;O1:w
</title>
<path fill="none" stroke="black" d="M405.62,-382C405.62,-382 464.26,-337.77 486.25,-321.18"></path> <polygon fill="black" stroke="black" points="488.57,-323.82 494.44,-315 484.35,-318.23 488.57,-323.82"></polygon> </g> <!-- O2 --> <g id="node18" class="node">
<title>
O2
</title>
<ellipse fill="#ff7256" stroke="#ff7256" cx="527.44" cy="-248" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="512.67" y="-244.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="518.89" y="-244.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">2</text> <text text-anchor="start" x="525.89" y="-244.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(4)</text> </g> <!-- a03&#45;&gt;O2 --> <g id="edge59" class="edge">
<title>
a03:e-&gt;O2:w
</title>
<path fill="none" stroke="black" d="M405.62,-382C405.62,-382 469.44,-285.72 488.89,-256.38"></path> <polygon fill="black" stroke="black" points="491.84,-258.27 494.44,-248 486,-254.4 491.84,-258.27"></polygon> </g> <!-- O3 --> <g id="node19" class="node">
<title>
O3
</title>
<ellipse fill="#ff7256" stroke="#ff7256" cx="527.44" cy="-181" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="512.67" y="-177.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="518.89" y="-177.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">3</text> <text text-anchor="start" x="525.89" y="-177.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(4)</text> </g> <!-- a03&#45;&gt;O3 --> <g id="edge65" class="edge">
<title>
a03:e-&gt;O3:w
</title>
<path fill="none" stroke="black" d="M405.62,-382C405.62,-382 473.02,-229.48 490.4,-190.16"></path> <polygon fill="black" stroke="black" points="493.6,-191.56 494.44,-181 487.2,-188.73 493.6,-191.56"></polygon> </g> <!-- O4 --> <g id="node20" class="node">
<title>
O4
</title>
<ellipse fill="#ff7256" stroke="#ff7256" cx="527.44" cy="-114" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="512.67" y="-110.8" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="518.89" y="-110.8" font-family="Times,serif" baseline-shift="sub" font-size="14.00">4</text> <text text-anchor="start" x="525.89" y="-110.8" font-family="Times,serif" baseline-shift="super" font-size="14.00">(4)</text> </g> <!-- a03&#45;&gt;O4 --> <g id="edge71" class="edge">
<title>
a03:e-&gt;O4:w
</title>
<path fill="none" stroke="black" d="M405.62,-382C405.62,-382 475.46,-171.28 491.28,-123.54"></path> <polygon fill="black" stroke="black" points="494.62,-124.59 494.44,-114 487.98,-122.39 494.62,-124.59"></polygon> </g> <!-- a13&#45;&gt;O1 --> <g id="edge54" class="edge">
<title>
a13:e-&gt;O1:w
</title>
<path fill="none" stroke="black" d="M405.62,-181C405.62,-181 469.44,-277.28 488.89,-306.62"></path> <polygon fill="black" stroke="black" points="486,-308.6 494.44,-315 491.84,-304.73 486,-308.6"></polygon> </g> <!-- a13&#45;&gt;O2 --> <g id="edge60" class="edge">
<title>
a13:e-&gt;O2:w
</title>
<path fill="none" stroke="black" d="M405.62,-181C405.62,-181 464.26,-225.23 486.25,-241.82"></path> <polygon fill="black" stroke="black" points="484.35,-244.77 494.44,-248 488.57,-239.18 484.35,-244.77"></polygon> </g> <!-- a13&#45;&gt;O3 --> <g id="edge66" class="edge">
<title>
a13:e-&gt;O3:w
</title>
<path fill="none" stroke="black" d="M405.62,-181C405.62,-181 460.92,-181 484.25,-181"></path> <polygon fill="black" stroke="black" points="484.44,-184.5 494.44,-181 484.44,-177.5 484.44,-184.5"></polygon> </g> <!-- a13&#45;&gt;O4 --> <g id="edge72" class="edge">
<title>
a13:e-&gt;O4:w
</title>
<path fill="none" stroke="black" d="M405.62,-181C405.62,-181 464.26,-136.77 486.25,-120.18"></path> <polygon fill="black" stroke="black" points="488.57,-122.82 494.44,-114 484.35,-117.23 488.57,-122.82"></polygon> </g> <!-- a23&#45;&gt;O1 --> <g id="edge55" class="edge">
<title>
a23:e-&gt;O1:w
</title>
<path fill="none" stroke="black" d="M405.62,-114C405.62,-114 473.02,-266.52 490.4,-305.84"></path> <polygon fill="black" stroke="black" points="487.2,-307.27 494.44,-315 493.6,-304.44 487.2,-307.27"></polygon> </g> <!-- a23&#45;&gt;O2 --> <g id="edge61" class="edge">
<title>
a23:e-&gt;O2:w
</title>
<path fill="none" stroke="black" d="M405.62,-114C405.62,-114 469.44,-210.28 488.89,-239.62"></path> <polygon fill="black" stroke="black" points="486,-241.6 494.44,-248 491.84,-237.73 486,-241.6"></polygon> </g> <!-- a23&#45;&gt;O3 --> <g id="edge67" class="edge">
<title>
a23:e-&gt;O3:w
</title>
<path fill="none" stroke="black" d="M405.62,-114C405.62,-114 464.26,-158.23 486.25,-174.82"></path> <polygon fill="black" stroke="black" points="484.35,-177.77 494.44,-181 488.57,-172.18 484.35,-177.77"></polygon> </g> <!-- a23&#45;&gt;O4 --> <g id="edge73" class="edge">
<title>
a23:e-&gt;O4:w
</title>
<path fill="none" stroke="black" d="M405.62,-114C405.62,-114 460.92,-114 484.25,-114"></path> <polygon fill="black" stroke="black" points="484.44,-117.5 494.44,-114 484.44,-110.5 484.44,-117.5"></polygon> </g> <!-- a33&#45;&gt;O1 --> <g id="edge56" class="edge">
<title>
a33:e-&gt;O1:w
</title>
<path fill="none" stroke="black" d="M405.62,-47C405.62,-47 475.46,-257.72 491.28,-305.46"></path> <polygon fill="black" stroke="black" points="487.98,-306.61 494.44,-315 494.62,-304.41 487.98,-306.61"></polygon> </g> <!-- a33&#45;&gt;O2 --> <g id="edge62" class="edge">
<title>
a33:e-&gt;O2:w
</title>
<path fill="none" stroke="black" d="M405.62,-47C405.62,-47 473.02,-199.52 490.4,-238.84"></path> <polygon fill="black" stroke="black" points="487.2,-240.27 494.44,-248 493.6,-237.44 487.2,-240.27"></polygon> </g> <!-- a33&#45;&gt;O3 --> <g id="edge68" class="edge">
<title>
a33:e-&gt;O3:w
</title>
<path fill="none" stroke="black" d="M405.62,-47C405.62,-47 469.44,-143.28 488.89,-172.62"></path> <polygon fill="black" stroke="black" points="486,-174.6 494.44,-181 491.84,-170.73 486,-174.6"></polygon> </g> <!-- a33&#45;&gt;O4 --> <g id="edge74" class="edge">
<title>
a33:e-&gt;O4:w
</title>
<path fill="none" stroke="black" d="M405.62,-47C405.62,-47 464.26,-91.23 486.25,-107.82"></path> <polygon fill="black" stroke="black" points="484.35,-110.77 494.44,-114 488.57,-105.18 484.35,-110.77"></polygon> </g> <!-- a43&#45;&gt;O1 --> <g id="edge57" class="edge">
<title>
a43:e-&gt;O1:w
</title>
<path fill="none" stroke="black" d="M405.62,-315C405.62,-315 460.92,-315 484.25,-315"></path> <polygon fill="black" stroke="black" points="484.44,-318.5 494.44,-315 484.44,-311.5 484.44,-318.5"></polygon> </g> <!-- a43&#45;&gt;O2 --> <g id="edge63" class="edge">
<title>
a43:e-&gt;O2:w
</title>
<path fill="none" stroke="black" d="M405.62,-315C405.62,-315 464.26,-270.77 486.25,-254.18"></path> <polygon fill="black" stroke="black" points="488.57,-256.82 494.44,-248 484.35,-251.23 488.57,-256.82"></polygon> </g> <!-- a43&#45;&gt;O3 --> <g id="edge69" class="edge">
<title>
a43:e-&gt;O3:w
</title>
<path fill="none" stroke="black" d="M405.62,-315C405.62,-315 469.44,-218.72 488.89,-189.38"></path> <polygon fill="black" stroke="black" points="491.84,-191.27 494.44,-181 486,-187.4 491.84,-191.27"></polygon> </g> <!-- a43&#45;&gt;O4 --> <g id="edge75" class="edge">
<title>
a43:e-&gt;O4:w
</title>
<path fill="none" stroke="black" d="M405.62,-315C405.62,-315 473.02,-162.48 490.4,-123.16"></path> <polygon fill="black" stroke="black" points="493.6,-124.56 494.44,-114 487.2,-121.73 493.6,-124.56"></polygon> </g> <!-- a53&#45;&gt;O1 --> <g id="edge58" class="edge">
<title>
a53:e-&gt;O1:w
</title>
<path fill="none" stroke="black" d="M405.62,-248C405.62,-248 464.26,-292.23 486.25,-308.82"></path> <polygon fill="black" stroke="black" points="484.35,-311.77 494.44,-315 488.57,-306.18 484.35,-311.77"></polygon> </g> <!-- a53&#45;&gt;O2 --> <g id="edge64" class="edge">
<title>
a53:e-&gt;O2:w
</title>
<path fill="none" stroke="black" d="M405.62,-248C405.62,-248 460.92,-248 484.25,-248"></path> <polygon fill="black" stroke="black" points="484.44,-251.5 494.44,-248 484.44,-244.5 484.44,-251.5"></polygon> </g> <!-- a53&#45;&gt;O3 --> <g id="edge70" class="edge">
<title>
a53:e-&gt;O3:w
</title>
<path fill="none" stroke="black" d="M405.62,-248C405.62,-248 464.26,-203.77 486.25,-187.18"></path> <polygon fill="black" stroke="black" points="488.57,-189.82 494.44,-181 484.35,-184.23 488.57,-189.82"></polygon> </g> <!-- a53&#45;&gt;O4 --> <g id="edge76" class="edge">
<title>
a53:e-&gt;O4:w
</title>
<path fill="none" stroke="black" d="M405.62,-248C405.62,-248 469.44,-151.72 488.89,-122.38"></path> <polygon fill="black" stroke="black" points="491.84,-124.27 494.44,-114 486,-120.4 491.84,-124.27"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 446.00 209.00" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 205)">
<title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-205 442,-205 442,4 -4,4"></polygon> <g id="clust1" class="cluster">
<title>
cluster_0
</title>
<polygon fill="none" stroke="white" points="0,-8 0,-193 128,-193 128,-8 0,-8"></polygon> <text text-anchor="middle" x="64" y="-176.4" font-family="Times,serif" font-size="14.00">layer 1 (Input layer)</text> </g> <g id="clust2" class="cluster">
<title>
cluster_1
</title>
<polygon fill="none" stroke="white" points="148,-8 148,-193 284,-193 284,-8 148,-8"></polygon> <text text-anchor="middle" x="216" y="-176.4" font-family="Times,serif" font-size="14.00">layer 2 (hidden layer)</text> </g> <g id="clust3" class="cluster">
<title>
cluster_2
</title>
<polygon fill="none" stroke="white" points="304,-62 304,-139 438,-139 438,-62 304,-62"></polygon> <text text-anchor="middle" x="371" y="-122.4" font-family="Times,serif" font-size="14.00">layer 3 (output layer)</text> </g> <!-- x1 --> <g id="node1" class="node">
<title>
x1
</title>
<ellipse fill="none" stroke="#00008b" cx="64" cy="-88" rx="18" ry="18"></ellipse> </g> <!-- a12 --> <g id="node4" class="node">
<title>
a12
</title>
<ellipse fill="none" stroke="#ee0000" cx="216" cy="-34" rx="18" ry="18"></ellipse> </g> <!-- x1&#45;&gt;a12 --> <g id="edge1" class="edge">
<title>
x1-&gt;a12
</title>
<path fill="none" stroke="black" d="M81.05,-82.22C106.86,-72.93 157.8,-54.59 188.89,-43.4"></path> <polygon fill="black" stroke="black" points="190.38,-46.58 198.61,-39.9 188.01,-40 190.38,-46.58"></polygon> </g> <!-- a22 --> <g id="node5" class="node">
<title>
a22
</title>
<ellipse fill="none" stroke="#ee0000" cx="216" cy="-142" rx="18" ry="18"></ellipse> </g> <!-- x1&#45;&gt;a22 --> <g id="edge2" class="edge">
<title>
x1-&gt;a22
</title>
<path fill="none" stroke="black" d="M81.05,-93.78C106.86,-103.07 157.8,-121.41 188.89,-132.6"></path> <polygon fill="black" stroke="black" points="188.01,-136 198.61,-136.1 190.38,-129.42 188.01,-136"></polygon> </g> <!-- a32 --> <g id="node6" class="node">
<title>
a32
</title>
<ellipse fill="none" stroke="#ee0000" cx="216" cy="-88" rx="18" ry="18"></ellipse> </g> <!-- x1&#45;&gt;a32 --> <g id="edge3" class="edge">
<title>
x1-&gt;a32
</title>
<path fill="none" stroke="black" d="M82.21,-88C108.09,-88 157.27,-88 187.97,-88"></path> <polygon fill="black" stroke="black" points="187.99,-91.5 197.99,-88 187.99,-84.5 187.99,-91.5"></polygon> </g> <!-- x2 --> <g id="node2" class="node">
<title>
x2
</title>
<ellipse fill="none" stroke="#00008b" cx="64" cy="-34" rx="18" ry="18"></ellipse> </g> <!-- x2&#45;&gt;a12 --> <g id="edge4" class="edge">
<title>
x2-&gt;a12
</title>
<path fill="none" stroke="black" d="M82.21,-34C108.09,-34 157.27,-34 187.97,-34"></path> <polygon fill="black" stroke="black" points="187.99,-37.5 197.99,-34 187.99,-30.5 187.99,-37.5"></polygon> </g> <!-- x2&#45;&gt;a22 --> <g id="edge5" class="edge">
<title>
x2-&gt;a22
</title>
<path fill="none" stroke="black" d="M79.11,-44.16C105.24,-62.98 161.35,-103.37 192.68,-125.93"></path> <polygon fill="black" stroke="black" points="190.66,-128.79 200.82,-131.79 194.75,-123.1 190.66,-128.79"></polygon> </g> <!-- x2&#45;&gt;a32 --> <g id="edge6" class="edge">
<title>
x2-&gt;a32
</title>
<path fill="none" stroke="black" d="M81.05,-39.78C106.86,-49.07 157.8,-67.41 188.89,-78.6"></path> <polygon fill="black" stroke="black" points="188.01,-82 198.61,-82.1 190.38,-75.42 188.01,-82"></polygon> </g> <!-- x3 --> <g id="node3" class="node">
<title>
x3
</title>
<ellipse fill="none" stroke="#00008b" cx="64" cy="-142" rx="18" ry="18"></ellipse> </g> <!-- x3&#45;&gt;a12 --> <g id="edge7" class="edge">
<title>
x3-&gt;a12
</title>
<path fill="none" stroke="black" d="M79.11,-131.84C105.24,-113.02 161.35,-72.63 192.68,-50.07"></path> <polygon fill="black" stroke="black" points="194.75,-52.9 200.82,-44.21 190.66,-47.21 194.75,-52.9"></polygon> </g> <!-- x3&#45;&gt;a22 --> <g id="edge8" class="edge">
<title>
x3-&gt;a22
</title>
<path fill="none" stroke="black" d="M82.21,-142C108.09,-142 157.27,-142 187.97,-142"></path> <polygon fill="black" stroke="black" points="187.99,-145.5 197.99,-142 187.99,-138.5 187.99,-145.5"></polygon> </g> <!-- x3&#45;&gt;a32 --> <g id="edge9" class="edge">
<title>
x3-&gt;a32
</title>
<path fill="none" stroke="black" d="M81.05,-136.22C106.86,-126.93 157.8,-108.59 188.89,-97.4"></path> <polygon fill="black" stroke="black" points="190.38,-100.58 198.61,-93.9 188.01,-94 190.38,-100.58"></polygon> </g> <!-- O --> <g id="node7" class="node">
<title>
O
</title>
<ellipse fill="none" stroke="#4eee94" cx="371" cy="-88" rx="18" ry="18"></ellipse> </g> <!-- a12&#45;&gt;O --> <g id="edge10" class="edge">
<title>
a12-&gt;O
</title>
<path fill="none" stroke="black" d="M233.08,-39.68C259.53,-49.01 312.42,-67.68 344.17,-78.88"></path> <polygon fill="black" stroke="black" points="343.08,-82.21 353.67,-82.24 345.41,-75.61 343.08,-82.21"></polygon> </g> <!-- a22&#45;&gt;O --> <g id="edge11" class="edge">
<title>
a22-&gt;O
</title>
<path fill="none" stroke="black" d="M233.08,-136.32C259.53,-126.99 312.42,-108.32 344.17,-97.12"></path> <polygon fill="black" stroke="black" points="345.41,-100.39 353.67,-93.76 343.08,-93.79 345.41,-100.39"></polygon> </g> <!-- a32&#45;&gt;O --> <g id="edge12" class="edge">
<title>
a32-&gt;O
</title>
<path fill="none" stroke="black" d="M234.25,-88C260.54,-88 310.87,-88 342.31,-88"></path> <polygon fill="black" stroke="black" points="342.57,-91.5 352.57,-88 342.57,-84.5 342.57,-91.5"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 846.90 529.41" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 525.41)">
<title>
G
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-525.41 842.9,-525.41 842.9,4 -4,4"></polygon> <!-- x0 --> <g id="node1" class="node">
<title>
x0
</title>
<ellipse fill="yellow" stroke="yellow" cx="63.78" cy="-281.41" rx="20.89" ry="20.89"></ellipse> <text text-anchor="start" x="56.78" y="-278.21" font-family="Times,serif" font-size="14.00">x</text> <text text-anchor="start" x="63.78" y="-278.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">0</text> </g> <!-- x1 --> <g id="node4" class="node">
<title>
x1
</title>
<ellipse fill="chartreuse" stroke="chartreuse" cx="63.78" cy="-222.41" rx="20.89" ry="20.89"></ellipse> <text text-anchor="start" x="56.78" y="-219.21" font-family="Times,serif" font-size="14.00">x</text> <text text-anchor="start" x="63.78" y="-219.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">1</text> </g> <!-- x0&#45;&gt;x1 --> <!-- a12 --> <g id="node7" class="node">
<title>
a12
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="297.01" cy="-355.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="282.24" y="-352.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="288.45" y="-352.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">1</text> <text text-anchor="start" x="295.45" y="-352.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(2)</text> </g> <!-- x0&#45;&gt;a12 --> <g id="edge22" class="edge">
<title>
x0:e-&gt;a12:w
</title>
<path fill="none" stroke="black" d="M85.78,-281.41C85.78,-281.41 217.4,-336.06 254.42,-351.43"></path> <polygon fill="black" stroke="black" points="253.43,-354.81 264.01,-355.41 256.11,-348.34 253.43,-354.81"></polygon> </g> <!-- a22 --> <g id="node8" class="node">
<title>
a22
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="297.01" cy="-274.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="282.24" y="-271.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="288.45" y="-271.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">2</text> <text text-anchor="start" x="295.45" y="-271.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(2)</text> </g> <!-- x0&#45;&gt;a22 --> <g id="edge23" class="edge">
<title>
x0:e-&gt;a22:w
</title>
<path fill="none" stroke="black" d="M85.78,-281.41C85.78,-281.41 216.21,-276.29 253.91,-274.81"></path> <polygon fill="black" stroke="black" points="254.15,-278.3 264.01,-274.41 253.88,-271.31 254.15,-278.3"></polygon> </g> <!-- a32 --> <g id="node9" class="node">
<title>
a32
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="297.01" cy="-193.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="282.24" y="-190.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="288.45" y="-190.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">3</text> <text text-anchor="start" x="295.45" y="-190.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(2)</text> </g> <!-- x0&#45;&gt;a32 --> <g id="edge24" class="edge">
<title>
x0:e-&gt;a32:w
</title>
<path fill="none" stroke="black" d="M85.78,-281.41C85.78,-281.41 218.6,-215.83 254.92,-197.9"></path> <polygon fill="black" stroke="black" points="256.59,-200.98 264.01,-193.41 253.49,-194.7 256.59,-200.98"></polygon> </g> <!-- a42 --> <g id="node10" class="node">
<title>
a42
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="297.01" cy="-112.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="282.24" y="-109.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="288.45" y="-109.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">4</text> <text text-anchor="start" x="295.45" y="-109.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(2)</text> </g> <!-- x0&#45;&gt;a42 --> <g id="edge25" class="edge">
<title>
x0:e-&gt;a42:w
</title>
<path fill="none" stroke="black" d="M85.78,-281.41C85.78,-281.41 222.23,-152.02 256.35,-119.67"></path> <polygon fill="black" stroke="black" points="259.16,-121.83 264.01,-112.41 254.34,-116.75 259.16,-121.83"></polygon> </g> <!-- a52 --> <g id="node11" class="node">
<title>
a52
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="297.01" cy="-31.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="282.24" y="-28.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="288.45" y="-28.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">5</text> <text text-anchor="start" x="295.45" y="-28.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(2)</text> </g> <!-- x0&#45;&gt;a52 --> <g id="edge26" class="edge">
<title>
x0:e-&gt;a52:w
</title>
<path fill="none" stroke="black" d="M85.78,-281.41C85.78,-281.41 227.15,-83.11 258.08,-39.73"></path> <polygon fill="black" stroke="black" points="261.05,-41.59 264.01,-31.41 255.35,-37.52 261.05,-41.59"></polygon> </g> <!-- a02 --> <g id="node2" class="node">
<title>
a02
</title>
<ellipse fill="yellow" stroke="yellow" cx="297.01" cy="-436.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="282.24" y="-433.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="288.45" y="-433.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">0</text> <text text-anchor="start" x="295.45" y="-433.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(2)</text> </g> <!-- a03 --> <g id="node3" class="node">
<title>
a03
</title>
<ellipse fill="yellow" stroke="yellow" cx="534.89" cy="-436.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="520.12" y="-433.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="526.34" y="-433.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">0</text> <text text-anchor="start" x="533.34" y="-433.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(3)</text> </g> <!-- a02&#45;&gt;a03 --> <!-- a02&#45;&gt;a12 --> <!-- a13 --> <g id="node12" class="node">
<title>
a13
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="534.89" cy="-355.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="520.12" y="-352.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="526.34" y="-352.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">1</text> <text text-anchor="start" x="533.34" y="-352.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(3)</text> </g> <!-- a02&#45;&gt;a13 --> <g id="edge42" class="edge">
<title>
a02:e-&gt;a13:w
</title>
<path fill="none" stroke="black" d="M330.01,-436.41C330.01,-436.41 456.95,-376.59 492.65,-359.77"></path> <polygon fill="black" stroke="black" points="494.34,-362.84 501.89,-355.41 491.35,-356.51 494.34,-362.84"></polygon> </g> <!-- a23 --> <g id="node13" class="node">
<title>
a23
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="534.89" cy="-274.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="520.12" y="-271.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="526.34" y="-271.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">2</text> <text text-anchor="start" x="533.34" y="-271.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(3)</text> </g> <!-- a02&#45;&gt;a23 --> <g id="edge43" class="edge">
<title>
a02:e-&gt;a23:w
</title>
<path fill="none" stroke="black" d="M330.01,-436.41C330.01,-436.41 461.61,-312.38 494.51,-281.37"></path> <polygon fill="black" stroke="black" points="497.02,-283.82 501.89,-274.41 492.21,-278.72 497.02,-283.82"></polygon> </g> <!-- a33 --> <g id="node14" class="node">
<title>
a33
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="534.89" cy="-193.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="520.12" y="-190.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="526.34" y="-190.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">3</text> <text text-anchor="start" x="533.34" y="-190.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(3)</text> </g> <!-- a02&#45;&gt;a33 --> <g id="edge44" class="edge">
<title>
a02:e-&gt;a33:w
</title>
<path fill="none" stroke="black" d="M330.01,-436.41C330.01,-436.41 465.75,-244.51 495.98,-201.78"></path> <polygon fill="black" stroke="black" points="498.98,-203.6 501.89,-193.41 493.26,-199.55 498.98,-203.6"></polygon> </g> <!-- a43 --> <g id="node15" class="node">
<title>
a43
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="534.89" cy="-112.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="520.12" y="-109.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="526.34" y="-109.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">4</text> <text text-anchor="start" x="533.34" y="-109.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(3)</text> </g> <!-- a02&#45;&gt;a43 --> <g id="edge45" class="edge">
<title>
a02:e-&gt;a43:w
</title>
<path fill="none" stroke="black" d="M330.01,-436.41C330.01,-436.41 469.35,-173.74 497.12,-121.42"></path> <polygon fill="black" stroke="black" points="500.3,-122.89 501.89,-112.41 494.11,-119.6 500.3,-122.89"></polygon> </g> <!-- a53 --> <g id="node16" class="node">
<title>
a53
</title>
<ellipse fill="dodgerblue" stroke="dodgerblue" cx="534.89" cy="-31.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="520.12" y="-28.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="526.34" y="-28.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">5</text> <text text-anchor="start" x="533.34" y="-28.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(3)</text> </g> <!-- a02&#45;&gt;a53 --> <g id="edge46" class="edge">
<title>
a02:e-&gt;a53:w
</title>
<path fill="none" stroke="black" d="M330.01,-436.41C330.01,-436.41 472.39,-100.92 497.98,-40.63"></path> <polygon fill="black" stroke="black" points="501.21,-41.98 501.89,-31.41 494.76,-39.25 501.21,-41.98"></polygon> </g> <!-- a03&#45;&gt;a13 --> <!-- O1 --> <g id="node17" class="node">
<title>
O1
</title>
<ellipse fill="#ff7256" stroke="#ff7256" cx="771.62" cy="-355.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="756.85" y="-352.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="763.06" y="-352.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">1</text> <text text-anchor="start" x="770.06" y="-352.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(4)</text> </g> <!-- a03&#45;&gt;O1 --> <g id="edge72" class="edge">
<title>
a03:e-&gt;O1:w
</title>
<path fill="none" stroke="black" d="M567.89,-436.41C567.89,-436.41 693.98,-376.59 729.44,-359.77"></path> <polygon fill="black" stroke="black" points="731.08,-362.86 738.62,-355.41 728.08,-356.54 731.08,-362.86"></polygon> </g> <!-- O2 --> <g id="node18" class="node">
<title>
O2
</title>
<ellipse fill="#ff7256" stroke="#ff7256" cx="771.62" cy="-274.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="756.85" y="-271.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="763.06" y="-271.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">2</text> <text text-anchor="start" x="770.06" y="-271.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(4)</text> </g> <!-- a03&#45;&gt;O2 --> <g id="edge73" class="edge">
<title>
a03:e-&gt;O2:w
</title>
<path fill="none" stroke="black" d="M567.89,-436.41C567.89,-436.41 698.6,-312.38 731.28,-281.37"></path> <polygon fill="black" stroke="black" points="733.77,-283.83 738.62,-274.41 728.95,-278.76 733.77,-283.83"></polygon> </g> <!-- O3 --> <g id="node19" class="node">
<title>
O3
</title>
<ellipse fill="#ff7256" stroke="#ff7256" cx="771.62" cy="-193.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="756.85" y="-190.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="763.06" y="-190.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">3</text> <text text-anchor="start" x="770.06" y="-190.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(4)</text> </g> <!-- a03&#45;&gt;O3 --> <g id="edge74" class="edge">
<title>
a03:e-&gt;O3:w
</title>
<path fill="none" stroke="black" d="M567.89,-436.41C567.89,-436.41 702.72,-244.51 732.74,-201.78"></path> <polygon fill="black" stroke="black" points="735.73,-203.61 738.62,-193.41 730,-199.58 735.73,-203.61"></polygon> </g> <!-- O4 --> <g id="node20" class="node">
<title>
O4
</title>
<ellipse fill="#ff7256" stroke="#ff7256" cx="771.62" cy="-112.41" rx="31.32" ry="31.32"></ellipse> <text text-anchor="start" x="756.85" y="-109.21" font-family="Times,serif" font-size="14.00">a</text> <text text-anchor="start" x="763.06" y="-109.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">4</text> <text text-anchor="start" x="770.06" y="-109.21" font-family="Times,serif" baseline-shift="super" font-size="14.00">(4)</text> </g> <!-- a03&#45;&gt;O4 --> <g id="edge75" class="edge">
<title>
a03:e-&gt;O4:w
</title>
<path fill="none" stroke="black" d="M567.89,-436.41C567.89,-436.41 706.3,-173.74 733.87,-121.42"></path> <polygon fill="black" stroke="black" points="737.05,-122.89 738.62,-112.41 730.86,-119.63 737.05,-122.89"></polygon> </g> <!-- x2 --> <g id="node5" class="node">
<title>
x2
</title>
<ellipse fill="chartreuse" stroke="chartreuse" cx="63.78" cy="-163.41" rx="20.89" ry="20.89"></ellipse> <text text-anchor="start" x="56.78" y="-160.21" font-family="Times,serif" font-size="14.00">x</text> <text text-anchor="start" x="63.78" y="-160.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">2</text> </g> <!-- x1&#45;&gt;x2 --> <!-- x1&#45;&gt;a12 --> <g id="edge27" class="edge">
<title>
x1:e-&gt;a12:w
</title>
<path fill="none" stroke="black" d="M85.78,-222.41C85.78,-222.41 221.02,-323.33 255.88,-349.35"></path> <polygon fill="black" stroke="black" points="253.9,-352.24 264.01,-355.41 258.08,-346.63 253.9,-352.24"></polygon> </g> <!-- x1&#45;&gt;a22 --> <g id="edge28" class="edge">
<title>
x1:e-&gt;a22:w
</title>
<path fill="none" stroke="black" d="M85.78,-222.41C85.78,-222.41 216.81,-260.64 254.17,-271.54"></path> <polygon fill="black" stroke="black" points="253.43,-274.97 264.01,-274.41 255.39,-268.25 253.43,-274.97"></polygon> </g> <!-- x1&#45;&gt;a32 --> <g id="edge29" class="edge">
<title>
x1:e-&gt;a32:w
</title>
<path fill="none" stroke="black" d="M85.78,-222.41C85.78,-222.41 216.21,-201.19 253.91,-195.05"></path> <polygon fill="black" stroke="black" points="254.7,-198.47 264.01,-193.41 253.57,-191.56 254.7,-198.47"></polygon> </g> <!-- x1&#45;&gt;a42 --> <g id="edge30" class="edge">
<title>
x1:e-&gt;a42:w
</title>
<path fill="none" stroke="black" d="M85.78,-222.41C85.78,-222.41 219.81,-139.69 255.41,-117.72"></path> <polygon fill="black" stroke="black" points="257.33,-120.64 264.01,-112.41 253.66,-114.69 257.33,-120.64"></polygon> </g> <!-- x1&#45;&gt;a52 --> <g id="edge31" class="edge">
<title>
x1:e-&gt;a52:w
</title>
<path fill="none" stroke="black" d="M85.78,-222.41C85.78,-222.41 223.46,-74.87 256.8,-39.14"></path> <polygon fill="black" stroke="black" points="259.74,-41.11 264.01,-31.41 254.62,-36.33 259.74,-41.11"></polygon> </g> <!-- x3 --> <g id="node6" class="node">
<title>
x3
</title>
<ellipse fill="chartreuse" stroke="chartreuse" cx="63.78" cy="-104.41" rx="20.89" ry="20.89"></ellipse> <text text-anchor="start" x="56.78" y="-101.21" font-family="Times,serif" font-size="14.00">x</text> <text text-anchor="start" x="63.78" y="-101.21" font-family="Times,serif" baseline-shift="sub" font-size="14.00">3</text> </g> <!-- x2&#45;&gt;x3 --> <!-- x2&#45;&gt;a12 --> <g id="edge32" class="edge">
<title>
x2:e-&gt;a12:w
</title>
<path fill="none" stroke="black" d="M85.78,-163.41C85.78,-163.41 223.46,-311.73 256.8,-347.65"></path> <polygon fill="black" stroke="black" points="254.64,-350.46 264.01,-355.41 259.77,-345.7 254.64,-350.46"></polygon> </g> <!-- x2&#45;&gt;a22 --> <g id="edge33" class="edge">
<title>
x2:e-&gt;a22:w
</title>
<path fill="none" stroke="black" d="M85.78,-163.41C85.78,-163.41 219.81,-246.88 255.41,-269.06"></path> <polygon fill="black" stroke="black" points="253.67,-272.1 264.01,-274.41 257.37,-266.15 253.67,-272.1"></polygon> </g> <!-- x2&#45;&gt;a32 --> <g id="edge34" class="edge">
<title>
x2:e-&gt;a32:w
</title>
<path fill="none" stroke="black" d="M85.78,-163.41C85.78,-163.41 216.21,-185.37 253.91,-191.71"></path> <polygon fill="black" stroke="black" points="253.56,-195.2 264.01,-193.41 254.73,-188.3 253.56,-195.2"></polygon> </g> <!-- x2&#45;&gt;a42 --> <g id="edge35" class="edge">
<title>
x2:e-&gt;a42:w
</title>
<path fill="none" stroke="black" d="M85.78,-163.41C85.78,-163.41 216.81,-125.92 254.17,-115.23"></path> <polygon fill="black" stroke="black" points="255.35,-118.53 264.01,-112.41 253.43,-111.8 255.35,-118.53"></polygon> </g> <!-- x2&#45;&gt;a52 --> <g id="edge36" class="edge">
<title>
x2:e-&gt;a52:w
</title>
<path fill="none" stroke="black" d="M85.78,-163.41C85.78,-163.41 221.02,-63.25 255.88,-37.43"></path> <polygon fill="black" stroke="black" points="258.05,-40.18 264.01,-31.41 253.89,-34.55 258.05,-40.18"></polygon> </g> <!-- x3&#45;&gt;a12 --> <g id="edge37" class="edge">
<title>
x3:e-&gt;a12:w
</title>
<path fill="none" stroke="black" d="M85.78,-104.41C85.78,-104.41 227.15,-303.51 258.08,-347.06"></path> <polygon fill="black" stroke="black" points="255.36,-349.28 264.01,-355.41 261.07,-345.23 255.36,-349.28"></polygon> </g> <!-- x3&#45;&gt;a22 --> <g id="edge38" class="edge">
<title>
x3:e-&gt;a22:w
</title>
<path fill="none" stroke="black" d="M85.78,-104.41C85.78,-104.41 222.23,-234.57 256.35,-267.11"></path> <polygon fill="black" stroke="black" points="254.35,-270.04 264.01,-274.41 259.19,-264.98 254.35,-270.04"></polygon> </g> <!-- x3&#45;&gt;a32 --> <g id="edge39" class="edge">
<title>
x3:e-&gt;a32:w
</title>
<path fill="none" stroke="black" d="M85.78,-104.41C85.78,-104.41 218.6,-170.74 254.92,-188.88"></path> <polygon fill="black" stroke="black" points="253.5,-192.07 264.01,-193.41 256.62,-185.81 253.5,-192.07"></polygon> </g> <!-- x3&#45;&gt;a42 --> <g id="edge40" class="edge">
<title>
x3:e-&gt;a42:w
</title>
<path fill="none" stroke="black" d="M85.78,-104.41C85.78,-104.41 216.21,-110.27 253.91,-111.96"></path> <polygon fill="black" stroke="black" points="253.86,-115.46 264.01,-112.41 254.17,-108.47 253.86,-115.46"></polygon> </g> <!-- x3&#45;&gt;a52 --> <g id="edge41" class="edge">
<title>
x3:e-&gt;a52:w
</title>
<path fill="none" stroke="black" d="M85.78,-104.41C85.78,-104.41 217.4,-50.5 254.42,-35.34"></path> <polygon fill="black" stroke="black" points="256.08,-38.44 264.01,-31.41 253.43,-31.96 256.08,-38.44"></polygon> </g> <!-- a12&#45;&gt;a22 --> <!-- a12&#45;&gt;a13 --> <g id="edge47" class="edge">
<title>
a12:e-&gt;a13:w
</title>
<path fill="none" stroke="black" d="M330.01,-355.41C330.01,-355.41 454.65,-355.41 491.66,-355.41"></path> <polygon fill="black" stroke="black" points="491.89,-358.91 501.89,-355.41 491.89,-351.91 491.89,-358.91"></polygon> </g> <!-- a12&#45;&gt;a23 --> <g id="edge48" class="edge">
<title>
a12:e-&gt;a23:w
</title>
<path fill="none" stroke="black" d="M330.01,-355.41C330.01,-355.41 456.95,-295.59 492.65,-278.77"></path> <polygon fill="black" stroke="black" points="494.34,-281.84 501.89,-274.41 491.35,-275.51 494.34,-281.84"></polygon> </g> <!-- a12&#45;&gt;a33 --> <g id="edge49" class="edge">
<title>
a12:e-&gt;a33:w
</title>
<path fill="none" stroke="black" d="M330.01,-355.41C330.01,-355.41 461.61,-231.38 494.51,-200.37"></path> <polygon fill="black" stroke="black" points="497.02,-202.82 501.89,-193.41 492.21,-197.72 497.02,-202.82"></polygon> </g> <!-- a12&#45;&gt;a43 --> <g id="edge50" class="edge">
<title>
a12:e-&gt;a43:w
</title>
<path fill="none" stroke="black" d="M330.01,-355.41C330.01,-355.41 465.75,-163.51 495.98,-120.78"></path> <polygon fill="black" stroke="black" points="498.98,-122.6 501.89,-112.41 493.26,-118.55 498.98,-122.6"></polygon> </g> <!-- a12&#45;&gt;a53 --> <g id="edge51" class="edge">
<title>
a12:e-&gt;a53:w
</title>
<path fill="none" stroke="black" d="M330.01,-355.41C330.01,-355.41 469.35,-92.74 497.12,-40.42"></path> <polygon fill="black" stroke="black" points="500.3,-41.89 501.89,-31.41 494.11,-38.6 500.3,-41.89"></polygon> </g> <!-- a22&#45;&gt;a32 --> <!-- a22&#45;&gt;a13 --> <g id="edge52" class="edge">
<title>
a22:e-&gt;a13:w
</title>
<path fill="none" stroke="black" d="M330.01,-274.41C330.01,-274.41 456.95,-334.23 492.65,-351.06"></path> <polygon fill="black" stroke="black" points="491.35,-354.31 501.89,-355.41 494.34,-347.98 491.35,-354.31"></polygon> </g> <!-- a22&#45;&gt;a23 --> <g id="edge53" class="edge">
<title>
a22:e-&gt;a23:w
</title>
<path fill="none" stroke="black" d="M330.01,-274.41C330.01,-274.41 454.65,-274.41 491.66,-274.41"></path> <polygon fill="black" stroke="black" points="491.89,-277.91 501.89,-274.41 491.89,-270.91 491.89,-277.91"></polygon> </g> <!-- a22&#45;&gt;a33 --> <g id="edge54" class="edge">
<title>
a22:e-&gt;a33:w
</title>
<path fill="none" stroke="black" d="M330.01,-274.41C330.01,-274.41 456.95,-214.59 492.65,-197.77"></path> <polygon fill="black" stroke="black" points="494.34,-200.84 501.89,-193.41 491.35,-194.51 494.34,-200.84"></polygon> </g> <!-- a22&#45;&gt;a43 --> <g id="edge55" class="edge">
<title>
a22:e-&gt;a43:w
</title>
<path fill="none" stroke="black" d="M330.01,-274.41C330.01,-274.41 461.61,-150.38 494.51,-119.37"></path> <polygon fill="black" stroke="black" points="497.02,-121.82 501.89,-112.41 492.21,-116.72 497.02,-121.82"></polygon> </g> <!-- a22&#45;&gt;a53 --> <g id="edge56" class="edge">
<title>
a22:e-&gt;a53:w
</title>
<path fill="none" stroke="black" d="M330.01,-274.41C330.01,-274.41 465.75,-82.51 495.98,-39.78"></path> <polygon fill="black" stroke="black" points="498.98,-41.6 501.89,-31.41 493.26,-37.55 498.98,-41.6"></polygon> </g> <!-- a32&#45;&gt;a42 --> <!-- a32&#45;&gt;a13 --> <g id="edge57" class="edge">
<title>
a32:e-&gt;a13:w
</title>
<path fill="none" stroke="black" d="M330.01,-193.41C330.01,-193.41 461.61,-317.44 494.51,-348.45"></path> <polygon fill="black" stroke="black" points="492.21,-351.1 501.89,-355.41 497.02,-346.01 492.21,-351.1"></polygon> </g> <!-- a32&#45;&gt;a23 --> <g id="edge58" class="edge">
<title>
a32:e-&gt;a23:w
</title>
<path fill="none" stroke="black" d="M330.01,-193.41C330.01,-193.41 456.95,-253.23 492.65,-270.06"></path> <polygon fill="black" stroke="black" points="491.35,-273.31 501.89,-274.41 494.34,-266.98 491.35,-273.31"></polygon> </g> <!-- a32&#45;&gt;a33 --> <g id="edge59" class="edge">
<title>
a32:e-&gt;a33:w
</title>
<path fill="none" stroke="black" d="M330.01,-193.41C330.01,-193.41 454.65,-193.41 491.66,-193.41"></path> <polygon fill="black" stroke="black" points="491.89,-196.91 501.89,-193.41 491.89,-189.91 491.89,-196.91"></polygon> </g> <!-- a32&#45;&gt;a43 --> <g id="edge60" class="edge">
<title>
a32:e-&gt;a43:w
</title>
<path fill="none" stroke="black" d="M330.01,-193.41C330.01,-193.41 456.95,-133.59 492.65,-116.77"></path> <polygon fill="black" stroke="black" points="494.34,-119.84 501.89,-112.41 491.35,-113.51 494.34,-119.84"></polygon> </g> <!-- a32&#45;&gt;a53 --> <g id="edge61" class="edge">
<title>
a32:e-&gt;a53:w
</title>
<path fill="none" stroke="black" d="M330.01,-193.41C330.01,-193.41 461.61,-69.38 494.51,-38.37"></path> <polygon fill="black" stroke="black" points="497.02,-40.82 501.89,-31.41 492.21,-35.72 497.02,-40.82"></polygon> </g> <!-- a42&#45;&gt;a52 --> <!-- a42&#45;&gt;a13 --> <g id="edge62" class="edge">
<title>
a42:e-&gt;a13:w
</title>
<path fill="none" stroke="black" d="M330.01,-112.41C330.01,-112.41 465.75,-304.32 495.98,-347.05"></path> <polygon fill="black" stroke="black" points="493.26,-349.27 501.89,-355.41 498.98,-345.23 493.26,-349.27"></polygon> </g> <!-- a42&#45;&gt;a23 --> <g id="edge63" class="edge">
<title>
a42:e-&gt;a23:w
</title>
<path fill="none" stroke="black" d="M330.01,-112.41C330.01,-112.41 461.61,-236.44 494.51,-267.45"></path> <polygon fill="black" stroke="black" points="492.21,-270.1 501.89,-274.41 497.02,-265.01 492.21,-270.1"></polygon> </g> <!-- a42&#45;&gt;a33 --> <g id="edge64" class="edge">
<title>
a42:e-&gt;a33:w
</title>
<path fill="none" stroke="black" d="M330.01,-112.41C330.01,-112.41 456.95,-172.23 492.65,-189.06"></path> <polygon fill="black" stroke="black" points="491.35,-192.31 501.89,-193.41 494.34,-185.98 491.35,-192.31"></polygon> </g> <!-- a42&#45;&gt;a43 --> <g id="edge65" class="edge">
<title>
a42:e-&gt;a43:w
</title>
<path fill="none" stroke="black" d="M330.01,-112.41C330.01,-112.41 454.65,-112.41 491.66,-112.41"></path> <polygon fill="black" stroke="black" points="491.89,-115.91 501.89,-112.41 491.89,-108.91 491.89,-115.91"></polygon> </g> <!-- a42&#45;&gt;a53 --> <g id="edge66" class="edge">
<title>
a42:e-&gt;a53:w
</title>
<path fill="none" stroke="black" d="M330.01,-112.41C330.01,-112.41 456.95,-52.59 492.65,-35.77"></path> <polygon fill="black" stroke="black" points="494.34,-38.84 501.89,-31.41 491.35,-32.51 494.34,-38.84"></polygon> </g> <!-- a52&#45;&gt;a13 --> <g id="edge67" class="edge">
<title>
a52:e-&gt;a13:w
</title>
<path fill="none" stroke="black" d="M330.01,-31.41C330.01,-31.41 469.35,-294.08 497.12,-346.41"></path> <polygon fill="black" stroke="black" points="494.11,-348.22 501.89,-355.41 500.3,-344.94 494.11,-348.22"></polygon> </g> <!-- a52&#45;&gt;a23 --> <g id="edge68" class="edge">
<title>
a52:e-&gt;a23:w
</title>
<path fill="none" stroke="black" d="M330.01,-31.41C330.01,-31.41 465.75,-223.32 495.98,-266.05"></path> <polygon fill="black" stroke="black" points="493.26,-268.27 501.89,-274.41 498.98,-264.23 493.26,-268.27"></polygon> </g> <!-- a52&#45;&gt;a33 --> <g id="edge69" class="edge">
<title>
a52:e-&gt;a33:w
</title>
<path fill="none" stroke="black" d="M330.01,-31.41C330.01,-31.41 461.61,-155.44 494.51,-186.45"></path> <polygon fill="black" stroke="black" points="492.21,-189.1 501.89,-193.41 497.02,-184.01 492.21,-189.1"></polygon> </g> <!-- a52&#45;&gt;a43 --> <g id="edge70" class="edge">
<title>
a52:e-&gt;a43:w
</title>
<path fill="none" stroke="black" d="M330.01,-31.41C330.01,-31.41 456.95,-91.23 492.65,-108.06"></path> <polygon fill="black" stroke="black" points="491.35,-111.31 501.89,-112.41 494.34,-104.98 491.35,-111.31"></polygon> </g> <!-- a52&#45;&gt;a53 --> <g id="edge71" class="edge">
<title>
a52:e-&gt;a53:w
</title>
<path fill="none" stroke="black" d="M330.01,-31.41C330.01,-31.41 454.65,-31.41 491.66,-31.41"></path> <polygon fill="black" stroke="black" points="491.89,-34.91 501.89,-31.41 491.89,-27.91 491.89,-34.91"></polygon> </g> <!-- a13&#45;&gt;a23 --> <!-- a13&#45;&gt;O1 --> <g id="edge76" class="edge">
<title>
a13:e-&gt;O1:w
</title>
<path fill="none" stroke="black" d="M567.89,-355.41C567.89,-355.41 691.7,-355.41 728.45,-355.41"></path> <polygon fill="black" stroke="black" points="728.62,-358.91 738.62,-355.41 728.62,-351.91 728.62,-358.91"></polygon> </g> <!-- a13&#45;&gt;O2 --> <g id="edge77" class="edge">
<title>
a13:e-&gt;O2:w
</title>
<path fill="none" stroke="black" d="M567.89,-355.41C567.89,-355.41 693.98,-295.59 729.44,-278.77"></path> <polygon fill="black" stroke="black" points="731.08,-281.86 738.62,-274.41 728.08,-275.54 731.08,-281.86"></polygon> </g> <!-- a13&#45;&gt;O3 --> <g id="edge78" class="edge">
<title>
a13:e-&gt;O3:w
</title>
<path fill="none" stroke="black" d="M567.89,-355.41C567.89,-355.41 698.6,-231.38 731.28,-200.37"></path> <polygon fill="black" stroke="black" points="733.77,-202.83 738.62,-193.41 728.95,-197.76 733.77,-202.83"></polygon> </g> <!-- a13&#45;&gt;O4 --> <g id="edge79" class="edge">
<title>
a13:e-&gt;O4:w
</title>
<path fill="none" stroke="black" d="M567.89,-355.41C567.89,-355.41 702.72,-163.51 732.74,-120.78"></path> <polygon fill="black" stroke="black" points="735.73,-122.61 738.62,-112.41 730,-118.58 735.73,-122.61"></polygon> </g> <!-- a23&#45;&gt;a33 --> <!-- a23&#45;&gt;O1 --> <g id="edge80" class="edge">
<title>
a23:e-&gt;O1:w
</title>
<path fill="none" stroke="black" d="M567.89,-274.41C567.89,-274.41 693.98,-334.23 729.44,-351.06"></path> <polygon fill="black" stroke="black" points="728.08,-354.29 738.62,-355.41 731.08,-347.96 728.08,-354.29"></polygon> </g> <!-- a23&#45;&gt;O2 --> <g id="edge81" class="edge">
<title>
a23:e-&gt;O2:w
</title>
<path fill="none" stroke="black" d="M567.89,-274.41C567.89,-274.41 691.7,-274.41 728.45,-274.41"></path> <polygon fill="black" stroke="black" points="728.62,-277.91 738.62,-274.41 728.62,-270.91 728.62,-277.91"></polygon> </g> <!-- a23&#45;&gt;O3 --> <g id="edge82" class="edge">
<title>
a23:e-&gt;O3:w
</title>
<path fill="none" stroke="black" d="M567.89,-274.41C567.89,-274.41 693.98,-214.59 729.44,-197.77"></path> <polygon fill="black" stroke="black" points="731.08,-200.86 738.62,-193.41 728.08,-194.54 731.08,-200.86"></polygon> </g> <!-- a23&#45;&gt;O4 --> <g id="edge83" class="edge">
<title>
a23:e-&gt;O4:w
</title>
<path fill="none" stroke="black" d="M567.89,-274.41C567.89,-274.41 698.6,-150.38 731.28,-119.37"></path> <polygon fill="black" stroke="black" points="733.77,-121.83 738.62,-112.41 728.95,-116.76 733.77,-121.83"></polygon> </g> <!-- a33&#45;&gt;a43 --> <!-- a33&#45;&gt;O1 --> <g id="edge84" class="edge">
<title>
a33:e-&gt;O1:w
</title>
<path fill="none" stroke="black" d="M567.89,-193.41C567.89,-193.41 698.6,-317.44 731.28,-348.45"></path> <polygon fill="black" stroke="black" points="728.95,-351.07 738.62,-355.41 733.77,-345.99 728.95,-351.07"></polygon> </g> <!-- a33&#45;&gt;O2 --> <g id="edge85" class="edge">
<title>
a33:e-&gt;O2:w
</title>
<path fill="none" stroke="black" d="M567.89,-193.41C567.89,-193.41 693.98,-253.23 729.44,-270.06"></path> <polygon fill="black" stroke="black" points="728.08,-273.29 738.62,-274.41 731.08,-266.96 728.08,-273.29"></polygon> </g> <!-- a33&#45;&gt;O3 --> <g id="edge86" class="edge">
<title>
a33:e-&gt;O3:w
</title>
<path fill="none" stroke="black" d="M567.89,-193.41C567.89,-193.41 691.7,-193.41 728.45,-193.41"></path> <polygon fill="black" stroke="black" points="728.62,-196.91 738.62,-193.41 728.62,-189.91 728.62,-196.91"></polygon> </g> <!-- a33&#45;&gt;O4 --> <g id="edge87" class="edge">
<title>
a33:e-&gt;O4:w
</title>
<path fill="none" stroke="black" d="M567.89,-193.41C567.89,-193.41 693.98,-133.59 729.44,-116.77"></path> <polygon fill="black" stroke="black" points="731.08,-119.86 738.62,-112.41 728.08,-113.54 731.08,-119.86"></polygon> </g> <!-- a43&#45;&gt;a53 --> <!-- a43&#45;&gt;O1 --> <g id="edge88" class="edge">
<title>
a43:e-&gt;O1:w
</title>
<path fill="none" stroke="black" d="M567.89,-112.41C567.89,-112.41 702.72,-304.32 732.74,-347.05"></path> <polygon fill="black" stroke="black" points="730,-349.24 738.62,-355.41 735.73,-345.22 730,-349.24"></polygon> </g> <!-- a43&#45;&gt;O2 --> <g id="edge89" class="edge">
<title>
a43:e-&gt;O2:w
</title>
<path fill="none" stroke="black" d="M567.89,-112.41C567.89,-112.41 698.6,-236.44 731.28,-267.45"></path> <polygon fill="black" stroke="black" points="728.95,-270.07 738.62,-274.41 733.77,-264.99 728.95,-270.07"></polygon> </g> <!-- a43&#45;&gt;O3 --> <g id="edge90" class="edge">
<title>
a43:e-&gt;O3:w
</title>
<path fill="none" stroke="black" d="M567.89,-112.41C567.89,-112.41 693.98,-172.23 729.44,-189.06"></path> <polygon fill="black" stroke="black" points="728.08,-192.29 738.62,-193.41 731.08,-185.96 728.08,-192.29"></polygon> </g> <!-- a43&#45;&gt;O4 --> <g id="edge91" class="edge">
<title>
a43:e-&gt;O4:w
</title>
<path fill="none" stroke="black" d="M567.89,-112.41C567.89,-112.41 691.7,-112.41 728.45,-112.41"></path> <polygon fill="black" stroke="black" points="728.62,-115.91 738.62,-112.41 728.62,-108.91 728.62,-115.91"></polygon> </g> <!-- a53&#45;&gt;O1 --> <g id="edge92" class="edge">
<title>
a53:e-&gt;O1:w
</title>
<path fill="none" stroke="black" d="M567.89,-31.41C567.89,-31.41 706.3,-294.08 733.87,-346.41"></path> <polygon fill="black" stroke="black" points="730.86,-348.2 738.62,-355.41 737.05,-344.93 730.86,-348.2"></polygon> </g> <!-- a53&#45;&gt;O2 --> <g id="edge93" class="edge">
<title>
a53:e-&gt;O2:w
</title>
<path fill="none" stroke="black" d="M567.89,-31.41C567.89,-31.41 702.72,-223.32 732.74,-266.05"></path> <polygon fill="black" stroke="black" points="730,-268.24 738.62,-274.41 735.73,-264.22 730,-268.24"></polygon> </g> <!-- a53&#45;&gt;O3 --> <g id="edge94" class="edge">
<title>
a53:e-&gt;O3:w
</title>
<path fill="none" stroke="black" d="M567.89,-31.41C567.89,-31.41 698.6,-155.44 731.28,-186.45"></path> <polygon fill="black" stroke="black" points="728.95,-189.07 738.62,-193.41 733.77,-183.99 728.95,-189.07"></polygon> </g> <!-- a53&#45;&gt;O4 --> <g id="edge95" class="edge">
<title>
a53:e-&gt;O4:w
</title>
<path fill="none" stroke="black" d="M567.89,-31.41C567.89,-31.41 693.98,-91.23 729.44,-108.06"></path> <polygon fill="black" stroke="black" points="728.08,-111.29 738.62,-112.41 731.08,-104.96 728.08,-111.29"></polygon> </g> <!-- O1&#45;&gt;O2 --> <!-- O2&#45;&gt;O3 --> <!-- O3&#45;&gt;O4 --> <!-- l0 --> <g id="node21" class="node">
<title>
l0
</title>
<text text-anchor="middle" x="63.78" y="-334.21" font-family="Times,serif" font-size="14.00">layer 1 (input layer)</text> </g> <!-- l0&#45;&gt;x0 --> <!-- l1 --> <g id="node22" class="node">
<title>
l1
</title>
<text text-anchor="middle" x="297.01" y="-499.21" font-family="Times,serif" font-size="14.00">layer 2 (hidden layer)</text> </g> <!-- l1&#45;&gt;a02 --> <!-- l2 --> <g id="node23" class="node">
<title>
l2
</title>
<text text-anchor="middle" x="534.89" y="-499.21" font-family="Times,serif" font-size="14.00">layer 3 (hidden layer)</text> </g> <!-- l2&#45;&gt;a03 --> <!-- l3 --> <g id="node24" class="node">
<title>
l3
</title>
<text text-anchor="middle" x="771.62" y="-418.21" font-family="Times,serif" font-size="14.00">layer 4 (output layer)</text> </g> <!-- l3&#45;&gt;O1 --> </g>
</svg>
</div>
</div>
</div>
</div>
<div class="cell">
<div class="cell-output-display">
<div>
<div>
<svg width="672" height="480" viewbox="0.00 0.00 270.55 167.39" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" style="; max-width: none; max-height: none">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 163.39)">
<title>
threevar
</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-163.39 266.55,-163.39 266.55,4 -4,4"></polygon> <!-- k --> <g id="node1" class="node">
<title>
k
</title>
<ellipse fill="none" stroke="black" cx="27" cy="-79.69" rx="27" ry="18"></ellipse> <text text-anchor="middle" x="27" y="-75.49" font-family="Times,serif" font-size="14.00">?</text> </g> <!-- X1 --> <g id="node2" class="node">
<title>
X1
</title>
<polygon fill="none" stroke="black" points="184.16,-154.69 130.16,-154.69 130.16,-118.69 184.16,-118.69 184.16,-154.69"></polygon> <text text-anchor="middle" x="157.16" y="-132.49" font-family="Times,serif" font-size="14.00">X1</text> </g> <!-- k&#45;&gt;X1 --> <g id="edge1" class="edge">
<title>
k-&gt;X1
</title>
<path fill="none" stroke="black" d="M50.03,-89.49C69.44,-98.13 98.08,-110.86 120.71,-120.93"></path> <polygon fill="black" stroke="black" points="119.44,-124.19 130,-125.06 122.28,-117.8 119.44,-124.19"></polygon> <text text-anchor="middle" x="92.08" y="-118.69" font-family="Times,serif" font-size="10.00">n@_{S}</text> </g> <!-- X2 --> <g id="node3" class="node">
<title>
X2
</title>
<polygon fill="none" stroke="black" points="184.16,-97.69 130.16,-97.69 130.16,-61.69 184.16,-61.69 184.16,-97.69"></polygon> <text text-anchor="middle" x="157.16" y="-75.49" font-family="Times,serif" font-size="14.00">X2</text> </g> <!-- k&#45;&gt;X2 --> <g id="edge2" class="edge">
<title>
k-&gt;X2
</title>
<path fill="none" stroke="black" d="M54.24,-79.69C73.16,-79.69 98.94,-79.69 119.84,-79.69"></path> <polygon fill="black" stroke="black" points="119.95,-83.19 129.95,-79.69 119.95,-76.19 119.95,-83.19"></polygon> <text text-anchor="middle" x="92.08" y="-82.69" font-family="Times,serif" font-size="10.00">θ@^{(h)}</text> </g> <!-- X3 --> <g id="node4" class="node">
<title>
X3
</title>
<polygon fill="none" stroke="black" points="184.16,-41.69 130.16,-41.69 130.16,-5.69 184.16,-5.69 184.16,-41.69"></polygon> <text text-anchor="middle" x="157.16" y="-19.49" font-family="Times,serif" font-size="14.00">X3</text> </g> <!-- k&#45;&gt;X3 --> <g id="edge3" class="edge">
<title>
k-&gt;X3
</title>
<path fill="none" stroke="black" d="M50.03,-70.07C69.44,-61.58 98.08,-49.07 120.71,-39.18"></path> <polygon fill="black" stroke="black" points="122.24,-42.34 130,-35.13 119.43,-35.92 122.24,-42.34"></polygon> <text text-anchor="middle" x="92.08" y="-62.69" font-family="Times,serif" font-size="10.00">?3</text> </g> <!-- z1 --> <g id="node5" class="node">
<title>
z1
</title>
<ellipse fill="none" stroke="black" cx="241.85" cy="-138.69" rx="20.89" ry="20.89"></ellipse> <text text-anchor="middle" x="241.85" y="-134.49" font-family="Times,serif" font-size="14.00">d1</text> </g> <!-- z1&#45;&gt;X1 --> <g id="edge4" class="edge">
<title>
z1-&gt;X1
</title>
<path fill="none" stroke="black" d="M221.15,-138.22C213.14,-138.02 203.63,-137.79 194.45,-137.57"></path> <polygon fill="black" stroke="black" points="194.41,-134.07 184.33,-137.33 194.24,-141.07 194.41,-134.07"></polygon> </g> <!-- z2 --> <g id="node6" class="node">
<title>
z2
</title>
<ellipse fill="none" stroke="black" cx="241.85" cy="-79.69" rx="20.89" ry="20.89"></ellipse> <text text-anchor="middle" x="241.85" y="-75.49" font-family="Times,serif" font-size="14.00">d2</text> </g> <!-- z2&#45;&gt;X2 --> <g id="edge5" class="edge">
<title>
z2-&gt;X2
</title>
<path fill="none" stroke="black" d="M221.15,-79.69C213.14,-79.69 203.63,-79.69 194.45,-79.69"></path> <polygon fill="black" stroke="black" points="194.33,-76.19 184.33,-79.69 194.33,-83.19 194.33,-76.19"></polygon> </g> <!-- z3 --> <g id="node7" class="node">
<title>
z3
</title>
<ellipse fill="none" stroke="black" cx="241.85" cy="-20.69" rx="20.89" ry="20.89"></ellipse> <text text-anchor="middle" x="241.85" y="-16.49" font-family="Times,serif" font-size="14.00">d3</text> </g> <!-- z3&#45;&gt;X3 --> <g id="edge6" class="edge">
<title>
z3-&gt;X3
</title>
<path fill="none" stroke="black" d="M221.15,-21.41C213.14,-21.7 203.63,-22.04 194.45,-22.38"></path> <polygon fill="black" stroke="black" points="194.19,-18.88 184.33,-22.74 194.45,-25.88 194.19,-18.88"></polygon> </g> </g>
</svg>
</div>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grViz</span>(<span class="st">'digraph threevar {</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="st">      rankdir=LR;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="st">      size="8,4";</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="st">      node [fontsize=14 shape=box];</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="st">      edge [fontsize=10];</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="st">      center=1;</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="st">      {rank=min k }</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="st">      {rank=same X1 X2 X3 }</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="st">      {rank=max z1 z2 z3 }</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="st">      z1 [shape=circle label="d1"];</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="st">      z2 [shape=circle label="d2"];</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="st">      z3 [shape=circle label="d3"];</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="st">      k [label="?" shape="ellipse"];</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="st">      k -&gt; X1 [label="n@_{S}"];</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="st">      k -&gt; X2 [label="&amp;theta;@^{(h)}"];</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="st">      k -&gt; X3 [label="?3"];</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="st">      z1 -&gt; X1;</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="st">      z2 -&gt; X2;</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a><span class="st">      z3 -&gt; X3;</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="st">      '</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-124cae4f68989dc771fe" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-124cae4f68989dc771fe">{"x":{"diagram":"digraph threevar {\n      rankdir=LR;\n      size=\"8,4\";\n      node [fontsize=14 shape=box];\n      edge [fontsize=10];\n      center=1;\n      {rank=min k }\n      {rank=same X1 X2 X3 }\n      {rank=max z1 z2 z3 }\n      z1 [shape=circle label=\"d1\"];\n      z2 [shape=circle label=\"d2\"];\n      z3 [shape=circle label=\"d3\"];\n      k [label=\"?\" shape=\"ellipse\"];\n      k -> X1 [label=\"n@_{S}\"];\n      k -> X2 [label=\"&theta;@^{(h)}\"];\n      k -> X3 [label=\"?3\"];\n      z1 -> X1;\n      z2 -> X2;\n      z3 -> X3;\n    }\n      ","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grViz</span>(<span class="st">"digraph dot {</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="st">      graph [style = filled, fillcolor = white]</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="st">      </span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="st">      node [shape = circle,</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="st">            style = filled, fillcolor = white,</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="st">            fixedsize = true, width = 0.5, height = 0.5,</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="st">            fontname = 'Times-italic']</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="st">        c</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="st">        d</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="st">      node [shape = doublecircle,</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="st">            style = filled, fillcolor = white,</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="st">            fixedsize = true, width = 0.5, height = 0.5,</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="st">            fontname = 'Times-italic']</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="st">        thetah [label = '&amp;theta;@^{(h)}']</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="st">        thetaf [label = '&amp;theta;@^{(f)}']</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="st">      node [shape = square,</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="st">            style = filled, fillcolor = grey,</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="st">            fixedsize = true, width=0.5, height=0.5,</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="st">            fontname = 'Times-italic']</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="st">        h</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="st">        f</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="st">        ns [label = 'n@_{S}']</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="st">        nn [label = 'n@_{N}']</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="st">      </span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="st">      edge [color = black]</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="st">        c -&gt; thetah -&gt; h</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="st">        d -&gt; thetaf -&gt; f</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="st">        c -&gt; thetaf</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="st">        d -&gt; thetah</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="st">        ns -&gt; h</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="st">        nn -&gt; f</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a><span class="st">      {rank = max; ns; nn}</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="st">      }"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c7d69ede146cfa22b14d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-c7d69ede146cfa22b14d">{"x":{"diagram":"digraph dot {\n      graph [style = filled, fillcolor = white]\n      \n      node [shape = circle,\n            style = filled, fillcolor = white,\n            fixedsize = true, width = 0.5, height = 0.5,\n            fontname = \"Times-italic\"]\n        c\n        d\n      node [shape = doublecircle,\n            style = filled, fillcolor = white,\n            fixedsize = true, width = 0.5, height = 0.5,\n            fontname = \"Times-italic\"]\n        thetah [label = <&theta;<FONT POINT-SIZE=\"8\"><SUP>(h)<\/SUP><\/FONT>>]\n        thetaf [label = <&theta;<FONT POINT-SIZE=\"8\"><SUP>(f)<\/SUP><\/FONT>>]\n      node [shape = square,\n            style = filled, fillcolor = grey,\n            fixedsize = true, width=0.5, height=0.5,\n            fontname = \"Times-italic\"]\n        h\n        f\n        ns [label = <n<FONT POINT-SIZE=\"8\"><SUB>S<\/SUB><\/FONT>>]\n        nn [label = <n<FONT POINT-SIZE=\"8\"><SUB>N<\/SUB><\/FONT>>]\n      \n      edge [color = black]\n        c -> thetah -> h\n        d -> thetaf -> f\n        c -> thetaf\n        d -> thetah\n        ns -> h\n        nn -> f\n      {rank = max; ns; nn}\n      }","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grViz</span>(<span class="st">"digraph dot {</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="st">      graph [style = filled, fillcolor = white,</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="st">             rankdir = LR,</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="st">             newrank = true]</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="st">      </span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="st">      node [shape = circle,</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="st">            style = filled, fillcolor = white,</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="st">            fixedsize = true, width = 0.5, height = 0.5,</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="st">            fontname = 'Times-italic']</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="st">        p [fillcolor = gray]</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="st">        gamma [label = '&amp;gamma;']</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="st">        omega [label = '&amp;omega;', shape = doublecircle]</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="st">        beta [label = '&amp;beta;']</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="st">      subgraph cluster_out{</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a><span class="st">        fontsize = 8</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="st">        label = &lt;&lt;I&gt;j&lt;/I&gt;:試行&gt;</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="st">        labelloc = b</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a><span class="st">        labeljust = r</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a><span class="st">        subgraph cluster_in{</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a><span class="st">          fontsize = 8</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a><span class="st">          label = &lt;&lt;I&gt;k&lt;/I&gt;:回数&gt;</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a><span class="st">          labelloc = b</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a><span class="st">          labeljust = r</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a><span class="st">          thetajk [label = '&amp;theta;@_{jk}', shape = doublecircle]</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="st">          djk [label = 'd@_{jk}', shape = square, fillcolor = gray]</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="st">        }}</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="st">      edge [color=black]</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="st">        p -&gt; omega -&gt; thetajk -&gt; djk</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a><span class="st">        gamma -&gt; omega</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a><span class="st">        beta -&gt; thetajk </span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a><span class="st">      {rank = same; gamma; omega}</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="st">      {rank = same; beta; thetajk}</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a><span class="st">      }"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2a4d93ced886b5187b71" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2a4d93ced886b5187b71">{"x":{"diagram":"digraph dot {\n      graph [style = filled, fillcolor = white,\n             rankdir = LR,\n             newrank = true]\n      \n      node [shape = circle,\n            style = filled, fillcolor = white,\n            fixedsize = true, width = 0.5, height = 0.5,\n            fontname = \"Times-italic\"]\n        p [fillcolor = gray]\n        gamma [label = \"&gamma;\"]\n        omega [label = \"&omega;\", shape = doublecircle]\n        beta [label = \"&beta;\"]\n      subgraph cluster_out{\n        fontsize = 8\n        label = <<I>j<\/I>:試行>\n        labelloc = b\n        labeljust = r\n        subgraph cluster_in{\n          fontsize = 8\n          label = <<I>k<\/I>:回数>\n          labelloc = b\n          labeljust = r\n          thetajk [label = <&theta;<FONT POINT-SIZE=\"8\"><SUB>jk<\/SUB><\/FONT>>, shape = doublecircle]\n          djk [label = <d<FONT POINT-SIZE=\"8\"><SUB>jk<\/SUB><\/FONT>>, shape = square, fillcolor = gray]\n        }}\n      edge [color=black]\n        p -> omega -> thetajk -> djk\n        gamma -> omega\n        beta -> thetajk \n      {rank = same; gamma; omega}\n      {rank = same; beta; thetajk}\n      }","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grViz</span>(<span class="st">'</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="st">digraph G {</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="st">    fontname="Helvetica,Arial,sans-serif"</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="st">    node [fontname="Helvetica,Arial,sans-serif"]</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="st">    edge [fontname="Helvetica,Arial,sans-serif"]</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="st">    subgraph cluster_0 {</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="st">        style=filled;</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="st">        color=lightgrey;</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="st">        node [style=filled,color=white];</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="st">        a0 -&gt; a1 -&gt; a2 -&gt; a3;</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="st">        label = "process #1";</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="st">    subgraph cluster_1 {</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="st">        node [style=filled];</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="st">        b0 -&gt; b1 -&gt; b2 -&gt; b3;</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="st">        label = "process #2";</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="st">        color=blue</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="st">    }</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="st">    start -&gt; a0;</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a><span class="st">    start -&gt; b0;</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a><span class="st">    a1 -&gt; b3;</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="st">    b2 -&gt; a3;</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a><span class="st">    a3 -&gt; a0;</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="st">    a3 -&gt; end;</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a><span class="st">    b3 -&gt; end;</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a><span class="st">    start [shape=Mdiamond];</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="st">    end [shape=Msquare];</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a><span class="st">}'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-4b26458d8e881a788d6d" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-4b26458d8e881a788d6d">{"x":{"diagram":"\ndigraph G {\n\tfontname=\"Helvetica,Arial,sans-serif\"\n\tnode [fontname=\"Helvetica,Arial,sans-serif\"]\n\tedge [fontname=\"Helvetica,Arial,sans-serif\"]\n\n\tsubgraph cluster_0 {\n\t\tstyle=filled;\n\t\tcolor=lightgrey;\n\t\tnode [style=filled,color=white];\n\t\ta0 -> a1 -> a2 -> a3;\n\t\tlabel = \"process #1\";\n\t}\n\n\tsubgraph cluster_1 {\n\t\tnode [style=filled];\n\t\tb0 -> b1 -> b2 -> b3;\n\t\tlabel = \"process #2\";\n\t\tcolor=blue\n\t}\n\tstart -> a0;\n\tstart -> b0;\n\ta1 -> b3;\n\tb2 -> a3;\n\ta3 -> a0;\n\ta3 -> end;\n\tb3 -> end;\n\n\tstart [shape=Mdiamond];\n\tend [shape=Msquare];\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">#https://graphviz.org/Gallery/directed/neural-network.html</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="fu">grViz</span>(<span class="st">'digraph G {</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="st">  fontname="Helvetica,Arial,sans-serif"</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="st">  node [fontname="Helvetica,Arial,sans-serif"]</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="st">  edge [fontname="Helvetica,Arial,sans-serif"]</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="st">  concentrate=True;</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="st">  rankdir=TB;</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="st">  node [shape=record];</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a><span class="st">  140087530674552 [label="title: InputLayer</span><span class="sc">\n</span><span class="st">|{input:|output:}|{{[(?, ?)]}|{[(?, ?)]}}"];</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="st">  140087537895856 [label="body: InputLayer</span><span class="sc">\n</span><span class="st">|{input:|output:}|{{[(?, ?)]}|{[(?, ?)]}}"];</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="st">  140087531105640 [label="embedding_2: Embedding</span><span class="sc">\n</span><span class="st">|{input:|output:}|{{(?, ?)}|{(?, ?, 64)}}"];</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a><span class="st">  140087530711024 [label="embedding_3: Embedding</span><span class="sc">\n</span><span class="st">|{input:|output:}|{{(?, ?)}|{(?, ?, 64)}}"];</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="st">  140087537980360 [label="lstm_2: LSTM</span><span class="sc">\n</span><span class="st">|{input:|output:}|{{(?, ?, 64)}|{(?, 128)}}"];</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="st">  140087531256464 [label="lstm_3: LSTM</span><span class="sc">\n</span><span class="st">|{input:|output:}|{{(?, ?, 64)}|{(?, 32)}}"];</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a><span class="st">  140087531106200 [label="tags: InputLayer</span><span class="sc">\n</span><span class="st">|{input:|output:}|{{[(?, 12)]}|{[(?, 12)]}}"];</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a><span class="st">  140087530348048 [label="concatenate_1: Concatenate</span><span class="sc">\n</span><span class="st">|{input:|output:}|{{[(?, 128), (?, 32), (?, 12)]}|{(?, 172)}}"];</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="st">  140087530347992 [label="priority: Dense</span><span class="sc">\n</span><span class="st">|{input:|output:}|{{(?, 172)}|{(?, 1)}}"];</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="st">  140087530711304 [label="department: Dense</span><span class="sc">\n</span><span class="st">|{input:|output:}|{{(?, 172)}|{(?, 4)}}"];</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a><span class="st">  140087530674552 -&gt; 140087531105640;</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a><span class="st">  140087537895856 -&gt; 140087530711024;</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a><span class="st">  140087531105640 -&gt; 140087537980360;</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a><span class="st">  140087530711024 -&gt; 140087531256464;</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a><span class="st">  140087537980360 -&gt; 140087530348048;</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="st">  140087531256464 -&gt; 140087530348048;</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a><span class="st">  140087531106200 -&gt; 140087530348048;</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a><span class="st">  140087530348048 -&gt; 140087530347992;</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="st">  140087530348048 -&gt; 140087530711304;</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a><span class="st">}'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-2bae97bb4554ab721dff" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2bae97bb4554ab721dff">{"x":{"diagram":"digraph G {\n  fontname=\"Helvetica,Arial,sans-serif\"\n  node [fontname=\"Helvetica,Arial,sans-serif\"]\n  edge [fontname=\"Helvetica,Arial,sans-serif\"]\n  concentrate=True;\n  rankdir=TB;\n  node [shape=record];\n  140087530674552 [label=\"title: InputLayer\n|{input:|output:}|{{[(?, ?)]}|{[(?, ?)]}}\"];\n  140087537895856 [label=\"body: InputLayer\n|{input:|output:}|{{[(?, ?)]}|{[(?, ?)]}}\"];\n  140087531105640 [label=\"embedding_2: Embedding\n|{input:|output:}|{{(?, ?)}|{(?, ?, 64)}}\"];\n  140087530711024 [label=\"embedding_3: Embedding\n|{input:|output:}|{{(?, ?)}|{(?, ?, 64)}}\"];\n  140087537980360 [label=\"lstm_2: LSTM\n|{input:|output:}|{{(?, ?, 64)}|{(?, 128)}}\"];\n  140087531256464 [label=\"lstm_3: LSTM\n|{input:|output:}|{{(?, ?, 64)}|{(?, 32)}}\"];\n  140087531106200 [label=\"tags: InputLayer\n|{input:|output:}|{{[(?, 12)]}|{[(?, 12)]}}\"];\n  140087530348048 [label=\"concatenate_1: Concatenate\n|{input:|output:}|{{[(?, 128), (?, 32), (?, 12)]}|{(?, 172)}}\"];\n  140087530347992 [label=\"priority: Dense\n|{input:|output:}|{{(?, 172)}|{(?, 1)}}\"];\n  140087530711304 [label=\"department: Dense\n|{input:|output:}|{{(?, 172)}|{(?, 4)}}\"];\n  140087530674552 -> 140087531105640;\n  140087537895856 -> 140087530711024;\n  140087531105640 -> 140087537980360;\n  140087530711024 -> 140087531256464;\n  140087537980360 -> 140087530348048;\n  140087531256464 -> 140087530348048;\n  140087531106200 -> 140087530348048;\n  140087530348048 -> 140087530347992;\n  140087530348048 -> 140087530711304;\n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(data.table)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(qreport)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(consort)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Load the necessary libraries</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(data.table)</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(qreport)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Define the mermaid diagram</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">'</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="st">graph LR</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="st">  InputLayer[Input Layer] --&gt; I1[{{I1}}]</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a><span class="st">  InputLayer --&gt; I2[{{I2}}]</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a><span class="st">  InputLayer --&gt; I3[{{I3}}]</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a><span class="st">  I1 --&gt; O1[w1]</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a><span class="st">  I1 --&gt; O2[w2]</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a><span class="st">  I1 --&gt; O3[w3]</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="st">  I1 --&gt; O4[w4]</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="st">  I2 --&gt; O1[w5]</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="st">  I2 --&gt; O2[w6]</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a><span class="st">  I2 --&gt; O3[w7]</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="st">  I2 --&gt; O4[w8]</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a><span class="st">  I3 --&gt; O1[w9]</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a><span class="st">  I3 --&gt; O2[w10]</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a><span class="st">  I3 --&gt; O3[w11]</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="st">  I3 --&gt; O4[w12]</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a><span class="st">  OutputLayer[Output Layer] --&gt; O1</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a><span class="st">  OutputLayer --&gt; O2</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a><span class="st">  OutputLayer --&gt; O3</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a><span class="st">  OutputLayer --&gt; O4</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a><span class="st">  OutputLayer --&gt; ALM[ALM Response]</span></span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a><span class="st">  OutputLayer --&gt; EXAM[EXAM Response]</span></span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a><span class="st">  ALM --&gt; EXAM[Pure ALM Model]</span></span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a><span class="st">  EXAM --&gt; ALM[ALM with EXAM Response Component]</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate the mermaid diagram</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a><span class="fu">makemermaid</span>(x,</span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>            <span class="at">I1 =</span> <span class="st">'![Gaussian Curve](gaussian_curve_input_node_1.png)'</span>,</span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>            <span class="at">I2 =</span> <span class="st">'![Gaussian Curve](gaussian_curve_input_node_2.png)'</span>,</span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>            <span class="at">I3 =</span> <span class="st">'![Gaussian Curve](gaussian_curve_input_node_3.png)'</span>,</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>            <span class="at">file =</span> <span class="st">'alm_exam.mer'</span></span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the mermaid diagram</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a><span class="co"># cat('```{mermaid}\n')</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a><span class="co"># cat(readLines('alm_exam.mer'), sep = '\n')</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a><span class="co"># cat('```\n')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-file="alm_exam.mer">
<div class="cell-output-display">
<div id="fig-doverview-mermaid2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div>
<pre class="mermaid mermaid-js" data-label="fig-doverview-mermaid2">graph LR
  InputLayer[Input Layer] --&gt; I1[![Gaussian Curve](gaussian_curve_input_node_1.png)]
  InputLayer --&gt; I2[![Gaussian Curve](gaussian_curve_input_node_2.png)]
  InputLayer --&gt; I3[![Gaussian Curve](gaussian_curve_input_node_3.png)]
  I1 --&gt; O1[w1]
  I1 --&gt; O2[w2]
  I1 --&gt; O3[w3]
  I1 --&gt; O4[w4]
  I2 --&gt; O1[w5]
  I2 --&gt; O2[w6]
  I2 --&gt; O3[w7]
  I2 --&gt; O4[w8]
  I3 --&gt; O1[w9]
  I3 --&gt; O2[w10]
  I3 --&gt; O3[w11]
  I3 --&gt; O4[w12]
  OutputLayer[Output Layer] --&gt; O1
  OutputLayer --&gt; O2
  OutputLayer --&gt; O3
  OutputLayer --&gt; O4
  OutputLayer --&gt; ALM[ALM Response]
  OutputLayer --&gt; EXAM[EXAM Response]
  ALM --&gt; EXAM[Pure ALM Model]
  EXAM --&gt; ALM[ALM with EXAM Response Component]
</pre>
</div>
<figcaption class="figure-caption">Figure&nbsp;1: ALM diagram produced with <code>mermaid</code> with individual exclusions linked to the overall exclusions node, and with a tooltip to show more detail</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(consort)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1001</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>N <span class="ot">&lt;-</span> <span class="dv">300</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>trialno <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">1000</span><span class="sc">:</span><span class="dv">2000</span>), N)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>exc <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, N)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>exc[<span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span>N, <span class="dv">15</span>)] <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"Sample not collected"</span>, <span class="st">"MRI not collected"</span>, <span class="st">"Other"</span>),</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>                                <span class="dv">15</span>, <span class="at">replace =</span> T, <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.4</span>, <span class="fl">0.4</span>, <span class="fl">0.2</span>))</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>arm <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, N)</span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>arm[<span class="fu">is.na</span>(exc)] <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"Conc"</span>, <span class="st">"Seq"</span>), <span class="fu">sum</span>(<span class="fu">is.na</span>(exc)), <span class="at">replace =</span> T)</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>fow1 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, N)</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>fow1[<span class="sc">!</span><span class="fu">is.na</span>(arm)] <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"Withdraw"</span>, <span class="st">"Discontinued"</span>, <span class="st">"Death"</span>, <span class="st">"Other"</span>, <span class="cn">NA</span>),</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>                            <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(arm)), <span class="at">replace =</span> T, </span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>                            <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>, <span class="fl">0.05</span>, <span class="fl">0.05</span>, <span class="fl">0.8</span>))</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>fow2 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="cn">NA</span>, N)</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>fow2[<span class="sc">!</span><span class="fu">is.na</span>(arm) <span class="sc">&amp;</span> <span class="fu">is.na</span>(fow1)] <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">"Protocol deviation"</span>, <span class="st">"Outcome missing"</span>, <span class="cn">NA</span>),</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>                                          <span class="fu">sum</span>(<span class="sc">!</span><span class="fu">is.na</span>(arm) <span class="sc">&amp;</span> <span class="fu">is.na</span>(fow1)), <span class="at">replace =</span> T, </span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>                                          <span class="at">prob =</span> <span class="fu">c</span>(<span class="fl">0.05</span>, <span class="fl">0.05</span>, <span class="fl">0.9</span>))</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(trialno, exc, arm, fow1, fow2)</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>out <span class="ot">&lt;-</span> <span class="fu">consort_plot</span>(<span class="at">data =</span> df,</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>             <span class="at">order =</span> <span class="fu">c</span>(<span class="at">trialno =</span> <span class="st">"Population"</span>,</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>                          <span class="at">exc    =</span> <span class="st">"Excluded"</span>,</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>                          <span class="at">arm     =</span> <span class="st">"Randomized patient"</span>,</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>                          <span class="at">fow1    =</span> <span class="st">"Lost of Follow-up"</span>,</span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>                          <span class="at">trialno =</span> <span class="st">"Finished Followup"</span>,</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>                          <span class="at">fow2    =</span> <span class="st">"Not evaluable"</span>,</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>                          <span class="at">trialno =</span> <span class="st">"Final Analysis"</span>),</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>             <span class="at">side_box =</span> <span class="fu">c</span>(<span class="st">"exc"</span>, <span class="st">"fow1"</span>, <span class="st">"fow2"</span>),</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>             <span class="at">allocation =</span> <span class="st">"arm"</span>,</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>             <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"1"</span> <span class="ot">=</span> <span class="st">"Screening"</span>, <span class="st">"2"</span> <span class="ot">=</span> <span class="st">"Randomization"</span>,</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>                        <span class="st">"5"</span> <span class="ot">=</span> <span class="st">"Final"</span>),</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>             <span class="at">cex =</span> <span class="fl">0.6</span>)</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(out)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="mermaid_consort_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(out, <span class="at">grViz =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-78cb9aabec7578b1f0a4" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-78cb9aabec7578b1f0a4">{"x":{"diagram":"digraph consort_diagram {\n  graph [layout = dot]\n\nnode [shape = rectangle, style = \"rounded,filled\", fillcolor = \"#A9C7FD\" color = \"#4F81BD\"]\nlabel14 [label = \"Screening\"]\nlabel15 [label = \"Randomization\"]\nlabel16 [label = \"Final\"]\n\n\nedge[style=invis];\nlabel14 -> label15 -> label16;\n\n\n# node definitions with substituted label text\n  node [shape = rectangle, fillcolor = Biege, style=\"\", fillcolor = \"\", color = \"\"]\n\nnode1 [label = \"Population (n=300)\"]\nnode2 [label = \"Excluded (n=15):\\l• MRI not collected (n=3)\\l• Other (n=4)\\l• Sample not collected (n=8)\\l\"]\nnode3 [label = \"Randomized patient (n=285)\"]\nnode4 [label = \"Conc (n=158)\"]\nnode5 [label = \"Seq (n=127)\"]\nnode6 [label = \"Lost of Follow-up (n=33):\\l• Death (n=12)\\l• Discontinued (n=4)\\l• Other (n=11)\\l• Withdraw (n=6)\\l\"]\nnode7 [label = \"Lost of Follow-up (n=26):\\l• Death (n=5)\\l• Discontinued (n=6)\\l• Other (n=11)\\l• Withdraw (n=4)\\l\"]\nnode8 [label = \"Finished Followup (n=125)\"]\nnode9 [label = \"Finished Followup (n=101)\"]\nnode10 [label = \"Not evaluable (n=6):\\l• Outcome missing (n=4)\\l• Protocol deviation (n=2)\\l\"]\nnode11 [label = \"Not evaluable (n=5):\\l• Outcome missing (n=4)\\l• Protocol deviation (n=1)\\l\"]\nnode12 [label = \"Final Analysis (n=119)\"]\nnode13 [label = \"Final Analysis (n=96)\"]\n\n\n## Invisible point node for joints\n\nnode [shape = point, width = 0]\n\nP1 P2 P3 P4 P5 P6 P7 P8\n\nsubgraph {\n  rank = same; rankdir = LR; P1; node2;\n  }\nsubgraph {\n  rank = same; rankdir = LR; P2; P3; P4;\n  }\nsubgraph {\n  rank = same; rankdir = LR; node4; node5;\n  }\nsubgraph {\n  rank = same; rankdir = LR; P5; node6;\n  }\nsubgraph {\n  rank = same; rankdir = LR; node8; node9;\n  }\nsubgraph {\n  rank = same; rankdir = LR; node6; node7;\n  }\nsubgraph {\n  rank = same; rankdir = LR; P6; node7;\n  }\nsubgraph {\n  rank = same; rankdir = LR; P7; node10;\n  }\nsubgraph {\n  rank = same; rankdir = LR; label16;  node12; node13;\n  }\nsubgraph {\n  rank = same; rankdir = LR; node10; node11;\n  }\nsubgraph {\n  rank = same; rankdir = LR; P8; node11;\n  }\nsubgraph {\n  rank = same; rankdir = LR; label14; node1;\n  }\nsubgraph {\n  rank = same; rankdir = LR; label15; node3;\n  }\n\nedge[style=\"\"];\n\nnode1 -> P1 [arrowhead = none];\nP1 -> node2;\nP1 -> node3;\nnode3 -> P3 [arrowhead = none];\nP2 -> node4;\nP4 -> node5;\nP2 -> P3 -> P4 [arrowhead = none, minlen = 10];\nnode4 -> P5 [arrowhead = none];\nP5 -> node6;\nP5 -> node8;\nnode5 -> P6 [arrowhead = none];\nP6 -> node7;\nP6 -> node9;\nnode8 -> P7 [arrowhead = none];\nP7 -> node10;\nP7 -> node12;\nnode9 -> P8 [arrowhead = none];\nP8 -> node11;\nP8 -> node13;\n\n\n}\n","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(Hmisc)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(data.table)</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(qreport)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">hookaddcap</span>()</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>N <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">1</span>)</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>r <span class="ot">&lt;-</span> <span class="fu">data.table</span>(</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">id    =</span> <span class="dv">1</span> <span class="sc">:</span> N,</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="at">age   =</span> <span class="fu">round</span>(<span class="fu">rnorm</span>(N, <span class="dv">60</span>, <span class="dv">15</span>)),</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">pain  =</span> <span class="fu">sample</span>(<span class="dv">0</span> <span class="sc">:</span> <span class="dv">5</span>, N, <span class="at">replace=</span><span class="cn">TRUE</span>),</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">hxmed =</span> <span class="fu">sample</span>(<span class="dv">0</span> <span class="sc">:</span> <span class="dv">1</span>, N, <span class="at">replace=</span><span class="cn">TRUE</span>, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.95</span>, <span class="fl">0.05</span>))   )</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Set consent status to those not excluded at screening</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>r[age <span class="sc">&gt;=</span> <span class="dv">40</span> <span class="sc">&amp;</span> pain <span class="sc">&gt;</span> <span class="dv">0</span> <span class="sc">&amp;</span> hxmed <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>  consent <span class="sc">:</span><span class="er">=</span> <span class="fu">sample</span>(<span class="dv">0</span> <span class="sc">:</span> <span class="dv">1</span>, .N, <span class="at">replace=</span><span class="cn">TRUE</span>, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.1</span>, <span class="fl">0.9</span>))]</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Set randomization status for those consenting</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>r[consent <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>  randomized <span class="sc">:</span><span class="er">=</span> <span class="fu">sample</span>(<span class="dv">0</span> <span class="sc">:</span> <span class="dv">1</span>, .N, <span class="at">replace=</span><span class="cn">TRUE</span>, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.15</span>, <span class="fl">0.85</span>))]</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Add treatment and follow-up time to randomized subjects</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>r[randomized <span class="sc">==</span> <span class="dv">1</span>, tx     <span class="sc">:</span><span class="er">=</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="st">'A'</span>, <span class="st">'B'</span>), .N, <span class="at">replace=</span><span class="cn">TRUE</span>)]</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>r[randomized <span class="sc">==</span> <span class="dv">1</span>, futime <span class="sc">:</span><span class="er">=</span> <span class="fu">pmin</span>(<span class="fu">runif</span>(.N, <span class="dv">0</span>, <span class="dv">10</span>), <span class="dv">3</span>)]</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Add outcome status for those followed 3 years</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a few of those followed 3 years missing</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>r[futime <span class="sc">==</span> <span class="dv">3</span>,</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  y <span class="sc">:</span><span class="er">=</span> <span class="fu">sample</span>(<span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="cn">NA</span>), .N, <span class="at">replace=</span><span class="cn">TRUE</span>, <span class="at">prob=</span><span class="fu">c</span>(<span class="fl">0.75</span>, <span class="fl">0.2</span>, <span class="fl">0.05</span>))]</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Print first 15 subjects</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="fu">kabl</span>(r[<span class="dv">1</span> <span class="sc">:</span> <span class="dv">15</span>, ])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: right;">id</th>
<th style="text-align: right;">age</th>
<th style="text-align: right;">pain</th>
<th style="text-align: right;">hxmed</th>
<th style="text-align: right;">consent</th>
<th style="text-align: right;">randomized</th>
<th style="text-align: left;">tx</th>
<th style="text-align: right;">futime</th>
<th style="text-align: right;">y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">1</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">2</td>
<td style="text-align: right;">63</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3</td>
<td style="text-align: right;">47</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">4</td>
<td style="text-align: right;">84</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">5</td>
<td style="text-align: right;">65</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">6</td>
<td style="text-align: right;">48</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">7</td>
<td style="text-align: right;">67</td>
<td style="text-align: right;">3</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">2.0566</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">8</td>
<td style="text-align: right;">71</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">9</td>
<td style="text-align: right;">69</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">1.2815</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="even">
<td style="text-align: right;">10</td>
<td style="text-align: right;">55</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">1.2388</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">11</td>
<td style="text-align: right;">83</td>
<td style="text-align: right;">4</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">1</td>
</tr>
<tr class="even">
<td style="text-align: right;">12</td>
<td style="text-align: right;">66</td>
<td style="text-align: right;">5</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="odd">
<td style="text-align: right;">13</td>
<td style="text-align: right;">51</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">B</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: right;">14</td>
<td style="text-align: right;">27</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: left;">NA</td>
<td style="text-align: right;">NA</td>
<td style="text-align: right;">NA</td>
</tr>
<tr class="odd">
<td style="text-align: right;">15</td>
<td style="text-align: right;">77</td>
<td style="text-align: right;">2</td>
<td style="text-align: right;">0</td>
<td style="text-align: right;">1</td>
<td style="text-align: right;">1</td>
<td style="text-align: left;">A</td>
<td style="text-align: right;">3.0000</td>
<td style="text-align: right;">0</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>r[, exc <span class="sc">:</span><span class="er">=</span> <span class="fu">seqFreq</span>(<span class="st">'pain-free'</span>  <span class="ot">=</span> pain  <span class="sc">==</span> <span class="dv">0</span>,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>                    <span class="st">'Hx med'</span>    <span class="ot">=</span> hxmed <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                                  age <span class="sc">&lt;</span> <span class="dv">40</span>,</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                    <span class="at">noneNA=</span><span class="cn">TRUE</span>)]</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>eo  <span class="ot">&lt;-</span> <span class="fu">attr</span>(r[, exc], <span class="st">'obs.per.numcond'</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>mult <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">'1, 2, ≥3 exclusions: n='</span>,</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                eo[<span class="dv">2</span>], <span class="st">', '</span>,</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>                eo[<span class="dv">3</span>], <span class="st">', '</span>,</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>                eo[<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>)]  )</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>r[, <span class="fu">.q</span>(qual, consent, fin) <span class="sc">:</span><span class="er">=</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    .(<span class="fu">is.na</span>(exc),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ifelse</span>(consent <span class="sc">==</span> <span class="dv">1</span>, <span class="dv">1</span>, <span class="cn">NA</span>),</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ifelse</span>(futime  <span class="sc">&gt;=</span> <span class="dv">3</span>, <span class="dv">1</span>, <span class="cn">NA</span>))]</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>            </span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span>(consort)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="co"># consort_plot used to take a coords=c(0.4, 0.6) argument that prevented</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a><span class="co"># the collision you see here</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a><span class="fu">consort_plot</span>(r,</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>             <span class="at">orders =</span> <span class="fu">c</span>(<span class="at">id      =</span> <span class="st">'Screened'</span>,</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>                        <span class="at">exc     =</span> <span class="st">'Excluded'</span>,</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>                        <span class="at">qual    =</span> <span class="st">'Qualified for Randomization'</span>,</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>                        <span class="at">consent =</span> <span class="st">'Consented'</span>,</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>                        <span class="at">tx      =</span> <span class="st">'Randomized'</span>,</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>                        <span class="at">fin     =</span> <span class="st">'Finished'</span>,</span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>                        <span class="at">y       =</span> <span class="st">'Outcome</span><span class="sc">\n</span><span class="st">assessed'</span>),</span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>             <span class="at">side_box =</span> <span class="st">'exc'</span>,</span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>             <span class="at">allocation =</span> <span class="st">'tx'</span>,</span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>             <span class="at">labels=</span><span class="fu">c</span>(<span class="st">'1'</span><span class="ot">=</span><span class="st">'Screening'</span>, <span class="st">'3'</span><span class="ot">=</span><span class="st">'Consent'</span>, <span class="st">'4'</span><span class="ot">=</span><span class="st">'Randomization'</span>, <span class="st">'6'</span><span class="ot">=</span><span class="st">'Follow-up'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="mermaid_consort_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="cf">function</span>(n, label) <span class="fu">paste0</span>(label, <span class="st">' (n='</span>, n, <span class="st">')'</span>)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>htab <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">label=</span><span class="cn">NULL</span>, <span class="at">split=</span><span class="sc">!</span> <span class="fu">length</span>(label), <span class="at">br=</span><span class="st">'</span><span class="sc">\n</span><span class="st">'</span>) {</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>  tab <span class="ot">&lt;-</span> <span class="fu">table</span>(x)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>  w <span class="ot">&lt;-</span> <span class="cf">if</span>(<span class="fu">length</span>(label)) <span class="fu">paste0</span>(<span class="fu">h</span>(<span class="fu">sum</span>(tab), label), <span class="st">':'</span>, br)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>  f <span class="ot">&lt;-</span> <span class="cf">if</span>(split) <span class="fu">h</span>(tab, <span class="fu">names</span>(tab)) </span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">paste</span>(<span class="fu">paste0</span>(<span class="st">'   '</span>, <span class="fu">h</span>(tab, <span class="fu">names</span>(tab))), <span class="at">collapse=</span>br)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(split) <span class="fu">return</span>(f)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(w, f, <span class="at">sep=</span><span class="cf">if</span>(<span class="fu">length</span>(label))<span class="st">''</span> <span class="cf">else</span> br)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>}  </span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>count <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">by=</span><span class="fu">rep</span>(<span class="dv">1</span>, <span class="fu">length</span>(x)))</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tapply</span>(x, by, sum, <span class="at">na.rm=</span><span class="cn">TRUE</span>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> r[, {</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a> g <span class="ot">&lt;-</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>   <span class="fu">add_box</span>(<span class="at">txt=</span><span class="fu">h</span>(<span class="fu">nrow</span>(r),       <span class="st">'Screened'</span>))                    <span class="sc">|&gt;</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>   <span class="fu">add_side_box</span>(<span class="fu">htab</span>(exc,       <span class="st">'Excluded'</span>))                    <span class="sc">|&gt;</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>   <span class="fu">add_box</span>(<span class="fu">h</span>(<span class="fu">count</span>(<span class="fu">is.na</span>(exc)), <span class="st">'Qualified for Randomization'</span>)) <span class="sc">|&gt;</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>   <span class="fu">add_box</span>(<span class="fu">h</span>(<span class="fu">count</span>(consent),    <span class="st">'Consented'</span>))                   <span class="sc">|&gt;</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>   <span class="fu">add_box</span>(<span class="fu">h</span>(<span class="fu">count</span>(randomized), <span class="st">'Randomized'</span>))                  <span class="sc">|&gt;</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>   <span class="fu">add_split</span>(<span class="fu">htab</span>(tx))                                          <span class="sc">|&gt;</span></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>   <span class="fu">add_box</span>(<span class="fu">h</span>(<span class="fu">count</span>(fin, tx),    <span class="st">'Finished'</span>))                    <span class="sc">|&gt;</span></span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>   <span class="fu">add_box</span>(<span class="fu">h</span>(<span class="fu">count</span>(<span class="sc">!</span> <span class="fu">is.na</span>(y), tx), <span class="st">'Outcome</span><span class="sc">\n</span><span class="st">assessed'</span>))       <span class="sc">|&gt;</span></span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>   <span class="fu">add_label_box</span>(<span class="fu">c</span>(<span class="st">'1'</span><span class="ot">=</span><span class="st">'Screening'</span>,     <span class="st">'3'</span><span class="ot">=</span><span class="st">'Consent'</span>,</span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>                   <span class="st">'4'</span><span class="ot">=</span><span class="st">'Randomization'</span>, <span class="st">'6'</span><span class="ot">=</span><span class="st">'Follow-up'</span>))</span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a> <span class="fu">plot</span>(g)</span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="mermaid_consort_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">addCap</span>(<span class="st">'fig-doverview-mermaid1'</span>, <span class="st">'Consort diagram produced by `mermaid`'</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">'flowchart TD</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="st">  S["Screened (n={{N0}})"] --&gt; E["{{excl}}"]</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="st">  S   --&gt; Q["Qualified for Randomization (n={{Nq}})"]</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="st">  Q   --&gt; C["Consented (n={{Nc}})"]</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a><span class="st">  C   --&gt; R["Randomized (n={{Nr}})"]</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a><span class="st">  R   --&gt; TxA["A (n={{Ntxa}})"]</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a><span class="st">  R   --&gt; TxB["B (n={{Ntxb}})"]</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="st">  TxA --&gt; FA["Finished (n={{Ntxaf}})"]</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="st">  TxB --&gt; FB["Finished (n={{Ntxbf}})"]</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a><span class="st">  FA  --&gt; OA["Outcome assessed (n={{Ntxao}})"]</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a><span class="st">  FB  --&gt; OB["Outcome assessed (n={{Ntxbo}})"]</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a><span class="st">classDef largert fill:lightgray,width:1.5in,height:10em,text-align:right,font-size:0.8em;</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="st">class E largert;</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> r[, </span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a><span class="fu">makemermaid</span>(x,</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>            <span class="at">N0   =</span> <span class="fu">nrow</span>(r),</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>            <span class="at">excl =</span> <span class="fu">htab</span>(exc, <span class="st">'Excluded'</span>, <span class="at">br=</span><span class="st">'&lt;br&gt;'</span>),</span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>            <span class="at">Nq   =</span> <span class="fu">count</span>(<span class="fu">is.na</span>(exc)),</span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>            <span class="at">Nc   =</span> <span class="fu">count</span>(consent),</span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>            <span class="at">Nr   =</span> <span class="fu">count</span>(randomized),</span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>            <span class="at">Ntxa =</span> <span class="fu">count</span>(tx <span class="sc">==</span> <span class="st">'A'</span>),</span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>            <span class="at">Ntxb =</span> <span class="fu">count</span>(tx <span class="sc">==</span> <span class="st">'B'</span>),</span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>            <span class="at">Ntxaf=</span> <span class="fu">count</span>(tx <span class="sc">==</span> <span class="st">'A'</span> <span class="sc">&amp;</span> fin),</span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>            <span class="at">Ntxbf=</span> <span class="fu">count</span>(tx <span class="sc">==</span> <span class="st">'B'</span> <span class="sc">&amp;</span> fin),</span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>            <span class="at">Ntxao=</span> <span class="fu">count</span>(tx <span class="sc">==</span> <span class="st">'A'</span> <span class="sc">&amp;</span> <span class="sc">!</span> <span class="fu">is.na</span>(y)),</span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>            <span class="at">Ntxbo=</span> <span class="fu">count</span>(tx <span class="sc">==</span> <span class="st">'B'</span> <span class="sc">&amp;</span> <span class="sc">!</span> <span class="fu">is.na</span>(y)),</span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>            <span class="at">file =</span> <span class="st">'mermaid1.mer'</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-file="mermaid1.mer">
<div class="cell-output-display">
<div id="fig-doverview-mermaid1" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div>
<pre class="mermaid mermaid-js" data-label="fig-doverview-mermaid1">flowchart TD
  S["Screened (n=1000)"] --&gt; E["Excluded (n=286):&lt;br&gt;   pain-free (n=156)&lt;br&gt;   age &lt; 40 (n=85)&lt;br&gt;   Hx med (n=45)"]
  S   --&gt; Q["Qualified for Randomization (n=714)"]
  Q   --&gt; C["Consented (n=634)"]
  C   --&gt; R["Randomized (n=534)"]
  R   --&gt; TxA["A (n=285)"]
  R   --&gt; TxB["B (n=249)"]
  TxA --&gt; FA["Finished (n=204)"]
  TxB --&gt; FB["Finished (n=175)"]
  FA  --&gt; OA["Outcome assessed (n=196)"]
  FB  --&gt; OB["Outcome assessed (n=165)"]
classDef largert fill:lightgray,width:1.5in,height:10em,text-align:right,font-size:0.8em;
class E largert;
</pre>
</div>
<figcaption class="figure-caption">Figure&nbsp;2: Consort diagram produced by <code>mermaid</code></figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create some service functions so later it will be easy to change from</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="co"># mermaid to graphviz</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>makenode       <span class="ot">&lt;-</span> <span class="cf">function</span>(name, label) <span class="fu">paste0</span>(name, <span class="st">'["'</span>, label, <span class="st">'"]'</span>)</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>makeconnection <span class="ot">&lt;-</span> <span class="cf">function</span>(from, to)    <span class="fu">paste0</span>(from, <span class="st">' --&gt; '</span>, to)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>exclnodes <span class="ot">&lt;-</span> <span class="cf">function</span>(x, <span class="at">from=</span><span class="st">'E'</span>, <span class="at">root=</span><span class="st">'E'</span>, <span class="at">seq=</span><span class="cn">FALSE</span>, <span class="at">remain=</span><span class="cn">FALSE</span>) {</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create complete node specifications for individual exclusions, each</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># linking to overall exclusion count assumed to be in node root.</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Set seq=TRUE to make use of the fact that the exclusions were</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># done in frequency priority order so that each exclusion is in</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># addition to the previous one.  Leave seq=FALSE to make all exclusions</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># subservient to root.  Use remain=TRUE to include # obs remaining</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># remain=TRUE assumes noneNA specified to seqFreq</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a>  tab <span class="ot">&lt;-</span> <span class="fu">table</span>(x)</span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a>  i <span class="ot">&lt;-</span> <span class="dv">1</span> <span class="sc">:</span> <span class="fu">length</span>(tab)</span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a>    rem <span class="ot">&lt;-</span> <span class="cf">if</span>(remain) <span class="fu">paste0</span>(<span class="st">', '</span>, <span class="fu">length</span>(x) <span class="sc">-</span> <span class="fu">cumsum</span>(tab), <span class="st">' remain'</span>)</span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a>  labels <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="fu">names</span>(tab), <span class="st">' (n='</span>, tab, rem, <span class="st">')'</span>)</span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a>  nodes  <span class="ot">&lt;-</span> <span class="cf">if</span>(seq) <span class="fu">makenode</span>(<span class="fu">ifelse</span>(i <span class="sc">==</span> <span class="dv">1</span>, <span class="fu">paste0</span>(root, <span class="st">'1'</span>), <span class="fu">paste0</span>(root, i)),</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>                             labels)</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>            <span class="cf">else</span>    <span class="fu">makenode</span>(<span class="fu">paste0</span>(root, i), labels)</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>  connects <span class="ot">&lt;-</span> <span class="cf">if</span>(seq) <span class="fu">makeconnection</span>(<span class="fu">ifelse</span>(i <span class="sc">==</span> <span class="dv">1</span>, from, <span class="fu">paste0</span>(root, i <span class="sc">-</span> <span class="dv">1</span>)),</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>                                     <span class="fu">paste0</span>(root, i))</span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>              <span class="cf">else</span> <span class="fu">makeconnection</span>(from, <span class="fu">paste0</span>(root, i))</span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>   <span class="fu">paste</span>(<span class="fu">c</span>(nodes, connects), <span class="at">collapse=</span><span class="st">'</span><span class="sc">\n</span><span class="st">'</span>)</span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a><span class="co"># Create parallel treatment nodes</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Treatments are assumed to be in order by the tx variable</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a><span class="co"># and will appear left to right in the diagram</span></span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Treatment node names correspond to that and are Tx1, Tx2, ...</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a><span class="co"># root: root of new nodes, from: single node name to connect from</span></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a><span class="co"># fromparallel: root of connected-from node name which is to be</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a><span class="co"># expanded by adding the integers 1, 2, ... number of treatments.</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a>Txs <span class="ot">&lt;-</span> r[, <span class="cf">if</span>(<span class="fu">is.factor</span>(tx)) <span class="fu">levels</span>(tx) <span class="cf">else</span> <span class="fu">sort</span>(<span class="fu">unique</span>(tx))]</span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>parNodes <span class="ot">&lt;-</span> <span class="cf">function</span>(counts, root, <span class="at">from=</span><span class="cn">NULL</span>, <span class="at">fromparallel=</span><span class="cn">NULL</span>,</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>                      <span class="at">label=</span>Txs) {</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="sc">!</span> <span class="fu">identical</span>(<span class="fu">names</span>(counts), Txs)) <span class="fu">stop</span>(<span class="st">'Txs not consistent'</span>)</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>  k <span class="ot">&lt;-</span> <span class="fu">length</span>(Txs)</span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>  ns <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">' (n='</span>, counts, <span class="st">')'</span>)</span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>   nodenames <span class="ot">&lt;-</span> <span class="fu">paste0</span>(root, <span class="dv">1</span> <span class="sc">:</span> k)</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>  nodes <span class="ot">&lt;-</span> <span class="fu">makenode</span>(nodenames, <span class="fu">paste0</span>(label, ns))</span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>  connects <span class="ot">&lt;-</span> <span class="cf">if</span>(<span class="fu">length</span>(fromparallel)) <span class="fu">makeconnection</span>(<span class="fu">paste0</span>(fromparallel, <span class="dv">1</span> <span class="sc">:</span> k), nodenames)</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>              <span class="cf">else</span>                     <span class="fu">makeconnection</span>(from,                        nodenames)</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste</span>(<span class="fu">c</span>(nodes, connects), <span class="at">collapse=</span><span class="st">'</span><span class="sc">\n</span><span class="st">'</span>)</span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a><span class="co"># Create tooltip text from tabulation created by seqFreq earlier</span></span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>efreq <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">'# Exclusions'</span><span class="ot">=</span> (<span class="dv">1</span> <span class="sc">:</span> <span class="fu">length</span>(eo)) <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>                    <span class="st">'# Subjects'</span>  <span class="ot">=</span> eo, <span class="at">check.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>efreq <span class="ot">&lt;-</span> <span class="fu">subset</span>(efreq, <span class="st">`</span><span class="at"># Subjects</span><span class="st">`</span> <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to text which will be wrapped by the html</span></span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>excltab <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="fu">capture.output</span>(<span class="fu">print</span>(efreq, <span class="at">row.names=</span><span class="cn">FALSE</span>)),</span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a>                 <span class="at">collapse=</span><span class="st">'</span><span class="sc">\n</span><span class="st">'</span>)</span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a><span class="fu">addCap</span>(<span class="st">'fig-doverview-mermaid2'</span>, <span class="st">'Consort diagram produced with `mermaid` with individual exclusions linked to the overall exclusions node, and with a tooltip to show more detail'</span>)</span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">'</span></span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a><span class="st">flowchart TD</span></span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a><span class="st">  S["Screened (n={{N0}})"] --&gt; E["Excluded (n={{Ne}})"]</span></span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a><span class="st">  {{exclsep}}</span></span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a><span class="st">  E1 &amp; E2 &amp; E3 --&gt; M["{{mult}}"]</span></span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a><span class="st">  S   --&gt; Q["Qualified for Randomization (n={{Nq}})"]</span></span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a><span class="st">  Q   --&gt; C["Consented (n={{Nc}})"]</span></span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a><span class="st">  C   --&gt; R["Randomized (n={{Nr}})"]</span></span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a><span class="st">  {{txcounts}}</span></span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a><span class="st">  {{finished}}</span></span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a><span class="st">  {{outcome}}</span></span>
<span id="cb14-71"><a href="#cb14-71" aria-hidden="true" tabindex="-1"></a><span class="st">click E callback "{{excltab}}"</span></span>
<span id="cb14-72"><a href="#cb14-72" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span>
<span id="cb14-73"><a href="#cb14-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-74"><a href="#cb14-74" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> r[, </span>
<span id="cb14-75"><a href="#cb14-75" aria-hidden="true" tabindex="-1"></a><span class="fu">makemermaid</span>(x,</span>
<span id="cb14-76"><a href="#cb14-76" aria-hidden="true" tabindex="-1"></a>  <span class="at">N0       =</span> <span class="fu">nrow</span>(r),</span>
<span id="cb14-77"><a href="#cb14-77" aria-hidden="true" tabindex="-1"></a>  <span class="at">Ne       =</span> <span class="fu">count</span>(<span class="sc">!</span> <span class="fu">is.na</span>(exc)),</span>
<span id="cb14-78"><a href="#cb14-78" aria-hidden="true" tabindex="-1"></a>  <span class="at">exclsep  =</span> <span class="fu">exclnodes</span>(exc),  <span class="co"># add seq=TRUE to put exclusions vertical</span></span>
<span id="cb14-79"><a href="#cb14-79" aria-hidden="true" tabindex="-1"></a>  <span class="at">excltab  =</span> excltab,         <span class="co"># tooltip text</span></span>
<span id="cb14-80"><a href="#cb14-80" aria-hidden="true" tabindex="-1"></a>  <span class="at">mult     =</span> mult,  <span class="co"># separate node: count multiple exclusions</span></span>
<span id="cb14-81"><a href="#cb14-81" aria-hidden="true" tabindex="-1"></a>  <span class="at">Nq       =</span> <span class="fu">count</span>(<span class="fu">is.na</span>(exc)),</span>
<span id="cb14-82"><a href="#cb14-82" aria-hidden="true" tabindex="-1"></a>  <span class="at">Nc       =</span> <span class="fu">count</span>(consent),</span>
<span id="cb14-83"><a href="#cb14-83" aria-hidden="true" tabindex="-1"></a>  <span class="at">Nr       =</span> <span class="fu">count</span>(randomized),</span>
<span id="cb14-84"><a href="#cb14-84" aria-hidden="true" tabindex="-1"></a>  <span class="at">txcounts =</span> <span class="fu">parNodes</span>(<span class="fu">table</span>(tx),         <span class="st">'Tx'</span>, <span class="at">from=</span><span class="st">'R'</span>),</span>
<span id="cb14-85"><a href="#cb14-85" aria-hidden="true" tabindex="-1"></a>  <span class="at">finished =</span> <span class="fu">parNodes</span>(<span class="fu">count</span>(fin, <span class="at">by=</span>tx), <span class="st">'F'</span>,  <span class="at">fromparallel=</span><span class="st">'Tx'</span>,</span>
<span id="cb14-86"><a href="#cb14-86" aria-hidden="true" tabindex="-1"></a>                      <span class="at">label=</span><span class="st">'Finished'</span>),</span>
<span id="cb14-87"><a href="#cb14-87" aria-hidden="true" tabindex="-1"></a>  <span class="at">outcome  =</span> <span class="fu">parNodes</span>(<span class="fu">count</span>(<span class="sc">!</span> <span class="fu">is.na</span>(y), <span class="at">by=</span>tx), <span class="st">'O'</span>,</span>
<span id="cb14-88"><a href="#cb14-88" aria-hidden="true" tabindex="-1"></a>                      <span class="at">fromparallel=</span><span class="st">'F'</span>, <span class="at">label=</span><span class="st">'Outcome assessed'</span>),</span>
<span id="cb14-89"><a href="#cb14-89" aria-hidden="true" tabindex="-1"></a>  <span class="at">file=</span><span class="st">'mermaid2.mer'</span>  <span class="co"># save generated code for another use</span></span>
<span id="cb14-90"><a href="#cb14-90" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-91"><a href="#cb14-91" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb14-92"><a href="#cb14-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-93"><a href="#cb14-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-94"><a href="#cb14-94" aria-hidden="true" tabindex="-1"></a>makenode       <span class="ot">&lt;-</span> <span class="cf">function</span>(name, label) <span class="fu">paste0</span>(name, <span class="st">' [label="'</span>, label, <span class="st">'"];'</span>)</span>
<span id="cb14-95"><a href="#cb14-95" aria-hidden="true" tabindex="-1"></a>makeconnection <span class="ot">&lt;-</span> <span class="cf">function</span>(from, to)    <span class="fu">paste0</span>(from, <span class="st">' -&gt; '</span>, to, <span class="st">';'</span>)</span>
<span id="cb14-96"><a href="#cb14-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-97"><a href="#cb14-97" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data frame from tabulation created by seqFreq earlier</span></span>
<span id="cb14-98"><a href="#cb14-98" aria-hidden="true" tabindex="-1"></a>efreq <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">'# Exclusions'</span><span class="ot">=</span> (<span class="dv">1</span> <span class="sc">:</span> <span class="fu">length</span>(eo)) <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb14-99"><a href="#cb14-99" aria-hidden="true" tabindex="-1"></a>                    <span class="st">'# Subjects'</span>  <span class="ot">=</span> eo, <span class="at">check.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb14-100"><a href="#cb14-100" aria-hidden="true" tabindex="-1"></a>efreq <span class="ot">&lt;-</span> <span class="fu">subset</span>(efreq, <span class="st">`</span><span class="at"># Subjects</span><span class="st">`</span> <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb14-101"><a href="#cb14-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-102"><a href="#cb14-102" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">'digraph {</span></span>
<span id="cb14-103"><a href="#cb14-103" aria-hidden="true" tabindex="-1"></a><span class="st">  graph [pad="0.5", nodesep="0.5", ranksep="2", splines=ortho]</span></span>
<span id="cb14-104"><a href="#cb14-104" aria-hidden="true" tabindex="-1"></a><span class="st">  //  splines=ortho for square connections</span></span>
<span id="cb14-105"><a href="#cb14-105" aria-hidden="true" tabindex="-1"></a><span class="st">  node  [shape=box, fontsize="30"]</span></span>
<span id="cb14-106"><a href="#cb14-106" aria-hidden="true" tabindex="-1"></a><span class="st">  rankdir=TD;</span></span>
<span id="cb14-107"><a href="#cb14-107" aria-hidden="true" tabindex="-1"></a><span class="st">  S [label="Screened (n={{N0}})"];</span></span>
<span id="cb14-108"><a href="#cb14-108" aria-hidden="true" tabindex="-1"></a><span class="st">  E [label="Excluded (n={{Ne}})"];</span></span>
<span id="cb14-109"><a href="#cb14-109" aria-hidden="true" tabindex="-1"></a><span class="st">  S -&gt; E;</span></span>
<span id="cb14-110"><a href="#cb14-110" aria-hidden="true" tabindex="-1"></a><span class="st">  {{exclsep}}</span></span>
<span id="cb14-111"><a href="#cb14-111" aria-hidden="true" tabindex="-1"></a><span class="st">  M [label="{{mult}}"];</span></span>
<span id="cb14-112"><a href="#cb14-112" aria-hidden="true" tabindex="-1"></a><span class="st">  E1 -&gt; M;</span></span>
<span id="cb14-113"><a href="#cb14-113" aria-hidden="true" tabindex="-1"></a><span class="st">  E2 -&gt; M;</span></span>
<span id="cb14-114"><a href="#cb14-114" aria-hidden="true" tabindex="-1"></a><span class="st">  E3 -&gt; M;</span></span>
<span id="cb14-115"><a href="#cb14-115" aria-hidden="true" tabindex="-1"></a><span class="st">  Q [label="Qualified for Randomization (n={{Nq}})"];</span></span>
<span id="cb14-116"><a href="#cb14-116" aria-hidden="true" tabindex="-1"></a><span class="st">  C [label="Consented (n={{Nc}})"];</span></span>
<span id="cb14-117"><a href="#cb14-117" aria-hidden="true" tabindex="-1"></a><span class="st">  R [label="Randomized (n={{Nr}})"];</span></span>
<span id="cb14-118"><a href="#cb14-118" aria-hidden="true" tabindex="-1"></a><span class="st">  S -&gt; Q;</span></span>
<span id="cb14-119"><a href="#cb14-119" aria-hidden="true" tabindex="-1"></a><span class="st">  Q -&gt; C;</span></span>
<span id="cb14-120"><a href="#cb14-120" aria-hidden="true" tabindex="-1"></a><span class="st">  C -&gt; R;</span></span>
<span id="cb14-121"><a href="#cb14-121" aria-hidden="true" tabindex="-1"></a><span class="st">  {{txcounts}}</span></span>
<span id="cb14-122"><a href="#cb14-122" aria-hidden="true" tabindex="-1"></a><span class="st">  {{finished}}</span></span>
<span id="cb14-123"><a href="#cb14-123" aria-hidden="true" tabindex="-1"></a><span class="st">  {{outcome}}</span></span>
<span id="cb14-124"><a href="#cb14-124" aria-hidden="true" tabindex="-1"></a><span class="st">  efreq [label=&lt;{{efreq}}&gt;];</span></span>
<span id="cb14-125"><a href="#cb14-125" aria-hidden="true" tabindex="-1"></a><span class="st">  M -&gt; efreq [dir=none, style=dotted];</span></span>
<span id="cb14-126"><a href="#cb14-126" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb14-127"><a href="#cb14-127" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span>
<span id="cb14-128"><a href="#cb14-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-129"><a href="#cb14-129" aria-hidden="true" tabindex="-1"></a>w <span class="ot">&lt;-</span> r[, </span>
<span id="cb14-130"><a href="#cb14-130" aria-hidden="true" tabindex="-1"></a><span class="fu">makegraphviz</span>(x,</span>
<span id="cb14-131"><a href="#cb14-131" aria-hidden="true" tabindex="-1"></a>  <span class="at">N0       =</span> <span class="fu">nrow</span>(r),</span>
<span id="cb14-132"><a href="#cb14-132" aria-hidden="true" tabindex="-1"></a>  <span class="at">Ne       =</span> <span class="fu">count</span>(<span class="sc">!</span> <span class="fu">is.na</span>(exc)),</span>
<span id="cb14-133"><a href="#cb14-133" aria-hidden="true" tabindex="-1"></a>  <span class="at">exclsep  =</span> <span class="fu">exclnodes</span>(exc),  <span class="co"># add seq=TRUE to put exclusions vertical</span></span>
<span id="cb14-134"><a href="#cb14-134" aria-hidden="true" tabindex="-1"></a>  <span class="at">efreq    =</span> efreq,</span>
<span id="cb14-135"><a href="#cb14-135" aria-hidden="true" tabindex="-1"></a>  <span class="at">mult     =</span> mult,  <span class="co"># separate node: count multiple exclusions</span></span>
<span id="cb14-136"><a href="#cb14-136" aria-hidden="true" tabindex="-1"></a>  <span class="at">Nq       =</span> <span class="fu">count</span>(<span class="fu">is.na</span>(exc)),</span>
<span id="cb14-137"><a href="#cb14-137" aria-hidden="true" tabindex="-1"></a>  <span class="at">Nc       =</span> <span class="fu">count</span>(consent),</span>
<span id="cb14-138"><a href="#cb14-138" aria-hidden="true" tabindex="-1"></a>  <span class="at">Nr       =</span> <span class="fu">count</span>(randomized),</span>
<span id="cb14-139"><a href="#cb14-139" aria-hidden="true" tabindex="-1"></a>  <span class="at">txcounts =</span> <span class="fu">parNodes</span>(<span class="fu">table</span>(tx),         <span class="st">'Tx'</span>, <span class="at">from=</span><span class="st">'R'</span>),</span>
<span id="cb14-140"><a href="#cb14-140" aria-hidden="true" tabindex="-1"></a>  <span class="at">finished =</span> <span class="fu">parNodes</span>(<span class="fu">count</span>(fin, <span class="at">by=</span>tx), <span class="st">'F'</span>,  <span class="at">fromparallel=</span><span class="st">'Tx'</span>,</span>
<span id="cb14-141"><a href="#cb14-141" aria-hidden="true" tabindex="-1"></a>                      <span class="at">label=</span><span class="st">'Finished'</span>),</span>
<span id="cb14-142"><a href="#cb14-142" aria-hidden="true" tabindex="-1"></a>  <span class="at">outcome  =</span> <span class="fu">parNodes</span>(<span class="fu">count</span>(<span class="sc">!</span> <span class="fu">is.na</span>(y), <span class="at">by=</span>tx), <span class="st">'O'</span>,</span>
<span id="cb14-143"><a href="#cb14-143" aria-hidden="true" tabindex="-1"></a>                      <span class="at">fromparallel=</span><span class="st">'F'</span>, <span class="at">label=</span><span class="st">'Outcome assessed'</span>),</span>
<span id="cb14-144"><a href="#cb14-144" aria-hidden="true" tabindex="-1"></a>  <span class="at">file=</span><span class="st">'graphviz.dot'</span></span>
<span id="cb14-145"><a href="#cb14-145" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb14-146"><a href="#cb14-146" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb14-147"><a href="#cb14-147" aria-hidden="true" tabindex="-1"></a><span class="co">#  addCap('fig-doverview-graphviza', 'Consort diagram produced with `graphviz` with detailed exclusion frequencies in a separate node', scap='Consort diagram produced with `graphviz`')</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell" data-file="mermaid2.mer">
<div class="cell-output-display">
<div id="fig-doverview-mermaid2" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<div>
<pre class="mermaid mermaid-js" data-label="fig-doverview-mermaid2">flowchart TD
  S["Screened (n=1000)"] --&gt; E["Excluded (n=286)"]
  E1["pain-free (n=156)"]
E2["age &lt; 40 (n=85)"]
E3["Hx med (n=45)"]
E --&gt; E1
E --&gt; E2
E --&gt; E3
  E1 &amp; E2 &amp; E3 --&gt; M["1, 2, ≥3 exclusions: n=260, 25, 1"]
  S   --&gt; Q["Qualified for Randomization (n=714)"]
  Q   --&gt; C["Consented (n=634)"]
  C   --&gt; R["Randomized (n=534)"]
  Tx1["A (n=285)"]
Tx2["B (n=249)"]
R --&gt; Tx1
R --&gt; Tx2
  F1["Finished (n=204)"]
F2["Finished (n=175)"]
Tx1 --&gt; F1
Tx2 --&gt; F2
  O1["Outcome assessed (n=196)"]
O2["Outcome assessed (n=165)"]
F1 --&gt; O1
F2 --&gt; O2
click E callback " # Exclusions # Subjects
            0        714
            1        260
            2         25
            3          1"
</pre>
</div>
<figcaption class="figure-caption">Figure&nbsp;3: Consort diagram produced with <code>mermaid</code> with individual exclusions linked to the overall exclusions node, and with a tooltip to show more detail</figcaption>
</figure>
</div>
</div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getHdata</span>(support)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setDT</span>(support)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co"># addCap('fig-doverview-missflow', 'Flowchart of sequential exclusion of observations due to missing values')</span></span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span>  <span class="fu">.q</span>(age, sex, dzgroup, edu, income, meanbp, wblc,</span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>            alb, bili, crea, glucose, bun, urine)</span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>ex <span class="ot">&lt;-</span> <span class="fu">missChk</span>(support, <span class="at">use=</span>vars, <span class="at">type=</span><span class="st">'seq'</span>) <span class="co"># seq: don't make report</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create tooltip text from tabulation created by seqFreq</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>oc   <span class="ot">&lt;-</span> <span class="fu">attr</span>(ex, <span class="st">'obs.per.numcond'</span>)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>freq <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">'# Exclusions'</span><span class="ot">=</span> (<span class="dv">1</span> <span class="sc">:</span> <span class="fu">length</span>(oc)) <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>                   <span class="st">'# Subjects'</span>  <span class="ot">=</span> oc, <span class="at">check.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a>freq <span class="ot">&lt;-</span> <span class="fu">subset</span>(freq, <span class="st">`</span><span class="at"># Subjects</span><span class="st">`</span> <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">'</span></span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a><span class="st">digraph {</span></span>
<span id="cb15-16"><a href="#cb15-16" aria-hidden="true" tabindex="-1"></a><span class="st">  graph [pad="0.5", nodesep="0.5", ranksep="2", splines=ortho]</span></span>
<span id="cb15-17"><a href="#cb15-17" aria-hidden="true" tabindex="-1"></a><span class="st">  //  splines=ortho for square connections</span></span>
<span id="cb15-18"><a href="#cb15-18" aria-hidden="true" tabindex="-1"></a><span class="st">  node  [shape=box, fontsize="30"]</span></span>
<span id="cb15-19"><a href="#cb15-19" aria-hidden="true" tabindex="-1"></a><span class="st">  rankdir=TD;</span></span>
<span id="cb15-20"><a href="#cb15-20" aria-hidden="true" tabindex="-1"></a><span class="st">  Enr [label="Enrolled (n={{N0}})"];</span></span>
<span id="cb15-21"><a href="#cb15-21" aria-hidden="true" tabindex="-1"></a><span class="st">  Enr;</span></span>
<span id="cb15-22"><a href="#cb15-22" aria-hidden="true" tabindex="-1"></a><span class="st">  {{exclsep}}</span></span>
<span id="cb15-23"><a href="#cb15-23" aria-hidden="true" tabindex="-1"></a><span class="st">    Extab [label=&lt;{{excltab}}&gt;];</span></span>
<span id="cb15-24"><a href="#cb15-24" aria-hidden="true" tabindex="-1"></a><span class="st">  Enr:e -&gt; Extab [dir=none];</span></span>
<span id="cb15-25"><a href="#cb15-25" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb15-26"><a href="#cb15-26" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span>
<span id="cb15-27"><a href="#cb15-27" aria-hidden="true" tabindex="-1"></a><span class="fu">makegraphviz</span>(x,</span>
<span id="cb15-28"><a href="#cb15-28" aria-hidden="true" tabindex="-1"></a>  <span class="at">N0        =</span> <span class="fu">nrow</span>(support),</span>
<span id="cb15-29"><a href="#cb15-29" aria-hidden="true" tabindex="-1"></a>  <span class="at">exclsep   =</span> <span class="fu">exclnodes</span>(ex, <span class="at">from=</span><span class="st">'Enr'</span>, <span class="at">seq=</span><span class="cn">TRUE</span>, <span class="at">remain=</span><span class="cn">TRUE</span>),</span>
<span id="cb15-30"><a href="#cb15-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">excltab   =</span> freq,</span>
<span id="cb15-31"><a href="#cb15-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">file      =</span> <span class="st">'support.dot'</span></span>
<span id="cb15-32"><a href="#cb15-32" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">grViz</span>(<span class="st">'</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="st">graph G {</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a><span class="st">fontname="Helvetica,Arial,sans-serif"</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="st">node [fontname="Helvetica,Arial,sans-serif"]</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a><span class="st">edge [fontname="Helvetica,Arial,sans-serif"]</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="st">I5 [shape=ellipse,color=red,style=bold,label="Caroline Bouvier Kennedy</span><span class="sc">\n</span><span class="st">b. 27.11.1957 New York",image="images/165px-Caroline_Kennedy.jpg",labelloc=b];</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="st">I1 [shape=box,color=blue,style=bold,label="John Fitzgerald Kennedy</span><span class="sc">\n</span><span class="st">b. 29.5.1917 Brookline</span><span class="sc">\n</span><span class="st">d. 22.11.1963 Dallas",image="images/kennedyface.jpg",labelloc=b];</span></span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="st">I6 [shape=box,color=blue,style=bold,label="John Fitzgerald Kennedy</span><span class="sc">\n</span><span class="st">b. 25.11.1960 Washington</span><span class="sc">\n</span><span class="st">d. 16.7.1999 over the Atlantic Ocean, near Aquinnah, MA, USA",image="images/180px-JFKJr2.jpg",labelloc=b];</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a><span class="st">I7 [shape=box,color=blue,style=bold,label="Patrick Bouvier Kennedy</span><span class="sc">\n</span><span class="st">b. 7.8.1963</span><span class="sc">\n</span><span class="st">d. 9.8.1963"];</span></span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a><span class="st">I2 [shape=ellipse,color=red,style=bold,label="Jaqueline Lee Bouvier</span><span class="sc">\n</span><span class="st">b. 28.7.1929 Southampton</span><span class="sc">\n</span><span class="st">d. 19.5.1994 New York City",image="images/jacqueline-kennedy-onassis.jpg",labelloc=b];</span></span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="st">I8 [shape=box,color=blue,style=bold,label="Joseph Patrick Kennedy</span><span class="sc">\n</span><span class="st">b. 6.9.1888 East Boston</span><span class="sc">\n</span><span class="st">d. 16.11.1969 Hyannis Port",image="images/1025901671.jpg",labelloc=b];</span></span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a><span class="st">I10 [shape=box,color=blue,style=bold,label="Joseph Patrick Kennedy Jr</span><span class="sc">\n</span><span class="st">b. 1915</span><span class="sc">\n</span><span class="st">d. 1944"];</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a><span class="st">I11 [shape=ellipse,color=red,style=bold,label="Rosemary Kennedy</span><span class="sc">\n</span><span class="st">b. 13.9.1918</span><span class="sc">\n</span><span class="st">d. 7.1.2005",image="images/rosemary.jpg",labelloc=b];</span></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a><span class="st">I12 [shape=ellipse,color=red,style=bold,label="Kathleen Kennedy</span><span class="sc">\n</span><span class="st">b. 1920</span><span class="sc">\n</span><span class="st">d. 1948"];</span></span>
<span id="cb16-15"><a href="#cb16-15" aria-hidden="true" tabindex="-1"></a><span class="st">I13 [shape=ellipse,color=red,style=bold,label="Eunice Mary Kennedy</span><span class="sc">\n</span><span class="st">b. 10.7.1921 Brookline"];</span></span>
<span id="cb16-16"><a href="#cb16-16" aria-hidden="true" tabindex="-1"></a><span class="st">I9 [shape=ellipse,color=red,style=bold,label="Rose Elizabeth Fitzgerald</span><span class="sc">\n</span><span class="st">b. 22.7.1890 Boston</span><span class="sc">\n</span><span class="st">d. 22.1.1995 Hyannis Port",image="images/Rose_kennedy.JPG",labelloc=b];</span></span>
<span id="cb16-17"><a href="#cb16-17" aria-hidden="true" tabindex="-1"></a><span class="st">I15 [shape=box,color=blue,style=bold,label="Aristotle Onassis"];</span></span>
<span id="cb16-18"><a href="#cb16-18" aria-hidden="true" tabindex="-1"></a><span class="st">I3 [shape=box,color=blue,style=bold,label="John Vernou Bouvier III</span><span class="sc">\n</span><span class="st">b. 1891</span><span class="sc">\n</span><span class="st">d. 1957",image="images/BE037819.jpg",labelloc=b];</span></span>
<span id="cb16-19"><a href="#cb16-19" aria-hidden="true" tabindex="-1"></a><span class="st">I4 [shape=ellipse,color=red,style=bold,label="Janet Norton Lee</span><span class="sc">\n</span><span class="st">b. 2.10.1877</span><span class="sc">\n</span><span class="st">d. 3.1.1968",image="images/n48862003257_1275276_1366.jpg",labelloc=b];</span></span>
<span id="cb16-20"><a href="#cb16-20" aria-hidden="true" tabindex="-1"></a><span class="st"> I1 -- I5  [style=bold,color=blue]; </span></span>
<span id="cb16-21"><a href="#cb16-21" aria-hidden="true" tabindex="-1"></a><span class="st"> I1 -- I6  [style=bold,color=orange]; </span></span>
<span id="cb16-22"><a href="#cb16-22" aria-hidden="true" tabindex="-1"></a><span class="st"> I2 -- I6  [style=bold,color=orange]; </span></span>
<span id="cb16-23"><a href="#cb16-23" aria-hidden="true" tabindex="-1"></a><span class="st"> I1 -- I7  [style=bold,color=orange]; </span></span>
<span id="cb16-24"><a href="#cb16-24" aria-hidden="true" tabindex="-1"></a><span class="st"> I2 -- I7  [style=bold,color=orange]; </span></span>
<span id="cb16-25"><a href="#cb16-25" aria-hidden="true" tabindex="-1"></a><span class="st"> I1 -- I2  [style=bold,color=violet]; </span></span>
<span id="cb16-26"><a href="#cb16-26" aria-hidden="true" tabindex="-1"></a><span class="st"> I8 -- I1  [style=bold,color=blue]; </span></span>
<span id="cb16-27"><a href="#cb16-27" aria-hidden="true" tabindex="-1"></a><span class="st"> I8 -- I10  [style=bold,color=orange]; </span></span>
<span id="cb16-28"><a href="#cb16-28" aria-hidden="true" tabindex="-1"></a><span class="st"> I9 -- I10  [style=bold,color=orange]; </span></span>
<span id="cb16-29"><a href="#cb16-29" aria-hidden="true" tabindex="-1"></a><span class="st"> I8 -- I11  [style=bold,color=orange]; </span></span>
<span id="cb16-30"><a href="#cb16-30" aria-hidden="true" tabindex="-1"></a><span class="st"> I9 -- I11  [style=bold,color=orange]; </span></span>
<span id="cb16-31"><a href="#cb16-31" aria-hidden="true" tabindex="-1"></a><span class="st"> I8 -- I12  [style=bold,color=orange]; </span></span>
<span id="cb16-32"><a href="#cb16-32" aria-hidden="true" tabindex="-1"></a><span class="st"> I9 -- I12  [style=bold,color=orange]; </span></span>
<span id="cb16-33"><a href="#cb16-33" aria-hidden="true" tabindex="-1"></a><span class="st"> I8 -- I13  [style=bold,color=orange]; </span></span>
<span id="cb16-34"><a href="#cb16-34" aria-hidden="true" tabindex="-1"></a><span class="st"> I9 -- I13  [style=bold,color=orange]; </span></span>
<span id="cb16-35"><a href="#cb16-35" aria-hidden="true" tabindex="-1"></a><span class="st"> I8 -- I9  [style=bold,color=violet]; </span></span>
<span id="cb16-36"><a href="#cb16-36" aria-hidden="true" tabindex="-1"></a><span class="st"> I9 -- I1  [style=bold,color=red]; </span></span>
<span id="cb16-37"><a href="#cb16-37" aria-hidden="true" tabindex="-1"></a><span class="st"> I2 -- I5  [style=bold,color=red]; </span></span>
<span id="cb16-38"><a href="#cb16-38" aria-hidden="true" tabindex="-1"></a><span class="st"> I2 -- I15  [style=bold,color=violet]; </span></span>
<span id="cb16-39"><a href="#cb16-39" aria-hidden="true" tabindex="-1"></a><span class="st"> I3 -- I2  [style=bold,color=blue]; </span></span>
<span id="cb16-40"><a href="#cb16-40" aria-hidden="true" tabindex="-1"></a><span class="st"> I3 -- I4  [style=bold,color=violet]; </span></span>
<span id="cb16-41"><a href="#cb16-41" aria-hidden="true" tabindex="-1"></a><span class="st"> I4 -- I2  [style=bold,color=red]; </span></span>
<span id="cb16-42"><a href="#cb16-42" aria-hidden="true" tabindex="-1"></a><span class="st">}'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-72eba75ba16c64113e76" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-72eba75ba16c64113e76">{"x":{"diagram":"\ngraph G {\nfontname=\"Helvetica,Arial,sans-serif\"\nnode [fontname=\"Helvetica,Arial,sans-serif\"]\nedge [fontname=\"Helvetica,Arial,sans-serif\"]\nI5 [shape=ellipse,color=red,style=bold,label=\"Caroline Bouvier Kennedy\nb. 27.11.1957 New York\",image=\"images/165px-Caroline_Kennedy.jpg\",labelloc=b];\nI1 [shape=box,color=blue,style=bold,label=\"John Fitzgerald Kennedy\nb. 29.5.1917 Brookline\nd. 22.11.1963 Dallas\",image=\"images/kennedyface.jpg\",labelloc=b];\nI6 [shape=box,color=blue,style=bold,label=\"John Fitzgerald Kennedy\nb. 25.11.1960 Washington\nd. 16.7.1999 over the Atlantic Ocean, near Aquinnah, MA, USA\",image=\"images/180px-JFKJr2.jpg\",labelloc=b];\nI7 [shape=box,color=blue,style=bold,label=\"Patrick Bouvier Kennedy\nb. 7.8.1963\nd. 9.8.1963\"];\nI2 [shape=ellipse,color=red,style=bold,label=\"Jaqueline Lee Bouvier\nb. 28.7.1929 Southampton\nd. 19.5.1994 New York City\",image=\"images/jacqueline-kennedy-onassis.jpg\",labelloc=b];\nI8 [shape=box,color=blue,style=bold,label=\"Joseph Patrick Kennedy\nb. 6.9.1888 East Boston\nd. 16.11.1969 Hyannis Port\",image=\"images/1025901671.jpg\",labelloc=b];\nI10 [shape=box,color=blue,style=bold,label=\"Joseph Patrick Kennedy Jr\nb. 1915\nd. 1944\"];\nI11 [shape=ellipse,color=red,style=bold,label=\"Rosemary Kennedy\nb. 13.9.1918\nd. 7.1.2005\",image=\"images/rosemary.jpg\",labelloc=b];\nI12 [shape=ellipse,color=red,style=bold,label=\"Kathleen Kennedy\nb. 1920\nd. 1948\"];\nI13 [shape=ellipse,color=red,style=bold,label=\"Eunice Mary Kennedy\nb. 10.7.1921 Brookline\"];\nI9 [shape=ellipse,color=red,style=bold,label=\"Rose Elizabeth Fitzgerald\nb. 22.7.1890 Boston\nd. 22.1.1995 Hyannis Port\",image=\"images/Rose_kennedy.JPG\",labelloc=b];\nI15 [shape=box,color=blue,style=bold,label=\"Aristotle Onassis\"];\nI3 [shape=box,color=blue,style=bold,label=\"John Vernou Bouvier III\nb. 1891\nd. 1957\",image=\"images/BE037819.jpg\",labelloc=b];\nI4 [shape=ellipse,color=red,style=bold,label=\"Janet Norton Lee\nb. 2.10.1877\nd. 3.1.1968\",image=\"images/n48862003257_1275276_1366.jpg\",labelloc=b];\n I1 -- I5  [style=bold,color=blue]; \n I1 -- I6  [style=bold,color=orange]; \n I2 -- I6  [style=bold,color=orange]; \n I1 -- I7  [style=bold,color=orange]; \n I2 -- I7  [style=bold,color=orange]; \n I1 -- I2  [style=bold,color=violet]; \n I8 -- I1  [style=bold,color=blue]; \n I8 -- I10  [style=bold,color=orange]; \n I9 -- I10  [style=bold,color=orange]; \n I8 -- I11  [style=bold,color=orange]; \n I9 -- I11  [style=bold,color=orange]; \n I8 -- I12  [style=bold,color=orange]; \n I9 -- I12  [style=bold,color=orange]; \n I8 -- I13  [style=bold,color=orange]; \n I9 -- I13  [style=bold,color=orange]; \n I8 -- I9  [style=bold,color=violet]; \n I9 -- I1  [style=bold,color=red]; \n I2 -- I5  [style=bold,color=red]; \n I2 -- I15  [style=bold,color=violet]; \n I3 -- I2  [style=bold,color=blue]; \n I3 -- I4  [style=bold,color=violet]; \n I4 -- I2  [style=bold,color=red]; \n}","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
</div>
</div>


<!-- -->


</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb17" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> Mermaid with R + consort</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> last-modified</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span><span class="co"> [Visualization, R, OJS]</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a><span class="an">page-layout:</span><span class="co"> full</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a><span class="an">code-fold:</span><span class="co"> true</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a><span class="an">code-tools:</span><span class="co"> true</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a><span class="an">execute:</span><span class="co"> </span></span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a><span class="co">  warning: false</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a><span class="co">---</span> </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-16"><a href="#cb17-16" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-17"><a href="#cb17-17" aria-hidden="true" tabindex="-1"></a><span class="co">#lapply(c('tidyverse','data.table','igraph','ggraph','kableExtra'),library,character.only=TRUE))</span></span>
<span id="cb17-18"><a href="#cb17-18" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(tidyverse,data.table,igraph,ggraph,kableExtra,DiagrammeR,png,consort,data.table) </span>
<span id="cb17-19"><a href="#cb17-19" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-20"><a href="#cb17-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-21"><a href="#cb17-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-24"><a href="#cb17-24" aria-hidden="true" tabindex="-1"></a><span class="in">```{dot}</span></span>
<span id="cb17-25"><a href="#cb17-25" aria-hidden="true" tabindex="-1"></a>digraph ALM {</span>
<span id="cb17-26"><a href="#cb17-26" aria-hidden="true" tabindex="-1"></a>    rankdir = LR</span>
<span id="cb17-27"><a href="#cb17-27" aria-hidden="true" tabindex="-1"></a>    splines=false // straight lines, <span class="ot">not</span> curves</span>
<span id="cb17-28"><a href="#cb17-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-29"><a href="#cb17-29" aria-hidden="true" tabindex="-1"></a>    // define input nodes</span>
<span id="cb17-30"><a href="#cb17-30" aria-hidden="true" tabindex="-1"></a>    Input1 [label=<span class="ot">"</span><span class="st">Input1</span><span class="ot">"</span>]</span>
<span id="cb17-31"><a href="#cb17-31" aria-hidden="true" tabindex="-1"></a>    Input2 [label=<span class="ot">"</span><span class="st">Input2</span><span class="ot">"</span>]</span>
<span id="cb17-32"><a href="#cb17-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-33"><a href="#cb17-33" aria-hidden="true" tabindex="-1"></a>    // define output nodes</span>
<span id="cb17-34"><a href="#cb17-34" aria-hidden="true" tabindex="-1"></a>    Output1 [label=<span class="ot">"</span><span class="st">Output1</span><span class="ot">"</span>]</span>
<span id="cb17-35"><a href="#cb17-35" aria-hidden="true" tabindex="-1"></a>    Output2 [label=<span class="ot">"</span><span class="st">Output2</span><span class="ot">"</span>]</span>
<span id="cb17-36"><a href="#cb17-36" aria-hidden="true" tabindex="-1"></a>    Output3 [label=<span class="ot">"</span><span class="st">Output3</span><span class="ot">"</span>]</span>
<span id="cb17-37"><a href="#cb17-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-38"><a href="#cb17-38" aria-hidden="true" tabindex="-1"></a>    // define equations</span>
<span id="cb17-39"><a href="#cb17-39" aria-hidden="true" tabindex="-1"></a>    equation1 [shape=none, label=<span class="ot">"</span><span class="st">a_i(X) = e^{-γ(X-X_i)^2}, normalized: a_i(X) / Σa_i(X)</span><span class="ot">"</span>, fontsize=<span class="dv">10</span>]</span>
<span id="cb17-40"><a href="#cb17-40" aria-hidden="true" tabindex="-1"></a>    equation2 [shape=none, label=<span class="ot">"</span><span class="st">O_j(X) = Σ w_{ji} ⋅ a_i(X), P[Y_j | X] = O_j(X) / Σ O_k(X)</span><span class="ot">"</span>, fontsize=<span class="dv">10</span>]</span>
<span id="cb17-41"><a href="#cb17-41" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-42"><a href="#cb17-42" aria-hidden="true" tabindex="-1"></a>    // define invisible nodes <span class="kw">for</span> alignment</span>
<span id="cb17-43"><a href="#cb17-43" aria-hidden="true" tabindex="-1"></a>    invis1 [style=invis]</span>
<span id="cb17-44"><a href="#cb17-44" aria-hidden="true" tabindex="-1"></a>    invis2 [style=invis]</span>
<span id="cb17-45"><a href="#cb17-45" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-46"><a href="#cb17-46" aria-hidden="true" tabindex="-1"></a>    // edges between input nodes <span class="ot">and</span> output nodes</span>
<span id="cb17-47"><a href="#cb17-47" aria-hidden="true" tabindex="-1"></a>    Input1 -&gt; Output1 [label=<span class="ot">"</span><span class="st">w_{11}</span><span class="ot">"</span>]</span>
<span id="cb17-48"><a href="#cb17-48" aria-hidden="true" tabindex="-1"></a>    Input1 -&gt; Output2 [label=<span class="ot">"</span><span class="st">w_{12}</span><span class="ot">"</span>]</span>
<span id="cb17-49"><a href="#cb17-49" aria-hidden="true" tabindex="-1"></a>    Input1 -&gt; Output3 [label=<span class="ot">"</span><span class="st">w_{13}</span><span class="ot">"</span>]</span>
<span id="cb17-50"><a href="#cb17-50" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-51"><a href="#cb17-51" aria-hidden="true" tabindex="-1"></a>    Input2 -&gt; Output1 [label=<span class="ot">"</span><span class="st">w_{21}</span><span class="ot">"</span>]</span>
<span id="cb17-52"><a href="#cb17-52" aria-hidden="true" tabindex="-1"></a>    Input2 -&gt; Output2 [label=<span class="ot">"</span><span class="st">w_{22}</span><span class="ot">"</span>]</span>
<span id="cb17-53"><a href="#cb17-53" aria-hidden="true" tabindex="-1"></a>    Input2 -&gt; Output3 [label=<span class="ot">"</span><span class="st">w_{23}</span><span class="ot">"</span>]</span>
<span id="cb17-54"><a href="#cb17-54" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-55"><a href="#cb17-55" aria-hidden="true" tabindex="-1"></a>    // align input nodes <span class="ot">and</span> equations on same rank</span>
<span id="cb17-56"><a href="#cb17-56" aria-hidden="true" tabindex="-1"></a>    {rank=same Input1 Input2 equation1 invis1}</span>
<span id="cb17-57"><a href="#cb17-57" aria-hidden="true" tabindex="-1"></a>    {rank=same Output1 Output2 Output3 equation2 invis2}</span>
<span id="cb17-58"><a href="#cb17-58" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-59"><a href="#cb17-59" aria-hidden="true" tabindex="-1"></a>    // invisible edges to order nodes</span>
<span id="cb17-60"><a href="#cb17-60" aria-hidden="true" tabindex="-1"></a>    edge [style=invis]</span>
<span id="cb17-61"><a href="#cb17-61" aria-hidden="true" tabindex="-1"></a>    Input1 -&gt; Input2 -&gt; equation1 -&gt; invis1</span>
<span id="cb17-62"><a href="#cb17-62" aria-hidden="true" tabindex="-1"></a>    Output1 -&gt; Output2 -&gt; Output3 -&gt; equation2 -&gt; invis2</span>
<span id="cb17-63"><a href="#cb17-63" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-64"><a href="#cb17-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-65"><a href="#cb17-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-66"><a href="#cb17-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-67"><a href="#cb17-67" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-68"><a href="#cb17-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-69"><a href="#cb17-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-72"><a href="#cb17-72" aria-hidden="true" tabindex="-1"></a><span class="in">```{dot}</span></span>
<span id="cb17-73"><a href="#cb17-73" aria-hidden="true" tabindex="-1"></a>digraph ALM {</span>
<span id="cb17-74"><a href="#cb17-74" aria-hidden="true" tabindex="-1"></a>    rankdir = LR</span>
<span id="cb17-75"><a href="#cb17-75" aria-hidden="true" tabindex="-1"></a>    splines=false // straight lines, <span class="ot">not</span> curves</span>
<span id="cb17-76"><a href="#cb17-76" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-77"><a href="#cb17-77" aria-hidden="true" tabindex="-1"></a>    // Define input layer with rectangle</span>
<span id="cb17-78"><a href="#cb17-78" aria-hidden="true" tabindex="-1"></a>    subgraph cluster_input {</span>
<span id="cb17-79"><a href="#cb17-79" aria-hidden="true" tabindex="-1"></a>        label=<span class="ot">"</span><span class="st">Input Layer</span><span class="ot">"</span>;</span>
<span id="cb17-80"><a href="#cb17-80" aria-hidden="true" tabindex="-1"></a>        style=filled;</span>
<span id="cb17-81"><a href="#cb17-81" aria-hidden="true" tabindex="-1"></a>        color=lightgrey;</span>
<span id="cb17-82"><a href="#cb17-82" aria-hidden="true" tabindex="-1"></a>        Input1 [label=<span class="ot">"</span><span class="st">Input1</span><span class="ot">"</span>]</span>
<span id="cb17-83"><a href="#cb17-83" aria-hidden="true" tabindex="-1"></a>        Input2 [label=<span class="ot">"</span><span class="st">Input2</span><span class="ot">"</span>]</span>
<span id="cb17-84"><a href="#cb17-84" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-85"><a href="#cb17-85" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-86"><a href="#cb17-86" aria-hidden="true" tabindex="-1"></a>    // Define output layer with rectangle</span>
<span id="cb17-87"><a href="#cb17-87" aria-hidden="true" tabindex="-1"></a>    subgraph cluster_output {</span>
<span id="cb17-88"><a href="#cb17-88" aria-hidden="true" tabindex="-1"></a>        label=<span class="ot">"</span><span class="st">Output Layer</span><span class="ot">"</span>;</span>
<span id="cb17-89"><a href="#cb17-89" aria-hidden="true" tabindex="-1"></a>        style=filled;</span>
<span id="cb17-90"><a href="#cb17-90" aria-hidden="true" tabindex="-1"></a>        color=lightgrey;</span>
<span id="cb17-91"><a href="#cb17-91" aria-hidden="true" tabindex="-1"></a>        Output1 [label=<span class="ot">"</span><span class="st">Output1</span><span class="ot">"</span>]</span>
<span id="cb17-92"><a href="#cb17-92" aria-hidden="true" tabindex="-1"></a>        Output2 [label=<span class="ot">"</span><span class="st">Output2</span><span class="ot">"</span>]</span>
<span id="cb17-93"><a href="#cb17-93" aria-hidden="true" tabindex="-1"></a>        Output3 [label=<span class="ot">"</span><span class="st">Output3</span><span class="ot">"</span>]</span>
<span id="cb17-94"><a href="#cb17-94" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-95"><a href="#cb17-95" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-96"><a href="#cb17-96" aria-hidden="true" tabindex="-1"></a>    // Define equations (using simplified text as Graphviz has limited text formatting options)</span>
<span id="cb17-97"><a href="#cb17-97" aria-hidden="true" tabindex="-1"></a>    equation1 [shape=plaintext, label=<span class="ot">"</span><span class="st">Input activation ai(X) = exp(-gamma*(X-Xi)^2), normalized by dividing by sum</span><span class="ot">"</span>, fontsize=<span class="dv">10</span>]</span>
<span id="cb17-98"><a href="#cb17-98" aria-hidden="true" tabindex="-1"></a>    equation2 [shape=plaintext, label=<span class="ot">"</span><span class="st">Output Oj(X) = sum(w_ji * ai(X)), Probability P[Yj | X] = Oj(X) / sum(Ok(X))</span><span class="ot">"</span>, fontsize=<span class="dv">10</span>]</span>
<span id="cb17-99"><a href="#cb17-99" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-100"><a href="#cb17-100" aria-hidden="true" tabindex="-1"></a>    // Edges between input nodes <span class="ot">and</span> output nodes</span>
<span id="cb17-101"><a href="#cb17-101" aria-hidden="true" tabindex="-1"></a>    Input1 -&gt; Output1 [label=<span class="ot">"</span><span class="st">w_11</span><span class="ot">"</span>]</span>
<span id="cb17-102"><a href="#cb17-102" aria-hidden="true" tabindex="-1"></a>    Input1 -&gt; Output2 [label=<span class="ot">"</span><span class="st">w_12</span><span class="ot">"</span>]</span>
<span id="cb17-103"><a href="#cb17-103" aria-hidden="true" tabindex="-1"></a>    Input1 -&gt; Output3 [label=<span class="ot">"</span><span class="st">w_13</span><span class="ot">"</span>]</span>
<span id="cb17-104"><a href="#cb17-104" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-105"><a href="#cb17-105" aria-hidden="true" tabindex="-1"></a>    Input2 -&gt; Output1 [label=<span class="ot">"</span><span class="st">w_21</span><span class="ot">"</span>]</span>
<span id="cb17-106"><a href="#cb17-106" aria-hidden="true" tabindex="-1"></a>    Input2 -&gt; Output2 [label=<span class="ot">"</span><span class="st">w_22</span><span class="ot">"</span>]</span>
<span id="cb17-107"><a href="#cb17-107" aria-hidden="true" tabindex="-1"></a>    Input2 -&gt; Output3 [label=<span class="ot">"</span><span class="st">w_23</span><span class="ot">"</span>]</span>
<span id="cb17-108"><a href="#cb17-108" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-109"><a href="#cb17-109" aria-hidden="true" tabindex="-1"></a>    // Invisible nodes <span class="kw">for</span> alignment</span>
<span id="cb17-110"><a href="#cb17-110" aria-hidden="true" tabindex="-1"></a>    invis1 [style=invis]</span>
<span id="cb17-111"><a href="#cb17-111" aria-hidden="true" tabindex="-1"></a>    invis2 [style=invis]</span>
<span id="cb17-112"><a href="#cb17-112" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-113"><a href="#cb17-113" aria-hidden="true" tabindex="-1"></a>    // Align input nodes <span class="ot">and</span> equations on same rank</span>
<span id="cb17-114"><a href="#cb17-114" aria-hidden="true" tabindex="-1"></a>    {rank=same equation1 invis1}</span>
<span id="cb17-115"><a href="#cb17-115" aria-hidden="true" tabindex="-1"></a>    {rank=same equation2 invis2}</span>
<span id="cb17-116"><a href="#cb17-116" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-117"><a href="#cb17-117" aria-hidden="true" tabindex="-1"></a>    // Invisible edges <span class="kw">for</span> ordering</span>
<span id="cb17-118"><a href="#cb17-118" aria-hidden="true" tabindex="-1"></a>    edge [style=invis]</span>
<span id="cb17-119"><a href="#cb17-119" aria-hidden="true" tabindex="-1"></a>    equation1 -&gt; invis1</span>
<span id="cb17-120"><a href="#cb17-120" aria-hidden="true" tabindex="-1"></a>    equation2 -&gt; invis2</span>
<span id="cb17-121"><a href="#cb17-121" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-122"><a href="#cb17-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-123"><a href="#cb17-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-124"><a href="#cb17-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-125"><a href="#cb17-125" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-126"><a href="#cb17-126" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-127"><a href="#cb17-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-128"><a href="#cb17-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-129"><a href="#cb17-129" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-132"><a href="#cb17-132" aria-hidden="true" tabindex="-1"></a><span class="in">```{dot}</span></span>
<span id="cb17-133"><a href="#cb17-133" aria-hidden="true" tabindex="-1"></a>digraph G {</span>
<span id="cb17-134"><a href="#cb17-134" aria-hidden="true" tabindex="-1"></a>rankdir = LR</span>
<span id="cb17-135"><a href="#cb17-135" aria-hidden="true" tabindex="-1"></a>splines=false  // straight lines, <span class="ot">not</span> curves</span>
<span id="cb17-136"><a href="#cb17-136" aria-hidden="true" tabindex="-1"></a>// define ellipsis nodes</span>
<span id="cb17-137"><a href="#cb17-137" aria-hidden="true" tabindex="-1"></a>E1[shape=none  label=<span class="ot">"</span><span class="st">&amp;#8942;</span><span class="ot">"</span> fontsize=<span class="dv">30</span>]</span>
<span id="cb17-138"><a href="#cb17-138" aria-hidden="true" tabindex="-1"></a>E2[shape=none  label=<span class="ot">"</span><span class="st">&amp;#8942;</span><span class="ot">"</span> fontsize=<span class="dv">30</span>]</span>
<span id="cb17-139"><a href="#cb17-139" aria-hidden="true" tabindex="-1"></a>{rank=same a b E1 z}       // align on same rank</span>
<span id="cb17-140"><a href="#cb17-140" aria-hidden="true" tabindex="-1"></a>{rank=same x1 x2 E2 x100}  // align on same rank</span>
<span id="cb17-141"><a href="#cb17-141" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-142"><a href="#cb17-142" aria-hidden="true" tabindex="-1"></a>{a b z} -&gt; {x1, x2, x100} -&gt; Y</span>
<span id="cb17-143"><a href="#cb17-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-144"><a href="#cb17-144" aria-hidden="true" tabindex="-1"></a>// invisible edges to order nodes</span>
<span id="cb17-145"><a href="#cb17-145" aria-hidden="true" tabindex="-1"></a>edge[style=invis]</span>
<span id="cb17-146"><a href="#cb17-146" aria-hidden="true" tabindex="-1"></a>a-&gt;b-&gt;E1-&gt;z </span>
<span id="cb17-147"><a href="#cb17-147" aria-hidden="true" tabindex="-1"></a>x1-&gt;x2-&gt;E2-&gt;x100 </span>
<span id="cb17-148"><a href="#cb17-148" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-149"><a href="#cb17-149" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-150"><a href="#cb17-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-151"><a href="#cb17-151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-152"><a href="#cb17-152" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-153"><a href="#cb17-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-154"><a href="#cb17-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-155"><a href="#cb17-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-156"><a href="#cb17-156" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-159"><a href="#cb17-159" aria-hidden="true" tabindex="-1"></a><span class="in">```{dot}</span></span>
<span id="cb17-160"><a href="#cb17-160" aria-hidden="true" tabindex="-1"></a>digraph G {</span>
<span id="cb17-161"><a href="#cb17-161" aria-hidden="true" tabindex="-1"></a> graph [rankdir=LR]</span>
<span id="cb17-162"><a href="#cb17-162" aria-hidden="true" tabindex="-1"></a> node [shape=none label=<span class="ot">""</span>]</span>
<span id="cb17-163"><a href="#cb17-163" aria-hidden="true" tabindex="-1"></a> node [imagescale=true]</span>
<span id="cb17-164"><a href="#cb17-164" aria-hidden="true" tabindex="-1"></a> n1  [ image=<span class="ot">"</span><span class="st">Visuals_Interactives/pic1.svg</span><span class="ot">"</span> ]</span>
<span id="cb17-165"><a href="#cb17-165" aria-hidden="true" tabindex="-1"></a> n2  [ image=<span class="ot">"</span><span class="st">image_dir/longeqns2.png</span><span class="ot">"</span> ]</span>
<span id="cb17-166"><a href="#cb17-166" aria-hidden="true" tabindex="-1"></a> n3  [ image=<span class="ot">"</span><span class="st">image_dir/Eggequation.jpg</span><span class="ot">"</span> ]</span>
<span id="cb17-167"><a href="#cb17-167" aria-hidden="true" tabindex="-1"></a> n4  [ shape=rect image=<span class="ot">"</span><span class="st">image_dir/LaTeX-arrow.png</span><span class="ot">"</span> ]</span>
<span id="cb17-168"><a href="#cb17-168" aria-hidden="true" tabindex="-1"></a> n5  [ shape=circle image=<span class="ot">"</span><span class="st">image_dir/main-qimg.png</span><span class="ot">"</span>]</span>
<span id="cb17-169"><a href="#cb17-169" aria-hidden="true" tabindex="-1"></a> n6  [ shape=rect image=<span class="ot">"</span><span class="st">image_dir/LaTeX-arrow.png</span><span class="ot">"</span> ]</span>
<span id="cb17-170"><a href="#cb17-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-171"><a href="#cb17-171" aria-hidden="true" tabindex="-1"></a> n1 -&gt; { n2 n3}</span>
<span id="cb17-172"><a href="#cb17-172" aria-hidden="true" tabindex="-1"></a> n2-&gt; n4 -&gt; n5 -&gt; n6</span>
<span id="cb17-173"><a href="#cb17-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-174"><a href="#cb17-174" aria-hidden="true" tabindex="-1"></a>subgraph clusterX {</span>
<span id="cb17-175"><a href="#cb17-175" aria-hidden="true" tabindex="-1"></a> node [imagescale=true]</span>
<span id="cb17-176"><a href="#cb17-176" aria-hidden="true" tabindex="-1"></a> J1  [ image=<span class="ot">"</span><span class="st">image_dir/LaTeX-arrow.png</span><span class="ot">"</span> ]</span>
<span id="cb17-177"><a href="#cb17-177" aria-hidden="true" tabindex="-1"></a> J2  [ shape=rect image=<span class="ot">"</span><span class="st">image_dir/longeqns2.png</span><span class="ot">"</span> ]</span>
<span id="cb17-178"><a href="#cb17-178" aria-hidden="true" tabindex="-1"></a> J4  [ image=<span class="ot">"</span><span class="st">image_dir/LaTeX-arrow.png</span><span class="ot">"</span> ]</span>
<span id="cb17-179"><a href="#cb17-179" aria-hidden="true" tabindex="-1"></a> J5  [ shape=rect image=<span class="ot">"</span><span class="st">image_dir/main-qimg.png</span><span class="ot">"</span>]</span>
<span id="cb17-180"><a href="#cb17-180" aria-hidden="true" tabindex="-1"></a> J6  [ shape=circle image=<span class="ot">"</span><span class="st">image_dir/LaTeX-arrow.png</span><span class="ot">"</span> ]</span>
<span id="cb17-181"><a href="#cb17-181" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-182"><a href="#cb17-182" aria-hidden="true" tabindex="-1"></a> J1 -&gt; J2</span>
<span id="cb17-183"><a href="#cb17-183" aria-hidden="true" tabindex="-1"></a> J1-&gt; J6 -&gt; J5 -&gt; J4</span>
<span id="cb17-184"><a href="#cb17-184" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-185"><a href="#cb17-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-186"><a href="#cb17-186" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-187"><a href="#cb17-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-190"><a href="#cb17-190" aria-hidden="true" tabindex="-1"></a><span class="in">```{dot}</span></span>
<span id="cb17-191"><a href="#cb17-191" aria-hidden="true" tabindex="-1"></a>digraph G {</span>
<span id="cb17-192"><a href="#cb17-192" aria-hidden="true" tabindex="-1"></a>rankdir = LR</span>
<span id="cb17-193"><a href="#cb17-193" aria-hidden="true" tabindex="-1"></a>splines=false  // straight lines, <span class="ot">not</span> curves</span>
<span id="cb17-194"><a href="#cb17-194" aria-hidden="true" tabindex="-1"></a>// define ellipsis nodes</span>
<span id="cb17-195"><a href="#cb17-195" aria-hidden="true" tabindex="-1"></a>E1[image=<span class="ot">"</span><span class="st">Visuals_Interactives/gaussian_curve_input_node_1.png</span><span class="ot">"</span>]</span>
<span id="cb17-196"><a href="#cb17-196" aria-hidden="true" tabindex="-1"></a>E2[shape=none  label=<span class="ot">"</span><span class="st">&amp;#8942;</span><span class="ot">"</span> fontsize=<span class="dv">30</span>]</span>
<span id="cb17-197"><a href="#cb17-197" aria-hidden="true" tabindex="-1"></a>{rank=same a b E1 z}       // align on same rank</span>
<span id="cb17-198"><a href="#cb17-198" aria-hidden="true" tabindex="-1"></a>{rank=same x1 x2 E2 x100}  // align on same rank</span>
<span id="cb17-199"><a href="#cb17-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-200"><a href="#cb17-200" aria-hidden="true" tabindex="-1"></a>{a b z} -&gt; {x1, x2, x100} -&gt; Y</span>
<span id="cb17-201"><a href="#cb17-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-202"><a href="#cb17-202" aria-hidden="true" tabindex="-1"></a>// invisible edges to order nodes</span>
<span id="cb17-203"><a href="#cb17-203" aria-hidden="true" tabindex="-1"></a>edge[style=invis]</span>
<span id="cb17-204"><a href="#cb17-204" aria-hidden="true" tabindex="-1"></a>a-&gt;b-&gt;E1-&gt;z </span>
<span id="cb17-205"><a href="#cb17-205" aria-hidden="true" tabindex="-1"></a>x1-&gt;x2-&gt;E2-&gt;x100 </span>
<span id="cb17-206"><a href="#cb17-206" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-207"><a href="#cb17-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-208"><a href="#cb17-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-209"><a href="#cb17-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-210"><a href="#cb17-210" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-211"><a href="#cb17-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-212"><a href="#cb17-212" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-213"><a href="#cb17-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-216"><a href="#cb17-216" aria-hidden="true" tabindex="-1"></a><span class="in">```{dot}</span></span>
<span id="cb17-217"><a href="#cb17-217" aria-hidden="true" tabindex="-1"></a>digraph G {</span>
<span id="cb17-218"><a href="#cb17-218" aria-hidden="true" tabindex="-1"></a> graph [rankdir=LR]</span>
<span id="cb17-219"><a href="#cb17-219" aria-hidden="true" tabindex="-1"></a> node [shape=none label=<span class="ot">""</span>]</span>
<span id="cb17-220"><a href="#cb17-220" aria-hidden="true" tabindex="-1"></a> n1  [ image=<span class="ot">"</span><span class="st">images/svg1.svg</span><span class="ot">"</span> ]</span>
<span id="cb17-221"><a href="#cb17-221" aria-hidden="true" tabindex="-1"></a> n2  [ image=<span class="ot">"</span><span class="st">images/acclaim.svg</span><span class="ot">"</span> ]</span>
<span id="cb17-222"><a href="#cb17-222" aria-hidden="true" tabindex="-1"></a> n4  [ image=<span class="ot">"</span><span class="st">images/acm.svg</span><span class="ot">"</span> ]</span>
<span id="cb17-223"><a href="#cb17-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-224"><a href="#cb17-224" aria-hidden="true" tabindex="-1"></a> n1 -&gt; n2 -&gt; n4 </span>
<span id="cb17-225"><a href="#cb17-225" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-226"><a href="#cb17-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-227"><a href="#cb17-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-228"><a href="#cb17-228" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-229"><a href="#cb17-229" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-230"><a href="#cb17-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-231"><a href="#cb17-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-232"><a href="#cb17-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-233"><a href="#cb17-233" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-234"><a href="#cb17-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-235"><a href="#cb17-235" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-236"><a href="#cb17-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-237"><a href="#cb17-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-240"><a href="#cb17-240" aria-hidden="true" tabindex="-1"></a><span class="in">```{dot}</span></span>
<span id="cb17-241"><a href="#cb17-241" aria-hidden="true" tabindex="-1"></a>digraph ALM {</span>
<span id="cb17-242"><a href="#cb17-242" aria-hidden="true" tabindex="-1"></a>    rankdir = LR;</span>
<span id="cb17-243"><a href="#cb17-243" aria-hidden="true" tabindex="-1"></a>    splines=false;</span>
<span id="cb17-244"><a href="#cb17-244" aria-hidden="true" tabindex="-1"></a>    edge[style=invis];</span>
<span id="cb17-245"><a href="#cb17-245" aria-hidden="true" tabindex="-1"></a>    ranksep= <span class="fl">1.4</span>;</span>
<span id="cb17-246"><a href="#cb17-246" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-247"><a href="#cb17-247" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb17-248"><a href="#cb17-248" aria-hidden="true" tabindex="-1"></a>        node [shape=circle, color=chartreuse, style=filled, fillcolor=chartreuse];</span>
<span id="cb17-249"><a href="#cb17-249" aria-hidden="true" tabindex="-1"></a>        Input1 [label=&lt;X&lt;<span class="kw">sub</span>&gt;<span class="dv">1</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-250"><a href="#cb17-250" aria-hidden="true" tabindex="-1"></a>        Input2 [label=&lt;X&lt;<span class="kw">sub</span>&gt;<span class="dv">2</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-251"><a href="#cb17-251" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-252"><a href="#cb17-252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-253"><a href="#cb17-253" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb17-254"><a href="#cb17-254" aria-hidden="true" tabindex="-1"></a>        node [shape=circle, color=coral1, style=filled, fillcolor=coral1];</span>
<span id="cb17-255"><a href="#cb17-255" aria-hidden="true" tabindex="-1"></a>        Output1 [label=&lt;Y&lt;<span class="kw">sub</span>&gt;<span class="dv">1</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-256"><a href="#cb17-256" aria-hidden="true" tabindex="-1"></a>        Output2 [label=&lt;Y&lt;<span class="kw">sub</span>&gt;<span class="dv">2</span>&lt;/<span class="kw">sub</span>&gt;&gt;]; </span>
<span id="cb17-257"><a href="#cb17-257" aria-hidden="true" tabindex="-1"></a>        Output3 [label=&lt;Y&lt;<span class="kw">sub</span>&gt;<span class="dv">3</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-258"><a href="#cb17-258" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-259"><a href="#cb17-259" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-260"><a href="#cb17-260" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb17-261"><a href="#cb17-261" aria-hidden="true" tabindex="-1"></a>        rank=same;</span>
<span id="cb17-262"><a href="#cb17-262" aria-hidden="true" tabindex="-1"></a>        Input1 -&gt; Input2 [style=invis];</span>
<span id="cb17-263"><a href="#cb17-263" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-264"><a href="#cb17-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-265"><a href="#cb17-265" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb17-266"><a href="#cb17-266" aria-hidden="true" tabindex="-1"></a>        rank=same;</span>
<span id="cb17-267"><a href="#cb17-267" aria-hidden="true" tabindex="-1"></a>        Output1 -&gt; Output2 -&gt; Output3 [style=invis];</span>
<span id="cb17-268"><a href="#cb17-268" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-269"><a href="#cb17-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-270"><a href="#cb17-270" aria-hidden="true" tabindex="-1"></a>    label_input [shape=plaintext, label=<span class="ot">"</span><span class="st">Input Layer</span><span class="ot">"</span>];</span>
<span id="cb17-271"><a href="#cb17-271" aria-hidden="true" tabindex="-1"></a>    label_input -&gt; Input1;</span>
<span id="cb17-272"><a href="#cb17-272" aria-hidden="true" tabindex="-1"></a>    {rank=same; label_input; Input1};</span>
<span id="cb17-273"><a href="#cb17-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-274"><a href="#cb17-274" aria-hidden="true" tabindex="-1"></a>    label_output [shape=plaintext, label=<span class="ot">"</span><span class="st">Output Layer</span><span class="ot">"</span>];</span>
<span id="cb17-275"><a href="#cb17-275" aria-hidden="true" tabindex="-1"></a>    label_output -&gt; Output1;</span>
<span id="cb17-276"><a href="#cb17-276" aria-hidden="true" tabindex="-1"></a>    {rank=same; label_output; Output1};</span>
<span id="cb17-277"><a href="#cb17-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-278"><a href="#cb17-278" aria-hidden="true" tabindex="-1"></a>    edge[style=solid, tailport=e, headport=w, labelangle=<span class="dv">45</span>, labeldistance=<span class="fl">2.0</span>];</span>
<span id="cb17-279"><a href="#cb17-279" aria-hidden="true" tabindex="-1"></a>    Input1 -&gt; Output1 [label=&lt;w&lt;<span class="kw">sub</span>&gt;<span class="dv">11</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-280"><a href="#cb17-280" aria-hidden="true" tabindex="-1"></a>    Input1 -&gt; Output2 [label=&lt;w&lt;<span class="kw">sub</span>&gt;<span class="dv">12</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-281"><a href="#cb17-281" aria-hidden="true" tabindex="-1"></a>    Input1 -&gt; Output3 [label=&lt;w&lt;<span class="kw">sub</span>&gt;<span class="dv">13</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-282"><a href="#cb17-282" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-283"><a href="#cb17-283" aria-hidden="true" tabindex="-1"></a>    Input2 -&gt; Output1 [label=&lt;w&lt;<span class="kw">sub</span>&gt;<span class="dv">21</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-284"><a href="#cb17-284" aria-hidden="true" tabindex="-1"></a>    Input2 -&gt; Output2 [label=&lt;w&lt;<span class="kw">sub</span>&gt;<span class="dv">22</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-285"><a href="#cb17-285" aria-hidden="true" tabindex="-1"></a>    Input2 -&gt; Output3 [label=&lt;w&lt;<span class="kw">sub</span>&gt;<span class="dv">23</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-286"><a href="#cb17-286" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb17-287"><a href="#cb17-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-288"><a href="#cb17-288" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-289"><a href="#cb17-289" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-290"><a href="#cb17-290" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-291"><a href="#cb17-291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-292"><a href="#cb17-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-295"><a href="#cb17-295" aria-hidden="true" tabindex="-1"></a><span class="in">```{dot}</span></span>
<span id="cb17-296"><a href="#cb17-296" aria-hidden="true" tabindex="-1"></a>digraph G {</span>
<span id="cb17-297"><a href="#cb17-297" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-298"><a href="#cb17-298" aria-hidden="true" tabindex="-1"></a>    // ===============================</span>
<span id="cb17-299"><a href="#cb17-299" aria-hidden="true" tabindex="-1"></a>    // rankdir: directed graph drawn from left to right </span>
<span id="cb17-300"><a href="#cb17-300" aria-hidden="true" tabindex="-1"></a>    // details: http://www.graphviz.org/doc/info/attrs.html</span>
<span id="cb17-301"><a href="#cb17-301" aria-hidden="true" tabindex="-1"></a>    // ===============================</span>
<span id="cb17-302"><a href="#cb17-302" aria-hidden="true" tabindex="-1"></a>    rankdir=LR;  </span>
<span id="cb17-303"><a href="#cb17-303" aria-hidden="true" tabindex="-1"></a>    edge[style=solid, tailport=e, headport=w];</span>
<span id="cb17-304"><a href="#cb17-304" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb17-305"><a href="#cb17-305" aria-hidden="true" tabindex="-1"></a>    // ===============================</span>
<span id="cb17-306"><a href="#cb17-306" aria-hidden="true" tabindex="-1"></a>    // splines=line:  draw straight lines to <span class="fu">connect</span> nodes</span>
<span id="cb17-307"><a href="#cb17-307" aria-hidden="true" tabindex="-1"></a>    // ===============================</span>
<span id="cb17-308"><a href="#cb17-308" aria-hidden="true" tabindex="-1"></a>    splines=line;</span>
<span id="cb17-309"><a href="#cb17-309" aria-hidden="true" tabindex="-1"></a>    nodesep=<span class="ot">"</span><span class="st">.05</span><span class="ot">"</span>;</span>
<span id="cb17-310"><a href="#cb17-310" aria-hidden="true" tabindex="-1"></a>    node [label=<span class="ot">""</span>];</span>
<span id="cb17-311"><a href="#cb17-311" aria-hidden="true" tabindex="-1"></a>    subgraph cluster_0 {</span>
<span id="cb17-312"><a href="#cb17-312" aria-hidden="true" tabindex="-1"></a>        color=white;</span>
<span id="cb17-313"><a href="#cb17-313" aria-hidden="true" tabindex="-1"></a>        label=<span class="ot">"</span><span class="st">layer 1 (input layer)</span><span class="ot">"</span>;</span>
<span id="cb17-314"><a href="#cb17-314" aria-hidden="true" tabindex="-1"></a>        node [color=chartreuse, </span>
<span id="cb17-315"><a href="#cb17-315" aria-hidden="true" tabindex="-1"></a>              style=filled, </span>
<span id="cb17-316"><a href="#cb17-316" aria-hidden="true" tabindex="-1"></a>              shape=circle];</span>
<span id="cb17-317"><a href="#cb17-317" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-318"><a href="#cb17-318" aria-hidden="true" tabindex="-1"></a>       // ==============================</span>
<span id="cb17-319"><a href="#cb17-319" aria-hidden="true" tabindex="-1"></a>       // Below label text <span class="fu">format</span> specifies subscript <span class="ot">and</span> superscript in graphviz</span>
<span id="cb17-320"><a href="#cb17-320" aria-hidden="true" tabindex="-1"></a>       // ==============================</span>
<span id="cb17-321"><a href="#cb17-321" aria-hidden="true" tabindex="-1"></a>        x0 [color=yellow, </span>
<span id="cb17-322"><a href="#cb17-322" aria-hidden="true" tabindex="-1"></a>            fillcolor=yellow, </span>
<span id="cb17-323"><a href="#cb17-323" aria-hidden="true" tabindex="-1"></a>            label=&lt;x&lt;<span class="kw">sub</span>&gt;<span class="dv">0</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-324"><a href="#cb17-324" aria-hidden="true" tabindex="-1"></a>        x1 [fillcolor=chartreuse, </span>
<span id="cb17-325"><a href="#cb17-325" aria-hidden="true" tabindex="-1"></a>            label=&lt;x&lt;<span class="kw">sub</span>&gt;<span class="dv">1</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-326"><a href="#cb17-326" aria-hidden="true" tabindex="-1"></a>        x2 [fillcolor=chartreuse, </span>
<span id="cb17-327"><a href="#cb17-327" aria-hidden="true" tabindex="-1"></a>            label=&lt;x&lt;<span class="kw">sub</span>&gt;<span class="dv">2</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-328"><a href="#cb17-328" aria-hidden="true" tabindex="-1"></a>        x3 [fillcolor=chartreuse, </span>
<span id="cb17-329"><a href="#cb17-329" aria-hidden="true" tabindex="-1"></a>            label=&lt;x&lt;<span class="kw">sub</span>&gt;<span class="dv">3</span>&lt;/<span class="kw">sub</span>&gt;&gt;];</span>
<span id="cb17-330"><a href="#cb17-330" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-331"><a href="#cb17-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-332"><a href="#cb17-332" aria-hidden="true" tabindex="-1"></a>    subgraph cluster_1 {</span>
<span id="cb17-333"><a href="#cb17-333" aria-hidden="true" tabindex="-1"></a>        color=white;</span>
<span id="cb17-334"><a href="#cb17-334" aria-hidden="true" tabindex="-1"></a>        label=<span class="ot">"</span><span class="st">layer 2 (hidden layer)</span><span class="ot">"</span>;</span>
<span id="cb17-335"><a href="#cb17-335" aria-hidden="true" tabindex="-1"></a>        node [color=dodgerblue, </span>
<span id="cb17-336"><a href="#cb17-336" aria-hidden="true" tabindex="-1"></a>              style=filled, </span>
<span id="cb17-337"><a href="#cb17-337" aria-hidden="true" tabindex="-1"></a>              shape=circle];</span>
<span id="cb17-338"><a href="#cb17-338" aria-hidden="true" tabindex="-1"></a>        a02 [color=yellow, </span>
<span id="cb17-339"><a href="#cb17-339" aria-hidden="true" tabindex="-1"></a>             fillcolor=yellow, </span>
<span id="cb17-340"><a href="#cb17-340" aria-hidden="true" tabindex="-1"></a>             label=&lt;a&lt;<span class="kw">sub</span>&gt;<span class="dv">0</span>&lt;/<span class="kw">sub</span>&gt;&lt;sup&gt;(<span class="dv">2</span>)&lt;/sup&gt;&gt;];</span>
<span id="cb17-341"><a href="#cb17-341" aria-hidden="true" tabindex="-1"></a>       </span>
<span id="cb17-342"><a href="#cb17-342" aria-hidden="true" tabindex="-1"></a>       // ==============================</span>
<span id="cb17-343"><a href="#cb17-343" aria-hidden="true" tabindex="-1"></a>       // Below label text doesn<span class="ot">'</span><span class="ss">t match with the node naming (i.e. a12 should have label "a12" instead of "a52")</span></span>
<span id="cb17-344"><a href="#cb17-344" aria-hidden="true" tabindex="-1"></a><span class="ss">       // This is a dirty trick that to keep the nodes in the same layer with label sorted </span></span>
<span id="cb17-345"><a href="#cb17-345" aria-hidden="true" tabindex="-1"></a><span class="ss">       // (i.e. a12, followed by a22, followed by a32, followed by a42, followed by a52)</span></span>
<span id="cb17-346"><a href="#cb17-346" aria-hidden="true" tabindex="-1"></a><span class="ss">       // ==============================</span></span>
<span id="cb17-347"><a href="#cb17-347" aria-hidden="true" tabindex="-1"></a><span class="ss">        a12 [fillcolor=dodgerblue, </span></span>
<span id="cb17-348"><a href="#cb17-348" aria-hidden="true" tabindex="-1"></a><span class="ss">             label=&lt;a&lt;sub&gt;5&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-349"><a href="#cb17-349" aria-hidden="true" tabindex="-1"></a><span class="ss">        a22 [fillcolor=dodgerblue, </span></span>
<span id="cb17-350"><a href="#cb17-350" aria-hidden="true" tabindex="-1"></a><span class="ss">             label=&lt;a&lt;sub&gt;1&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-351"><a href="#cb17-351" aria-hidden="true" tabindex="-1"></a><span class="ss">        a32 [fillcolor=dodgerblue, </span></span>
<span id="cb17-352"><a href="#cb17-352" aria-hidden="true" tabindex="-1"></a><span class="ss">             label=&lt;a&lt;sub&gt;2&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-353"><a href="#cb17-353" aria-hidden="true" tabindex="-1"></a><span class="ss">        a42 [fillcolor=dodgerblue, </span></span>
<span id="cb17-354"><a href="#cb17-354" aria-hidden="true" tabindex="-1"></a><span class="ss">             label=&lt;a&lt;sub&gt;3&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-355"><a href="#cb17-355" aria-hidden="true" tabindex="-1"></a><span class="ss">        a52 [fillcolor=dodgerblue, </span></span>
<span id="cb17-356"><a href="#cb17-356" aria-hidden="true" tabindex="-1"></a><span class="ss">             label=&lt;a&lt;sub&gt;4&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-357"><a href="#cb17-357" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-358"><a href="#cb17-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-359"><a href="#cb17-359" aria-hidden="true" tabindex="-1"></a><span class="ss">    subgraph cluster_2 {</span></span>
<span id="cb17-360"><a href="#cb17-360" aria-hidden="true" tabindex="-1"></a><span class="ss">        color=white;</span></span>
<span id="cb17-361"><a href="#cb17-361" aria-hidden="true" tabindex="-1"></a><span class="ss">        label="layer 3 (hidden layer)";</span></span>
<span id="cb17-362"><a href="#cb17-362" aria-hidden="true" tabindex="-1"></a><span class="ss">        node [color=dodgerblue, </span></span>
<span id="cb17-363"><a href="#cb17-363" aria-hidden="true" tabindex="-1"></a><span class="ss">              style=filled, </span></span>
<span id="cb17-364"><a href="#cb17-364" aria-hidden="true" tabindex="-1"></a><span class="ss">              shape=circle];</span></span>
<span id="cb17-365"><a href="#cb17-365" aria-hidden="true" tabindex="-1"></a><span class="ss">        a03 [color=yellow, </span></span>
<span id="cb17-366"><a href="#cb17-366" aria-hidden="true" tabindex="-1"></a><span class="ss">             fillcolor=yellow, </span></span>
<span id="cb17-367"><a href="#cb17-367" aria-hidden="true" tabindex="-1"></a><span class="ss">             label=&lt;a&lt;sub&gt;0&lt;/sub&gt;&lt;sup&gt;(3)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-368"><a href="#cb17-368" aria-hidden="true" tabindex="-1"></a><span class="ss">        a13 [fillcolor=dodgerblue, </span></span>
<span id="cb17-369"><a href="#cb17-369" aria-hidden="true" tabindex="-1"></a><span class="ss">             label=&lt;a&lt;sub&gt;3&lt;/sub&gt;&lt;sup&gt;(3)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-370"><a href="#cb17-370" aria-hidden="true" tabindex="-1"></a><span class="ss">        a23 [fillcolor=dodgerblue, </span></span>
<span id="cb17-371"><a href="#cb17-371" aria-hidden="true" tabindex="-1"></a><span class="ss">             label=&lt;a&lt;sub&gt;4&lt;/sub&gt;&lt;sup&gt;(3)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-372"><a href="#cb17-372" aria-hidden="true" tabindex="-1"></a><span class="ss">        a33 [fillcolor=dodgerblue, </span></span>
<span id="cb17-373"><a href="#cb17-373" aria-hidden="true" tabindex="-1"></a><span class="ss">             label=&lt;a&lt;sub&gt;5&lt;/sub&gt;&lt;sup&gt;(3)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-374"><a href="#cb17-374" aria-hidden="true" tabindex="-1"></a><span class="ss">        a43 [fillcolor=dodgerblue, </span></span>
<span id="cb17-375"><a href="#cb17-375" aria-hidden="true" tabindex="-1"></a><span class="ss">             label=&lt;a&lt;sub&gt;1&lt;/sub&gt;&lt;sup&gt;(3)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-376"><a href="#cb17-376" aria-hidden="true" tabindex="-1"></a><span class="ss">        a53 [fillcolor=dodgerblue, </span></span>
<span id="cb17-377"><a href="#cb17-377" aria-hidden="true" tabindex="-1"></a><span class="ss">             label=&lt;a&lt;sub&gt;2&lt;/sub&gt;&lt;sup&gt;(3)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-378"><a href="#cb17-378" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-379"><a href="#cb17-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-380"><a href="#cb17-380" aria-hidden="true" tabindex="-1"></a><span class="ss">    subgraph cluster_3 {</span></span>
<span id="cb17-381"><a href="#cb17-381" aria-hidden="true" tabindex="-1"></a><span class="ss">        color=white;</span></span>
<span id="cb17-382"><a href="#cb17-382" aria-hidden="true" tabindex="-1"></a><span class="ss">        label="layer 4 (output layer)";</span></span>
<span id="cb17-383"><a href="#cb17-383" aria-hidden="true" tabindex="-1"></a><span class="ss">        node [color=coral1, </span></span>
<span id="cb17-384"><a href="#cb17-384" aria-hidden="true" tabindex="-1"></a><span class="ss">              style=filled, </span></span>
<span id="cb17-385"><a href="#cb17-385" aria-hidden="true" tabindex="-1"></a><span class="ss">              shape=circle];</span></span>
<span id="cb17-386"><a href="#cb17-386" aria-hidden="true" tabindex="-1"></a><span class="ss">        O1 [fillcolor=coral1, </span></span>
<span id="cb17-387"><a href="#cb17-387" aria-hidden="true" tabindex="-1"></a><span class="ss">            label=&lt;a&lt;sub&gt;1&lt;/sub&gt;&lt;sup&gt;(4)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-388"><a href="#cb17-388" aria-hidden="true" tabindex="-1"></a><span class="ss">        O2 [fillcolor=coral1, </span></span>
<span id="cb17-389"><a href="#cb17-389" aria-hidden="true" tabindex="-1"></a><span class="ss">            label=&lt;a&lt;sub&gt;2&lt;/sub&gt;&lt;sup&gt;(4)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-390"><a href="#cb17-390" aria-hidden="true" tabindex="-1"></a><span class="ss">        O3 [fillcolor=coral1, </span></span>
<span id="cb17-391"><a href="#cb17-391" aria-hidden="true" tabindex="-1"></a><span class="ss">            label=&lt;a&lt;sub&gt;3&lt;/sub&gt;&lt;sup&gt;(4)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-392"><a href="#cb17-392" aria-hidden="true" tabindex="-1"></a><span class="ss">        O4 [fillcolor=coral1, </span></span>
<span id="cb17-393"><a href="#cb17-393" aria-hidden="true" tabindex="-1"></a><span class="ss">            label=&lt;a&lt;sub&gt;4&lt;/sub&gt;&lt;sup&gt;(4)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-394"><a href="#cb17-394" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-395"><a href="#cb17-395" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-396"><a href="#cb17-396" aria-hidden="true" tabindex="-1"></a><span class="ss">   // ===============================</span></span>
<span id="cb17-397"><a href="#cb17-397" aria-hidden="true" tabindex="-1"></a><span class="ss">   // This is the trick to enforce the bias node stays at the top of </span></span>
<span id="cb17-398"><a href="#cb17-398" aria-hidden="true" tabindex="-1"></a><span class="ss">   // vertical array of nodes in each layer</span></span>
<span id="cb17-399"><a href="#cb17-399" aria-hidden="true" tabindex="-1"></a><span class="ss">   // style=invisible: makes the edge connection invisible</span></span>
<span id="cb17-400"><a href="#cb17-400" aria-hidden="true" tabindex="-1"></a><span class="ss">   // dir=none: hide the arrow </span></span>
<span id="cb17-401"><a href="#cb17-401" aria-hidden="true" tabindex="-1"></a><span class="ss">   // ===============================</span></span>
<span id="cb17-402"><a href="#cb17-402" aria-hidden="true" tabindex="-1"></a><span class="ss">    x0 -&gt; a02 [style=invisible, dir=none];</span></span>
<span id="cb17-403"><a href="#cb17-403" aria-hidden="true" tabindex="-1"></a><span class="ss">    x0 -&gt; a12;</span></span>
<span id="cb17-404"><a href="#cb17-404" aria-hidden="true" tabindex="-1"></a><span class="ss">    x0 -&gt; a22;</span></span>
<span id="cb17-405"><a href="#cb17-405" aria-hidden="true" tabindex="-1"></a><span class="ss">    x0 -&gt; a32;</span></span>
<span id="cb17-406"><a href="#cb17-406" aria-hidden="true" tabindex="-1"></a><span class="ss">    x0 -&gt; a42;</span></span>
<span id="cb17-407"><a href="#cb17-407" aria-hidden="true" tabindex="-1"></a><span class="ss">    x0 -&gt; a52;</span></span>
<span id="cb17-408"><a href="#cb17-408" aria-hidden="true" tabindex="-1"></a><span class="ss">    x1 -&gt; a12;</span></span>
<span id="cb17-409"><a href="#cb17-409" aria-hidden="true" tabindex="-1"></a><span class="ss">    x1 -&gt; a22;</span></span>
<span id="cb17-410"><a href="#cb17-410" aria-hidden="true" tabindex="-1"></a><span class="ss">    x1 -&gt; a32;</span></span>
<span id="cb17-411"><a href="#cb17-411" aria-hidden="true" tabindex="-1"></a><span class="ss">    x1 -&gt; a42;</span></span>
<span id="cb17-412"><a href="#cb17-412" aria-hidden="true" tabindex="-1"></a><span class="ss">    x1 -&gt; a52;</span></span>
<span id="cb17-413"><a href="#cb17-413" aria-hidden="true" tabindex="-1"></a><span class="ss">    x2 -&gt; a12;</span></span>
<span id="cb17-414"><a href="#cb17-414" aria-hidden="true" tabindex="-1"></a><span class="ss">    x2 -&gt; a22;</span></span>
<span id="cb17-415"><a href="#cb17-415" aria-hidden="true" tabindex="-1"></a><span class="ss">    x2 -&gt; a32;</span></span>
<span id="cb17-416"><a href="#cb17-416" aria-hidden="true" tabindex="-1"></a><span class="ss">    x2 -&gt; a42;</span></span>
<span id="cb17-417"><a href="#cb17-417" aria-hidden="true" tabindex="-1"></a><span class="ss">    x2 -&gt; a52;</span></span>
<span id="cb17-418"><a href="#cb17-418" aria-hidden="true" tabindex="-1"></a><span class="ss">    x3 -&gt; a12;</span></span>
<span id="cb17-419"><a href="#cb17-419" aria-hidden="true" tabindex="-1"></a><span class="ss">    x3 -&gt; a22;</span></span>
<span id="cb17-420"><a href="#cb17-420" aria-hidden="true" tabindex="-1"></a><span class="ss">    x3 -&gt; a32;</span></span>
<span id="cb17-421"><a href="#cb17-421" aria-hidden="true" tabindex="-1"></a><span class="ss">    x3 -&gt; a42;</span></span>
<span id="cb17-422"><a href="#cb17-422" aria-hidden="true" tabindex="-1"></a><span class="ss">    x3 -&gt; a52;</span></span>
<span id="cb17-423"><a href="#cb17-423" aria-hidden="true" tabindex="-1"></a><span class="ss">    a02 -&gt; a03 [style=invisible, dir=none];</span></span>
<span id="cb17-424"><a href="#cb17-424" aria-hidden="true" tabindex="-1"></a><span class="ss">    a02 -&gt; a13;</span></span>
<span id="cb17-425"><a href="#cb17-425" aria-hidden="true" tabindex="-1"></a><span class="ss">    a02 -&gt; a23;</span></span>
<span id="cb17-426"><a href="#cb17-426" aria-hidden="true" tabindex="-1"></a><span class="ss">    a02 -&gt; a33;</span></span>
<span id="cb17-427"><a href="#cb17-427" aria-hidden="true" tabindex="-1"></a><span class="ss">    a02 -&gt; a43;</span></span>
<span id="cb17-428"><a href="#cb17-428" aria-hidden="true" tabindex="-1"></a><span class="ss">    a02 -&gt; a53;</span></span>
<span id="cb17-429"><a href="#cb17-429" aria-hidden="true" tabindex="-1"></a><span class="ss">    a12 -&gt; a13;</span></span>
<span id="cb17-430"><a href="#cb17-430" aria-hidden="true" tabindex="-1"></a><span class="ss">    a12 -&gt; a23;</span></span>
<span id="cb17-431"><a href="#cb17-431" aria-hidden="true" tabindex="-1"></a><span class="ss">    a12 -&gt; a33;</span></span>
<span id="cb17-432"><a href="#cb17-432" aria-hidden="true" tabindex="-1"></a><span class="ss">    a12 -&gt; a43;</span></span>
<span id="cb17-433"><a href="#cb17-433" aria-hidden="true" tabindex="-1"></a><span class="ss">    a12 -&gt; a53;</span></span>
<span id="cb17-434"><a href="#cb17-434" aria-hidden="true" tabindex="-1"></a><span class="ss">    a22 -&gt; a13;</span></span>
<span id="cb17-435"><a href="#cb17-435" aria-hidden="true" tabindex="-1"></a><span class="ss">    a22 -&gt; a23;</span></span>
<span id="cb17-436"><a href="#cb17-436" aria-hidden="true" tabindex="-1"></a><span class="ss">    a22 -&gt; a33;</span></span>
<span id="cb17-437"><a href="#cb17-437" aria-hidden="true" tabindex="-1"></a><span class="ss">    a22 -&gt; a43;</span></span>
<span id="cb17-438"><a href="#cb17-438" aria-hidden="true" tabindex="-1"></a><span class="ss">    a22 -&gt; a53;</span></span>
<span id="cb17-439"><a href="#cb17-439" aria-hidden="true" tabindex="-1"></a><span class="ss">    a32 -&gt; a13;</span></span>
<span id="cb17-440"><a href="#cb17-440" aria-hidden="true" tabindex="-1"></a><span class="ss">    a32 -&gt; a23;</span></span>
<span id="cb17-441"><a href="#cb17-441" aria-hidden="true" tabindex="-1"></a><span class="ss">    a32 -&gt; a33;</span></span>
<span id="cb17-442"><a href="#cb17-442" aria-hidden="true" tabindex="-1"></a><span class="ss">    a32 -&gt; a43;</span></span>
<span id="cb17-443"><a href="#cb17-443" aria-hidden="true" tabindex="-1"></a><span class="ss">    a32 -&gt; a53;</span></span>
<span id="cb17-444"><a href="#cb17-444" aria-hidden="true" tabindex="-1"></a><span class="ss">    a42 -&gt; a13;</span></span>
<span id="cb17-445"><a href="#cb17-445" aria-hidden="true" tabindex="-1"></a><span class="ss">    a42 -&gt; a23;</span></span>
<span id="cb17-446"><a href="#cb17-446" aria-hidden="true" tabindex="-1"></a><span class="ss">    a42 -&gt; a33;</span></span>
<span id="cb17-447"><a href="#cb17-447" aria-hidden="true" tabindex="-1"></a><span class="ss">    a42 -&gt; a43;</span></span>
<span id="cb17-448"><a href="#cb17-448" aria-hidden="true" tabindex="-1"></a><span class="ss">    a42 -&gt; a53;</span></span>
<span id="cb17-449"><a href="#cb17-449" aria-hidden="true" tabindex="-1"></a><span class="ss">    a52 -&gt; a13;</span></span>
<span id="cb17-450"><a href="#cb17-450" aria-hidden="true" tabindex="-1"></a><span class="ss">    a52 -&gt; a23;</span></span>
<span id="cb17-451"><a href="#cb17-451" aria-hidden="true" tabindex="-1"></a><span class="ss">    a52 -&gt; a33;</span></span>
<span id="cb17-452"><a href="#cb17-452" aria-hidden="true" tabindex="-1"></a><span class="ss">    a52 -&gt; a43;</span></span>
<span id="cb17-453"><a href="#cb17-453" aria-hidden="true" tabindex="-1"></a><span class="ss">    a52 -&gt; a53;</span></span>
<span id="cb17-454"><a href="#cb17-454" aria-hidden="true" tabindex="-1"></a><span class="ss">    a03 -&gt; O1;</span></span>
<span id="cb17-455"><a href="#cb17-455" aria-hidden="true" tabindex="-1"></a><span class="ss">    a13 -&gt; O1;</span></span>
<span id="cb17-456"><a href="#cb17-456" aria-hidden="true" tabindex="-1"></a><span class="ss">    a23 -&gt; O1;</span></span>
<span id="cb17-457"><a href="#cb17-457" aria-hidden="true" tabindex="-1"></a><span class="ss">    a33 -&gt; O1;</span></span>
<span id="cb17-458"><a href="#cb17-458" aria-hidden="true" tabindex="-1"></a><span class="ss">    a43 -&gt; O1;</span></span>
<span id="cb17-459"><a href="#cb17-459" aria-hidden="true" tabindex="-1"></a><span class="ss">    a53 -&gt; O1;</span></span>
<span id="cb17-460"><a href="#cb17-460" aria-hidden="true" tabindex="-1"></a><span class="ss">    a03 -&gt; O2;</span></span>
<span id="cb17-461"><a href="#cb17-461" aria-hidden="true" tabindex="-1"></a><span class="ss">    a13 -&gt; O2;</span></span>
<span id="cb17-462"><a href="#cb17-462" aria-hidden="true" tabindex="-1"></a><span class="ss">    a23 -&gt; O2;</span></span>
<span id="cb17-463"><a href="#cb17-463" aria-hidden="true" tabindex="-1"></a><span class="ss">    a33 -&gt; O2;</span></span>
<span id="cb17-464"><a href="#cb17-464" aria-hidden="true" tabindex="-1"></a><span class="ss">    a43 -&gt; O2;</span></span>
<span id="cb17-465"><a href="#cb17-465" aria-hidden="true" tabindex="-1"></a><span class="ss">    a53 -&gt; O2;</span></span>
<span id="cb17-466"><a href="#cb17-466" aria-hidden="true" tabindex="-1"></a><span class="ss">    a03 -&gt; O3;</span></span>
<span id="cb17-467"><a href="#cb17-467" aria-hidden="true" tabindex="-1"></a><span class="ss">    a13 -&gt; O3;</span></span>
<span id="cb17-468"><a href="#cb17-468" aria-hidden="true" tabindex="-1"></a><span class="ss">    a23 -&gt; O3;</span></span>
<span id="cb17-469"><a href="#cb17-469" aria-hidden="true" tabindex="-1"></a><span class="ss">    a33 -&gt; O3;</span></span>
<span id="cb17-470"><a href="#cb17-470" aria-hidden="true" tabindex="-1"></a><span class="ss">    a43 -&gt; O3;</span></span>
<span id="cb17-471"><a href="#cb17-471" aria-hidden="true" tabindex="-1"></a><span class="ss">    a53 -&gt; O3;</span></span>
<span id="cb17-472"><a href="#cb17-472" aria-hidden="true" tabindex="-1"></a><span class="ss">    a03 -&gt; O4;</span></span>
<span id="cb17-473"><a href="#cb17-473" aria-hidden="true" tabindex="-1"></a><span class="ss">    a13 -&gt; O4;</span></span>
<span id="cb17-474"><a href="#cb17-474" aria-hidden="true" tabindex="-1"></a><span class="ss">    a23 -&gt; O4;</span></span>
<span id="cb17-475"><a href="#cb17-475" aria-hidden="true" tabindex="-1"></a><span class="ss">    a33 -&gt; O4;</span></span>
<span id="cb17-476"><a href="#cb17-476" aria-hidden="true" tabindex="-1"></a><span class="ss">    a43 -&gt; O4;</span></span>
<span id="cb17-477"><a href="#cb17-477" aria-hidden="true" tabindex="-1"></a><span class="ss">    a53 -&gt; O4;</span></span>
<span id="cb17-478"><a href="#cb17-478" aria-hidden="true" tabindex="-1"></a><span class="ss">}</span></span>
<span id="cb17-479"><a href="#cb17-479" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-480"><a href="#cb17-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-481"><a href="#cb17-481" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-482"><a href="#cb17-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-483"><a href="#cb17-483" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-486"><a href="#cb17-486" aria-hidden="true" tabindex="-1"></a><span class="in">```{dot}</span></span>
<span id="cb17-487"><a href="#cb17-487" aria-hidden="true" tabindex="-1"></a><span class="ss">digraph G {</span></span>
<span id="cb17-488"><a href="#cb17-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-489"><a href="#cb17-489" aria-hidden="true" tabindex="-1"></a><span class="ss">        rankdir=LR</span></span>
<span id="cb17-490"><a href="#cb17-490" aria-hidden="true" tabindex="-1"></a><span class="ss">    splines=line</span></span>
<span id="cb17-491"><a href="#cb17-491" aria-hidden="true" tabindex="-1"></a><span class="ss">        </span></span>
<span id="cb17-492"><a href="#cb17-492" aria-hidden="true" tabindex="-1"></a><span class="ss">        node [fixedsize=true, label=""];</span></span>
<span id="cb17-493"><a href="#cb17-493" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-494"><a href="#cb17-494" aria-hidden="true" tabindex="-1"></a><span class="ss">        subgraph cluster_0 {</span></span>
<span id="cb17-495"><a href="#cb17-495" aria-hidden="true" tabindex="-1"></a><span class="ss">        color=white;</span></span>
<span id="cb17-496"><a href="#cb17-496" aria-hidden="true" tabindex="-1"></a><span class="ss">        node [style=solid,color=blue4, shape=circle];</span></span>
<span id="cb17-497"><a href="#cb17-497" aria-hidden="true" tabindex="-1"></a><span class="ss">        x1 x2 x3;</span></span>
<span id="cb17-498"><a href="#cb17-498" aria-hidden="true" tabindex="-1"></a><span class="ss">        label = "layer 1 (Input layer)";</span></span>
<span id="cb17-499"><a href="#cb17-499" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-500"><a href="#cb17-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-501"><a href="#cb17-501" aria-hidden="true" tabindex="-1"></a><span class="ss">    subgraph cluster_1 {</span></span>
<span id="cb17-502"><a href="#cb17-502" aria-hidden="true" tabindex="-1"></a><span class="ss">        color=white;</span></span>
<span id="cb17-503"><a href="#cb17-503" aria-hidden="true" tabindex="-1"></a><span class="ss">        node [style=solid,color=red2, shape=circle];</span></span>
<span id="cb17-504"><a href="#cb17-504" aria-hidden="true" tabindex="-1"></a><span class="ss">        a12 a22 a32;</span></span>
<span id="cb17-505"><a href="#cb17-505" aria-hidden="true" tabindex="-1"></a><span class="ss">        label = "layer 2 (hidden layer)";</span></span>
<span id="cb17-506"><a href="#cb17-506" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-507"><a href="#cb17-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-508"><a href="#cb17-508" aria-hidden="true" tabindex="-1"></a><span class="ss">    subgraph cluster_2 {</span></span>
<span id="cb17-509"><a href="#cb17-509" aria-hidden="true" tabindex="-1"></a><span class="ss">        color=white;</span></span>
<span id="cb17-510"><a href="#cb17-510" aria-hidden="true" tabindex="-1"></a><span class="ss">        node [style=solid,color=seagreen2, shape=circle];</span></span>
<span id="cb17-511"><a href="#cb17-511" aria-hidden="true" tabindex="-1"></a><span class="ss">        O;</span></span>
<span id="cb17-512"><a href="#cb17-512" aria-hidden="true" tabindex="-1"></a><span class="ss">        label="layer 3 (output layer)";</span></span>
<span id="cb17-513"><a href="#cb17-513" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-514"><a href="#cb17-514" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-515"><a href="#cb17-515" aria-hidden="true" tabindex="-1"></a><span class="ss">        x1 -&gt; a12;</span></span>
<span id="cb17-516"><a href="#cb17-516" aria-hidden="true" tabindex="-1"></a><span class="ss">        x1 -&gt; a22;</span></span>
<span id="cb17-517"><a href="#cb17-517" aria-hidden="true" tabindex="-1"></a><span class="ss">        x1 -&gt; a32;</span></span>
<span id="cb17-518"><a href="#cb17-518" aria-hidden="true" tabindex="-1"></a><span class="ss">        x2 -&gt; a12;</span></span>
<span id="cb17-519"><a href="#cb17-519" aria-hidden="true" tabindex="-1"></a><span class="ss">        x2 -&gt; a22;</span></span>
<span id="cb17-520"><a href="#cb17-520" aria-hidden="true" tabindex="-1"></a><span class="ss">        x2 -&gt; a32;</span></span>
<span id="cb17-521"><a href="#cb17-521" aria-hidden="true" tabindex="-1"></a><span class="ss">        x3 -&gt; a12;</span></span>
<span id="cb17-522"><a href="#cb17-522" aria-hidden="true" tabindex="-1"></a><span class="ss">        x3 -&gt; a22;</span></span>
<span id="cb17-523"><a href="#cb17-523" aria-hidden="true" tabindex="-1"></a><span class="ss">        x3 -&gt; a32;</span></span>
<span id="cb17-524"><a href="#cb17-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-525"><a href="#cb17-525" aria-hidden="true" tabindex="-1"></a><span class="ss">        a12 -&gt; O</span></span>
<span id="cb17-526"><a href="#cb17-526" aria-hidden="true" tabindex="-1"></a><span class="ss">        a22 -&gt; O</span></span>
<span id="cb17-527"><a href="#cb17-527" aria-hidden="true" tabindex="-1"></a><span class="ss">        a32 -&gt; O</span></span>
<span id="cb17-528"><a href="#cb17-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-529"><a href="#cb17-529" aria-hidden="true" tabindex="-1"></a><span class="ss">}</span></span>
<span id="cb17-530"><a href="#cb17-530" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-531"><a href="#cb17-531" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-532"><a href="#cb17-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-533"><a href="#cb17-533" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-534"><a href="#cb17-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-535"><a href="#cb17-535" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-536"><a href="#cb17-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-537"><a href="#cb17-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-540"><a href="#cb17-540" aria-hidden="true" tabindex="-1"></a><span class="in">```{dot}</span></span>
<span id="cb17-541"><a href="#cb17-541" aria-hidden="true" tabindex="-1"></a><span class="ss">digraph G {</span></span>
<span id="cb17-542"><a href="#cb17-542" aria-hidden="true" tabindex="-1"></a><span class="ss">    rankdir = LR;</span></span>
<span id="cb17-543"><a href="#cb17-543" aria-hidden="true" tabindex="-1"></a><span class="ss">    splines=false;</span></span>
<span id="cb17-544"><a href="#cb17-544" aria-hidden="true" tabindex="-1"></a><span class="ss">    edge[style=invis];</span></span>
<span id="cb17-545"><a href="#cb17-545" aria-hidden="true" tabindex="-1"></a><span class="ss">    ranksep= 1.4;</span></span>
<span id="cb17-546"><a href="#cb17-546" aria-hidden="true" tabindex="-1"></a><span class="ss">    {</span></span>
<span id="cb17-547"><a href="#cb17-547" aria-hidden="true" tabindex="-1"></a><span class="ss">    node [shape=circle, color=yellow, style=filled, fillcolor=yellow];</span></span>
<span id="cb17-548"><a href="#cb17-548" aria-hidden="true" tabindex="-1"></a><span class="ss">    x0 [label=&lt;x&lt;sub&gt;0&lt;/sub&gt;&gt;]; </span></span>
<span id="cb17-549"><a href="#cb17-549" aria-hidden="true" tabindex="-1"></a><span class="ss">    a02 [label=&lt;a&lt;sub&gt;0&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;&gt;]; </span></span>
<span id="cb17-550"><a href="#cb17-550" aria-hidden="true" tabindex="-1"></a><span class="ss">    a03 [label=&lt;a&lt;sub&gt;0&lt;/sub&gt;&lt;sup&gt;(3)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-551"><a href="#cb17-551" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-552"><a href="#cb17-552" aria-hidden="true" tabindex="-1"></a><span class="ss">    {</span></span>
<span id="cb17-553"><a href="#cb17-553" aria-hidden="true" tabindex="-1"></a><span class="ss">    node [shape=circle, color=chartreuse, style=filled, fillcolor=chartreuse];</span></span>
<span id="cb17-554"><a href="#cb17-554" aria-hidden="true" tabindex="-1"></a><span class="ss">    x1 [label=&lt;x&lt;sub&gt;1&lt;/sub&gt;&gt;];</span></span>
<span id="cb17-555"><a href="#cb17-555" aria-hidden="true" tabindex="-1"></a><span class="ss">    x2 [label=&lt;x&lt;sub&gt;2&lt;/sub&gt;&gt;]; </span></span>
<span id="cb17-556"><a href="#cb17-556" aria-hidden="true" tabindex="-1"></a><span class="ss">    x3 [label=&lt;x&lt;sub&gt;3&lt;/sub&gt;&gt;];</span></span>
<span id="cb17-557"><a href="#cb17-557" aria-hidden="true" tabindex="-1"></a><span class="ss">}</span></span>
<span id="cb17-558"><a href="#cb17-558" aria-hidden="true" tabindex="-1"></a><span class="ss">{</span></span>
<span id="cb17-559"><a href="#cb17-559" aria-hidden="true" tabindex="-1"></a><span class="ss">    node [shape=circle, color=dodgerblue, style=filled, fillcolor=dodgerblue];</span></span>
<span id="cb17-560"><a href="#cb17-560" aria-hidden="true" tabindex="-1"></a><span class="ss">    a12 [label=&lt;a&lt;sub&gt;1&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-561"><a href="#cb17-561" aria-hidden="true" tabindex="-1"></a><span class="ss">    a22 [label=&lt;a&lt;sub&gt;2&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-562"><a href="#cb17-562" aria-hidden="true" tabindex="-1"></a><span class="ss">    a32 [label=&lt;a&lt;sub&gt;3&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-563"><a href="#cb17-563" aria-hidden="true" tabindex="-1"></a><span class="ss">    a42 [label=&lt;a&lt;sub&gt;4&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-564"><a href="#cb17-564" aria-hidden="true" tabindex="-1"></a><span class="ss">    a52 [label=&lt;a&lt;sub&gt;5&lt;/sub&gt;&lt;sup&gt;(2)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-565"><a href="#cb17-565" aria-hidden="true" tabindex="-1"></a><span class="ss">    a13 [label=&lt;a&lt;sub&gt;1&lt;/sub&gt;&lt;sup&gt;(3)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-566"><a href="#cb17-566" aria-hidden="true" tabindex="-1"></a><span class="ss">    a23 [label=&lt;a&lt;sub&gt;2&lt;/sub&gt;&lt;sup&gt;(3)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-567"><a href="#cb17-567" aria-hidden="true" tabindex="-1"></a><span class="ss">    a33 [label=&lt;a&lt;sub&gt;3&lt;/sub&gt;&lt;sup&gt;(3)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-568"><a href="#cb17-568" aria-hidden="true" tabindex="-1"></a><span class="ss">    a43 [label=&lt;a&lt;sub&gt;4&lt;/sub&gt;&lt;sup&gt;(3)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-569"><a href="#cb17-569" aria-hidden="true" tabindex="-1"></a><span class="ss">    a53 [label=&lt;a&lt;sub&gt;5&lt;/sub&gt;&lt;sup&gt;(3)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-570"><a href="#cb17-570" aria-hidden="true" tabindex="-1"></a><span class="ss">}</span></span>
<span id="cb17-571"><a href="#cb17-571" aria-hidden="true" tabindex="-1"></a><span class="ss">{</span></span>
<span id="cb17-572"><a href="#cb17-572" aria-hidden="true" tabindex="-1"></a><span class="ss">    node [shape=circle, color=coral1, style=filled, fillcolor=coral1];</span></span>
<span id="cb17-573"><a href="#cb17-573" aria-hidden="true" tabindex="-1"></a><span class="ss">    O1 [label=&lt;a&lt;sub&gt;1&lt;/sub&gt;&lt;sup&gt;(4)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-574"><a href="#cb17-574" aria-hidden="true" tabindex="-1"></a><span class="ss">    O2 [label=&lt;a&lt;sub&gt;2&lt;/sub&gt;&lt;sup&gt;(4)&lt;/sup&gt;&gt;]; </span></span>
<span id="cb17-575"><a href="#cb17-575" aria-hidden="true" tabindex="-1"></a><span class="ss">    O3 [label=&lt;a&lt;sub&gt;3&lt;/sub&gt;&lt;sup&gt;(4)&lt;/sup&gt;&gt;]; </span></span>
<span id="cb17-576"><a href="#cb17-576" aria-hidden="true" tabindex="-1"></a><span class="ss">    O4 [label=&lt;a&lt;sub&gt;4&lt;/sub&gt;&lt;sup&gt;(4)&lt;/sup&gt;&gt;];</span></span>
<span id="cb17-577"><a href="#cb17-577" aria-hidden="true" tabindex="-1"></a><span class="ss">}</span></span>
<span id="cb17-578"><a href="#cb17-578" aria-hidden="true" tabindex="-1"></a><span class="ss">    {</span></span>
<span id="cb17-579"><a href="#cb17-579" aria-hidden="true" tabindex="-1"></a><span class="ss">        rank=same;</span></span>
<span id="cb17-580"><a href="#cb17-580" aria-hidden="true" tabindex="-1"></a><span class="ss">        x0-&gt;x1-&gt;x2-&gt;x3;</span></span>
<span id="cb17-581"><a href="#cb17-581" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-582"><a href="#cb17-582" aria-hidden="true" tabindex="-1"></a><span class="ss">    {</span></span>
<span id="cb17-583"><a href="#cb17-583" aria-hidden="true" tabindex="-1"></a><span class="ss">        rank=same;</span></span>
<span id="cb17-584"><a href="#cb17-584" aria-hidden="true" tabindex="-1"></a><span class="ss">        a02-&gt;a12-&gt;a22-&gt;a32-&gt;a42-&gt;a52;</span></span>
<span id="cb17-585"><a href="#cb17-585" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-586"><a href="#cb17-586" aria-hidden="true" tabindex="-1"></a><span class="ss">    {</span></span>
<span id="cb17-587"><a href="#cb17-587" aria-hidden="true" tabindex="-1"></a><span class="ss">        rank=same;</span></span>
<span id="cb17-588"><a href="#cb17-588" aria-hidden="true" tabindex="-1"></a><span class="ss">        a03-&gt;a13-&gt;a23-&gt;a33-&gt;a43-&gt;a53;</span></span>
<span id="cb17-589"><a href="#cb17-589" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-590"><a href="#cb17-590" aria-hidden="true" tabindex="-1"></a><span class="ss">    {</span></span>
<span id="cb17-591"><a href="#cb17-591" aria-hidden="true" tabindex="-1"></a><span class="ss">        rank=same;</span></span>
<span id="cb17-592"><a href="#cb17-592" aria-hidden="true" tabindex="-1"></a><span class="ss">        O1-&gt;O2-&gt;O3-&gt;O4;</span></span>
<span id="cb17-593"><a href="#cb17-593" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-594"><a href="#cb17-594" aria-hidden="true" tabindex="-1"></a><span class="ss">    a02-&gt;a03;  // prevent tilting</span></span>
<span id="cb17-595"><a href="#cb17-595" aria-hidden="true" tabindex="-1"></a><span class="ss">    l0 [shape=plaintext, label="layer 1 (input layer)"];</span></span>
<span id="cb17-596"><a href="#cb17-596" aria-hidden="true" tabindex="-1"></a><span class="ss">    l0-&gt;x0;</span></span>
<span id="cb17-597"><a href="#cb17-597" aria-hidden="true" tabindex="-1"></a><span class="ss">    {rank=same; l0;x0};</span></span>
<span id="cb17-598"><a href="#cb17-598" aria-hidden="true" tabindex="-1"></a><span class="ss">    l1 [shape=plaintext, label="layer 2 (hidden layer)"];</span></span>
<span id="cb17-599"><a href="#cb17-599" aria-hidden="true" tabindex="-1"></a><span class="ss">    l1-&gt;a02;</span></span>
<span id="cb17-600"><a href="#cb17-600" aria-hidden="true" tabindex="-1"></a><span class="ss">    {rank=same; l1;a02};</span></span>
<span id="cb17-601"><a href="#cb17-601" aria-hidden="true" tabindex="-1"></a><span class="ss">    l2 [shape=plaintext, label="layer 3 (hidden layer)"];</span></span>
<span id="cb17-602"><a href="#cb17-602" aria-hidden="true" tabindex="-1"></a><span class="ss">    l2-&gt;a03;</span></span>
<span id="cb17-603"><a href="#cb17-603" aria-hidden="true" tabindex="-1"></a><span class="ss">    {rank=same; l2;a03};</span></span>
<span id="cb17-604"><a href="#cb17-604" aria-hidden="true" tabindex="-1"></a><span class="ss">    l3 [shape=plaintext, label="layer 4 (output layer)"];</span></span>
<span id="cb17-605"><a href="#cb17-605" aria-hidden="true" tabindex="-1"></a><span class="ss">    l3-&gt;O1;</span></span>
<span id="cb17-606"><a href="#cb17-606" aria-hidden="true" tabindex="-1"></a><span class="ss">    {rank=same; l3;O1};</span></span>
<span id="cb17-607"><a href="#cb17-607" aria-hidden="true" tabindex="-1"></a><span class="ss">    edge[style=solid, tailport=e, headport=w];</span></span>
<span id="cb17-608"><a href="#cb17-608" aria-hidden="true" tabindex="-1"></a><span class="ss">    {x0; x1; x2; x3} -&gt; {a12;a22;a32;a42;a52};</span></span>
<span id="cb17-609"><a href="#cb17-609" aria-hidden="true" tabindex="-1"></a><span class="ss">    {a02;a12;a22;a32;a42;a52} -&gt; {a13;a23;a33;a43;a53};</span></span>
<span id="cb17-610"><a href="#cb17-610" aria-hidden="true" tabindex="-1"></a><span class="ss">    {a03;a13;a23;a33;a43;a53} -&gt; {O1,O2,O3,O4};</span></span>
<span id="cb17-611"><a href="#cb17-611" aria-hidden="true" tabindex="-1"></a><span class="ss">}</span></span>
<span id="cb17-612"><a href="#cb17-612" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-613"><a href="#cb17-613" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-614"><a href="#cb17-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-615"><a href="#cb17-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-618"><a href="#cb17-618" aria-hidden="true" tabindex="-1"></a><span class="in">```{dot}</span></span>
<span id="cb17-619"><a href="#cb17-619" aria-hidden="true" tabindex="-1"></a><span class="ss"> digraph threevar {</span></span>
<span id="cb17-620"><a href="#cb17-620" aria-hidden="true" tabindex="-1"></a><span class="ss">      rankdir=LR;</span></span>
<span id="cb17-621"><a href="#cb17-621" aria-hidden="true" tabindex="-1"></a><span class="ss">      size="8,4";</span></span>
<span id="cb17-622"><a href="#cb17-622" aria-hidden="true" tabindex="-1"></a><span class="ss">      node [fontsize=14 shape=box];</span></span>
<span id="cb17-623"><a href="#cb17-623" aria-hidden="true" tabindex="-1"></a><span class="ss">      edge [fontsize=10];</span></span>
<span id="cb17-624"><a href="#cb17-624" aria-hidden="true" tabindex="-1"></a><span class="ss">      center=1;</span></span>
<span id="cb17-625"><a href="#cb17-625" aria-hidden="true" tabindex="-1"></a><span class="ss">      {rank=min k }</span></span>
<span id="cb17-626"><a href="#cb17-626" aria-hidden="true" tabindex="-1"></a><span class="ss">      {rank=same X1 X2 X3 }</span></span>
<span id="cb17-627"><a href="#cb17-627" aria-hidden="true" tabindex="-1"></a><span class="ss">      {rank=max z1 z2 z3 }</span></span>
<span id="cb17-628"><a href="#cb17-628" aria-hidden="true" tabindex="-1"></a><span class="ss">      z1 [shape=circle label="d1"];</span></span>
<span id="cb17-629"><a href="#cb17-629" aria-hidden="true" tabindex="-1"></a><span class="ss">      z2 [shape=circle label="d2"];</span></span>
<span id="cb17-630"><a href="#cb17-630" aria-hidden="true" tabindex="-1"></a><span class="ss">      z3 [shape=circle label="d3"];</span></span>
<span id="cb17-631"><a href="#cb17-631" aria-hidden="true" tabindex="-1"></a><span class="ss">      k [label="?" shape="ellipse"];</span></span>
<span id="cb17-632"><a href="#cb17-632" aria-hidden="true" tabindex="-1"></a><span class="ss">      k -&gt; X1 [label="n@_{S}"];</span></span>
<span id="cb17-633"><a href="#cb17-633" aria-hidden="true" tabindex="-1"></a><span class="ss">      k -&gt; X2 [label="&amp;theta;@^{(h)}"];</span></span>
<span id="cb17-634"><a href="#cb17-634" aria-hidden="true" tabindex="-1"></a><span class="ss">      k -&gt; X3 [label="?3"];</span></span>
<span id="cb17-635"><a href="#cb17-635" aria-hidden="true" tabindex="-1"></a><span class="ss">      z1 -&gt; X1;</span></span>
<span id="cb17-636"><a href="#cb17-636" aria-hidden="true" tabindex="-1"></a><span class="ss">      z2 -&gt; X2;</span></span>
<span id="cb17-637"><a href="#cb17-637" aria-hidden="true" tabindex="-1"></a><span class="ss">      z3 -&gt; X3;</span></span>
<span id="cb17-638"><a href="#cb17-638" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-639"><a href="#cb17-639" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-640"><a href="#cb17-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-641"><a href="#cb17-641" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-642"><a href="#cb17-642" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-643"><a href="#cb17-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-644"><a href="#cb17-644" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-645"><a href="#cb17-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-646"><a href="#cb17-646" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-647"><a href="#cb17-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-650"><a href="#cb17-650" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-651"><a href="#cb17-651" aria-hidden="true" tabindex="-1"></a><span class="ss">grViz(</span><span class="ot">'</span>digraph threevar {</span>
<span id="cb17-652"><a href="#cb17-652" aria-hidden="true" tabindex="-1"></a>      rankdir=LR;</span>
<span id="cb17-653"><a href="#cb17-653" aria-hidden="true" tabindex="-1"></a>      size=<span class="ot">"</span><span class="st">8,4</span><span class="ot">"</span>;</span>
<span id="cb17-654"><a href="#cb17-654" aria-hidden="true" tabindex="-1"></a>      node [fontsize=<span class="dv">14</span> shape=box];</span>
<span id="cb17-655"><a href="#cb17-655" aria-hidden="true" tabindex="-1"></a>      edge [fontsize=<span class="dv">10</span>];</span>
<span id="cb17-656"><a href="#cb17-656" aria-hidden="true" tabindex="-1"></a>      center=<span class="dv">1</span>;</span>
<span id="cb17-657"><a href="#cb17-657" aria-hidden="true" tabindex="-1"></a>      {rank=min k }</span>
<span id="cb17-658"><a href="#cb17-658" aria-hidden="true" tabindex="-1"></a>      {rank=same X1 X2 X3 }</span>
<span id="cb17-659"><a href="#cb17-659" aria-hidden="true" tabindex="-1"></a>      {rank=max z1 z2 z3 }</span>
<span id="cb17-660"><a href="#cb17-660" aria-hidden="true" tabindex="-1"></a>      z1 [shape=circle label=<span class="ot">"</span><span class="st">d1</span><span class="ot">"</span>];</span>
<span id="cb17-661"><a href="#cb17-661" aria-hidden="true" tabindex="-1"></a>      z2 [shape=circle label=<span class="ot">"</span><span class="st">d2</span><span class="ot">"</span>];</span>
<span id="cb17-662"><a href="#cb17-662" aria-hidden="true" tabindex="-1"></a>      z3 [shape=circle label=<span class="ot">"</span><span class="st">d3</span><span class="ot">"</span>];</span>
<span id="cb17-663"><a href="#cb17-663" aria-hidden="true" tabindex="-1"></a>      k [label=<span class="ot">"</span><span class="st">?</span><span class="ot">"</span> shape=<span class="ot">"</span><span class="st">ellipse</span><span class="ot">"</span>];</span>
<span id="cb17-664"><a href="#cb17-664" aria-hidden="true" tabindex="-1"></a>      k -&gt; X1 [label=<span class="ot">"</span><span class="st">n</span><span class="dt">@_</span><span class="st">{S}</span><span class="ot">"</span>];</span>
<span id="cb17-665"><a href="#cb17-665" aria-hidden="true" tabindex="-1"></a>      k -&gt; X2 [label=<span class="ot">"</span><span class="st">&amp;theta;</span><span class="dt">@</span><span class="st">^{(h)}</span><span class="ot">"</span>];</span>
<span id="cb17-666"><a href="#cb17-666" aria-hidden="true" tabindex="-1"></a>      k -&gt; X3 [label=<span class="ot">"</span><span class="st">?3</span><span class="ot">"</span>];</span>
<span id="cb17-667"><a href="#cb17-667" aria-hidden="true" tabindex="-1"></a>      z1 -&gt; X1;</span>
<span id="cb17-668"><a href="#cb17-668" aria-hidden="true" tabindex="-1"></a>      z2 -&gt; X2;</span>
<span id="cb17-669"><a href="#cb17-669" aria-hidden="true" tabindex="-1"></a>      z3 -&gt; X3;</span>
<span id="cb17-670"><a href="#cb17-670" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-671"><a href="#cb17-671" aria-hidden="true" tabindex="-1"></a>      <span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-672"><a href="#cb17-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-673"><a href="#cb17-673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-674"><a href="#cb17-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-675"><a href="#cb17-675" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-676"><a href="#cb17-676" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-677"><a href="#cb17-677" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-680"><a href="#cb17-680" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-681"><a href="#cb17-681" aria-hidden="true" tabindex="-1"></a><span class="ss">grViz("digraph dot {</span></span>
<span id="cb17-682"><a href="#cb17-682" aria-hidden="true" tabindex="-1"></a><span class="ss">      graph [style = filled, fillcolor = white]</span></span>
<span id="cb17-683"><a href="#cb17-683" aria-hidden="true" tabindex="-1"></a><span class="ss">      </span></span>
<span id="cb17-684"><a href="#cb17-684" aria-hidden="true" tabindex="-1"></a><span class="ss">      node [shape = circle,</span></span>
<span id="cb17-685"><a href="#cb17-685" aria-hidden="true" tabindex="-1"></a><span class="ss">            style = filled, fillcolor = white,</span></span>
<span id="cb17-686"><a href="#cb17-686" aria-hidden="true" tabindex="-1"></a><span class="ss">            fixedsize = true, width = 0.5, height = 0.5,</span></span>
<span id="cb17-687"><a href="#cb17-687" aria-hidden="true" tabindex="-1"></a><span class="ss">            fontname = </span><span class="ot">'</span>Times-italic<span class="ot">'</span><span class="ss">]</span></span>
<span id="cb17-688"><a href="#cb17-688" aria-hidden="true" tabindex="-1"></a><span class="ss">        c</span></span>
<span id="cb17-689"><a href="#cb17-689" aria-hidden="true" tabindex="-1"></a><span class="ss">        d</span></span>
<span id="cb17-690"><a href="#cb17-690" aria-hidden="true" tabindex="-1"></a><span class="ss">      node [shape = doublecircle,</span></span>
<span id="cb17-691"><a href="#cb17-691" aria-hidden="true" tabindex="-1"></a><span class="ss">            style = filled, fillcolor = white,</span></span>
<span id="cb17-692"><a href="#cb17-692" aria-hidden="true" tabindex="-1"></a><span class="ss">            fixedsize = true, width = 0.5, height = 0.5,</span></span>
<span id="cb17-693"><a href="#cb17-693" aria-hidden="true" tabindex="-1"></a><span class="ss">            fontname = </span><span class="ot">'</span>Times-italic<span class="ot">'</span><span class="ss">]</span></span>
<span id="cb17-694"><a href="#cb17-694" aria-hidden="true" tabindex="-1"></a><span class="ss">        thetah [label = </span><span class="ot">'</span>&amp;theta;<span class="dt">@</span>^{(h)}<span class="ot">'</span><span class="ss">]</span></span>
<span id="cb17-695"><a href="#cb17-695" aria-hidden="true" tabindex="-1"></a><span class="ss">        thetaf [label = </span><span class="ot">'</span>&amp;theta;<span class="dt">@</span>^{(f)}<span class="ot">'</span><span class="ss">]</span></span>
<span id="cb17-696"><a href="#cb17-696" aria-hidden="true" tabindex="-1"></a><span class="ss">      node [shape = square,</span></span>
<span id="cb17-697"><a href="#cb17-697" aria-hidden="true" tabindex="-1"></a><span class="ss">            style = filled, fillcolor = grey,</span></span>
<span id="cb17-698"><a href="#cb17-698" aria-hidden="true" tabindex="-1"></a><span class="ss">            fixedsize = true, width=0.5, height=0.5,</span></span>
<span id="cb17-699"><a href="#cb17-699" aria-hidden="true" tabindex="-1"></a><span class="ss">            fontname = </span><span class="ot">'</span>Times-italic<span class="ot">'</span><span class="ss">]</span></span>
<span id="cb17-700"><a href="#cb17-700" aria-hidden="true" tabindex="-1"></a><span class="ss">        h</span></span>
<span id="cb17-701"><a href="#cb17-701" aria-hidden="true" tabindex="-1"></a><span class="ss">        f</span></span>
<span id="cb17-702"><a href="#cb17-702" aria-hidden="true" tabindex="-1"></a><span class="ss">        ns [label = </span><span class="ot">'</span>n<span class="dt">@_</span>{S}<span class="ot">'</span><span class="ss">]</span></span>
<span id="cb17-703"><a href="#cb17-703" aria-hidden="true" tabindex="-1"></a><span class="ss">        nn [label = </span><span class="ot">'</span>n<span class="dt">@_</span>{N}<span class="ot">'</span><span class="ss">]</span></span>
<span id="cb17-704"><a href="#cb17-704" aria-hidden="true" tabindex="-1"></a><span class="ss">      </span></span>
<span id="cb17-705"><a href="#cb17-705" aria-hidden="true" tabindex="-1"></a><span class="ss">      edge [color = black]</span></span>
<span id="cb17-706"><a href="#cb17-706" aria-hidden="true" tabindex="-1"></a><span class="ss">        c -&gt; thetah -&gt; h</span></span>
<span id="cb17-707"><a href="#cb17-707" aria-hidden="true" tabindex="-1"></a><span class="ss">        d -&gt; thetaf -&gt; f</span></span>
<span id="cb17-708"><a href="#cb17-708" aria-hidden="true" tabindex="-1"></a><span class="ss">        c -&gt; thetaf</span></span>
<span id="cb17-709"><a href="#cb17-709" aria-hidden="true" tabindex="-1"></a><span class="ss">        d -&gt; thetah</span></span>
<span id="cb17-710"><a href="#cb17-710" aria-hidden="true" tabindex="-1"></a><span class="ss">        ns -&gt; h</span></span>
<span id="cb17-711"><a href="#cb17-711" aria-hidden="true" tabindex="-1"></a><span class="ss">        nn -&gt; f</span></span>
<span id="cb17-712"><a href="#cb17-712" aria-hidden="true" tabindex="-1"></a><span class="ss">      {rank = max; ns; nn}</span></span>
<span id="cb17-713"><a href="#cb17-713" aria-hidden="true" tabindex="-1"></a><span class="ss">      }")</span></span>
<span id="cb17-714"><a href="#cb17-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-715"><a href="#cb17-715" aria-hidden="true" tabindex="-1"></a><span class="ss">grViz("digraph dot {</span></span>
<span id="cb17-716"><a href="#cb17-716" aria-hidden="true" tabindex="-1"></a><span class="ss">      graph [style = filled, fillcolor = white,</span></span>
<span id="cb17-717"><a href="#cb17-717" aria-hidden="true" tabindex="-1"></a><span class="ss">             rankdir = LR,</span></span>
<span id="cb17-718"><a href="#cb17-718" aria-hidden="true" tabindex="-1"></a><span class="ss">             newrank = true]</span></span>
<span id="cb17-719"><a href="#cb17-719" aria-hidden="true" tabindex="-1"></a><span class="ss">      </span></span>
<span id="cb17-720"><a href="#cb17-720" aria-hidden="true" tabindex="-1"></a><span class="ss">      node [shape = circle,</span></span>
<span id="cb17-721"><a href="#cb17-721" aria-hidden="true" tabindex="-1"></a><span class="ss">            style = filled, fillcolor = white,</span></span>
<span id="cb17-722"><a href="#cb17-722" aria-hidden="true" tabindex="-1"></a><span class="ss">            fixedsize = true, width = 0.5, height = 0.5,</span></span>
<span id="cb17-723"><a href="#cb17-723" aria-hidden="true" tabindex="-1"></a><span class="ss">            fontname = </span><span class="ot">'</span>Times-italic<span class="ot">'</span><span class="ss">]</span></span>
<span id="cb17-724"><a href="#cb17-724" aria-hidden="true" tabindex="-1"></a><span class="ss">        p [fillcolor = gray]</span></span>
<span id="cb17-725"><a href="#cb17-725" aria-hidden="true" tabindex="-1"></a><span class="ss">        gamma [label = </span><span class="ot">'</span>&amp;gamma;<span class="ot">'</span><span class="ss">]</span></span>
<span id="cb17-726"><a href="#cb17-726" aria-hidden="true" tabindex="-1"></a><span class="ss">        omega [label = </span><span class="ot">'</span>&amp;omega;<span class="ot">'</span><span class="ss">, shape = doublecircle]</span></span>
<span id="cb17-727"><a href="#cb17-727" aria-hidden="true" tabindex="-1"></a><span class="ss">        beta [label = </span><span class="ot">'</span>&amp;beta;<span class="ot">'</span><span class="ss">]</span></span>
<span id="cb17-728"><a href="#cb17-728" aria-hidden="true" tabindex="-1"></a><span class="ss">      subgraph cluster_out{</span></span>
<span id="cb17-729"><a href="#cb17-729" aria-hidden="true" tabindex="-1"></a><span class="ss">        fontsize = 8</span></span>
<span id="cb17-730"><a href="#cb17-730" aria-hidden="true" tabindex="-1"></a><span class="ss">        label = &lt;&lt;I&gt;j&lt;/I&gt;:試行&gt;</span></span>
<span id="cb17-731"><a href="#cb17-731" aria-hidden="true" tabindex="-1"></a><span class="ss">        labelloc = b</span></span>
<span id="cb17-732"><a href="#cb17-732" aria-hidden="true" tabindex="-1"></a><span class="ss">        labeljust = r</span></span>
<span id="cb17-733"><a href="#cb17-733" aria-hidden="true" tabindex="-1"></a><span class="ss">        subgraph cluster_in{</span></span>
<span id="cb17-734"><a href="#cb17-734" aria-hidden="true" tabindex="-1"></a><span class="ss">          fontsize = 8</span></span>
<span id="cb17-735"><a href="#cb17-735" aria-hidden="true" tabindex="-1"></a><span class="ss">          label = &lt;&lt;I&gt;k&lt;/I&gt;:回数&gt;</span></span>
<span id="cb17-736"><a href="#cb17-736" aria-hidden="true" tabindex="-1"></a><span class="ss">          labelloc = b</span></span>
<span id="cb17-737"><a href="#cb17-737" aria-hidden="true" tabindex="-1"></a><span class="ss">          labeljust = r</span></span>
<span id="cb17-738"><a href="#cb17-738" aria-hidden="true" tabindex="-1"></a><span class="ss">          thetajk [label = </span><span class="ot">'</span>&amp;theta;<span class="dt">@_</span>{jk}<span class="ot">'</span><span class="ss">, shape = doublecircle]</span></span>
<span id="cb17-739"><a href="#cb17-739" aria-hidden="true" tabindex="-1"></a><span class="ss">          djk [label = </span><span class="ot">'</span>d<span class="dt">@_</span>{jk}<span class="ot">'</span><span class="ss">, shape = square, fillcolor = gray]</span></span>
<span id="cb17-740"><a href="#cb17-740" aria-hidden="true" tabindex="-1"></a><span class="ss">        }}</span></span>
<span id="cb17-741"><a href="#cb17-741" aria-hidden="true" tabindex="-1"></a><span class="ss">      edge [color=black]</span></span>
<span id="cb17-742"><a href="#cb17-742" aria-hidden="true" tabindex="-1"></a><span class="ss">        p -&gt; omega -&gt; thetajk -&gt; djk</span></span>
<span id="cb17-743"><a href="#cb17-743" aria-hidden="true" tabindex="-1"></a><span class="ss">        gamma -&gt; omega</span></span>
<span id="cb17-744"><a href="#cb17-744" aria-hidden="true" tabindex="-1"></a><span class="ss">        beta -&gt; thetajk </span></span>
<span id="cb17-745"><a href="#cb17-745" aria-hidden="true" tabindex="-1"></a><span class="ss">      {rank = same; gamma; omega}</span></span>
<span id="cb17-746"><a href="#cb17-746" aria-hidden="true" tabindex="-1"></a><span class="ss">      {rank = same; beta; thetajk}</span></span>
<span id="cb17-747"><a href="#cb17-747" aria-hidden="true" tabindex="-1"></a><span class="ss">      }")</span></span>
<span id="cb17-748"><a href="#cb17-748" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-749"><a href="#cb17-749" aria-hidden="true" tabindex="-1"></a><span class="ss">grViz(</span><span class="ot">'</span></span>
<span id="cb17-750"><a href="#cb17-750" aria-hidden="true" tabindex="-1"></a>digraph G {</span>
<span id="cb17-751"><a href="#cb17-751" aria-hidden="true" tabindex="-1"></a>    fontname=<span class="ot">"</span><span class="st">Helvetica,Arial,sans-serif</span><span class="ot">"</span></span>
<span id="cb17-752"><a href="#cb17-752" aria-hidden="true" tabindex="-1"></a>    node [fontname=<span class="ot">"</span><span class="st">Helvetica,Arial,sans-serif</span><span class="ot">"</span>]</span>
<span id="cb17-753"><a href="#cb17-753" aria-hidden="true" tabindex="-1"></a>    edge [fontname=<span class="ot">"</span><span class="st">Helvetica,Arial,sans-serif</span><span class="ot">"</span>]</span>
<span id="cb17-754"><a href="#cb17-754" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-755"><a href="#cb17-755" aria-hidden="true" tabindex="-1"></a>    subgraph cluster_0 {</span>
<span id="cb17-756"><a href="#cb17-756" aria-hidden="true" tabindex="-1"></a>        style=filled;</span>
<span id="cb17-757"><a href="#cb17-757" aria-hidden="true" tabindex="-1"></a>        color=lightgrey;</span>
<span id="cb17-758"><a href="#cb17-758" aria-hidden="true" tabindex="-1"></a>        node [style=filled,color=white];</span>
<span id="cb17-759"><a href="#cb17-759" aria-hidden="true" tabindex="-1"></a>        a0 -&gt; a1 -&gt; a2 -&gt; a3;</span>
<span id="cb17-760"><a href="#cb17-760" aria-hidden="true" tabindex="-1"></a>        label = <span class="ot">"</span><span class="st">process #1</span><span class="ot">"</span>;</span>
<span id="cb17-761"><a href="#cb17-761" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-762"><a href="#cb17-762" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-763"><a href="#cb17-763" aria-hidden="true" tabindex="-1"></a>    subgraph cluster_1 {</span>
<span id="cb17-764"><a href="#cb17-764" aria-hidden="true" tabindex="-1"></a>        node [style=filled];</span>
<span id="cb17-765"><a href="#cb17-765" aria-hidden="true" tabindex="-1"></a>        b0 -&gt; b1 -&gt; b2 -&gt; b3;</span>
<span id="cb17-766"><a href="#cb17-766" aria-hidden="true" tabindex="-1"></a>        label = <span class="ot">"</span><span class="st">process #2</span><span class="ot">"</span>;</span>
<span id="cb17-767"><a href="#cb17-767" aria-hidden="true" tabindex="-1"></a>        color=blue</span>
<span id="cb17-768"><a href="#cb17-768" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb17-769"><a href="#cb17-769" aria-hidden="true" tabindex="-1"></a>    start -&gt; a0;</span>
<span id="cb17-770"><a href="#cb17-770" aria-hidden="true" tabindex="-1"></a>    start -&gt; b0;</span>
<span id="cb17-771"><a href="#cb17-771" aria-hidden="true" tabindex="-1"></a>    a1 -&gt; b3;</span>
<span id="cb17-772"><a href="#cb17-772" aria-hidden="true" tabindex="-1"></a>    b2 -&gt; a3;</span>
<span id="cb17-773"><a href="#cb17-773" aria-hidden="true" tabindex="-1"></a>    a3 -&gt; a0;</span>
<span id="cb17-774"><a href="#cb17-774" aria-hidden="true" tabindex="-1"></a>    a3 -&gt; end;</span>
<span id="cb17-775"><a href="#cb17-775" aria-hidden="true" tabindex="-1"></a>    b3 -&gt; end;</span>
<span id="cb17-776"><a href="#cb17-776" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-777"><a href="#cb17-777" aria-hidden="true" tabindex="-1"></a>    start [shape=Mdiamond];</span>
<span id="cb17-778"><a href="#cb17-778" aria-hidden="true" tabindex="-1"></a>    end [shape=Msquare];</span>
<span id="cb17-779"><a href="#cb17-779" aria-hidden="true" tabindex="-1"></a>}<span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-780"><a href="#cb17-780" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-781"><a href="#cb17-781" aria-hidden="true" tabindex="-1"></a><span class="ss">#https://graphviz.org/Gallery/directed/neural-network.html</span></span>
<span id="cb17-782"><a href="#cb17-782" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-783"><a href="#cb17-783" aria-hidden="true" tabindex="-1"></a><span class="ss">grViz(</span><span class="ot">'</span>digraph G {</span>
<span id="cb17-784"><a href="#cb17-784" aria-hidden="true" tabindex="-1"></a>  fontname=<span class="ot">"</span><span class="st">Helvetica,Arial,sans-serif</span><span class="ot">"</span></span>
<span id="cb17-785"><a href="#cb17-785" aria-hidden="true" tabindex="-1"></a>  node [fontname=<span class="ot">"</span><span class="st">Helvetica,Arial,sans-serif</span><span class="ot">"</span>]</span>
<span id="cb17-786"><a href="#cb17-786" aria-hidden="true" tabindex="-1"></a>  edge [fontname=<span class="ot">"</span><span class="st">Helvetica,Arial,sans-serif</span><span class="ot">"</span>]</span>
<span id="cb17-787"><a href="#cb17-787" aria-hidden="true" tabindex="-1"></a>  concentrate=True;</span>
<span id="cb17-788"><a href="#cb17-788" aria-hidden="true" tabindex="-1"></a>  rankdir=TB;</span>
<span id="cb17-789"><a href="#cb17-789" aria-hidden="true" tabindex="-1"></a>  node [shape=record];</span>
<span id="cb17-790"><a href="#cb17-790" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087530674552</span> [label=<span class="ot">"</span><span class="st">title: InputLayer</span><span class="ch">\n</span><span class="st">|{input:|output:}|{{[(?, ?)]}|{[(?, ?)]}}</span><span class="ot">"</span>];</span>
<span id="cb17-791"><a href="#cb17-791" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087537895856</span> [label=<span class="ot">"</span><span class="st">body: InputLayer</span><span class="ch">\n</span><span class="st">|{input:|output:}|{{[(?, ?)]}|{[(?, ?)]}}</span><span class="ot">"</span>];</span>
<span id="cb17-792"><a href="#cb17-792" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087531105640</span> [label=<span class="ot">"</span><span class="st">embedding_2: Embedding</span><span class="ch">\n</span><span class="st">|{input:|output:}|{{(?, ?)}|{(?, ?, 64)}}</span><span class="ot">"</span>];</span>
<span id="cb17-793"><a href="#cb17-793" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087530711024</span> [label=<span class="ot">"</span><span class="st">embedding_3: Embedding</span><span class="ch">\n</span><span class="st">|{input:|output:}|{{(?, ?)}|{(?, ?, 64)}}</span><span class="ot">"</span>];</span>
<span id="cb17-794"><a href="#cb17-794" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087537980360</span> [label=<span class="ot">"</span><span class="st">lstm_2: LSTM</span><span class="ch">\n</span><span class="st">|{input:|output:}|{{(?, ?, 64)}|{(?, 128)}}</span><span class="ot">"</span>];</span>
<span id="cb17-795"><a href="#cb17-795" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087531256464</span> [label=<span class="ot">"</span><span class="st">lstm_3: LSTM</span><span class="ch">\n</span><span class="st">|{input:|output:}|{{(?, ?, 64)}|{(?, 32)}}</span><span class="ot">"</span>];</span>
<span id="cb17-796"><a href="#cb17-796" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087531106200</span> [label=<span class="ot">"</span><span class="st">tags: InputLayer</span><span class="ch">\n</span><span class="st">|{input:|output:}|{{[(?, 12)]}|{[(?, 12)]}}</span><span class="ot">"</span>];</span>
<span id="cb17-797"><a href="#cb17-797" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087530348048</span> [label=<span class="ot">"</span><span class="st">concatenate_1: Concatenate</span><span class="ch">\n</span><span class="st">|{input:|output:}|{{[(?, 128), (?, 32), (?, 12)]}|{(?, 172)}}</span><span class="ot">"</span>];</span>
<span id="cb17-798"><a href="#cb17-798" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087530347992</span> [label=<span class="ot">"</span><span class="st">priority: Dense</span><span class="ch">\n</span><span class="st">|{input:|output:}|{{(?, 172)}|{(?, 1)}}</span><span class="ot">"</span>];</span>
<span id="cb17-799"><a href="#cb17-799" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087530711304</span> [label=<span class="ot">"</span><span class="st">department: Dense</span><span class="ch">\n</span><span class="st">|{input:|output:}|{{(?, 172)}|{(?, 4)}}</span><span class="ot">"</span>];</span>
<span id="cb17-800"><a href="#cb17-800" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087530674552</span> -&gt; <span class="dv">140087531105640</span>;</span>
<span id="cb17-801"><a href="#cb17-801" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087537895856</span> -&gt; <span class="dv">140087530711024</span>;</span>
<span id="cb17-802"><a href="#cb17-802" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087531105640</span> -&gt; <span class="dv">140087537980360</span>;</span>
<span id="cb17-803"><a href="#cb17-803" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087530711024</span> -&gt; <span class="dv">140087531256464</span>;</span>
<span id="cb17-804"><a href="#cb17-804" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087537980360</span> -&gt; <span class="dv">140087530348048</span>;</span>
<span id="cb17-805"><a href="#cb17-805" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087531256464</span> -&gt; <span class="dv">140087530348048</span>;</span>
<span id="cb17-806"><a href="#cb17-806" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087531106200</span> -&gt; <span class="dv">140087530348048</span>;</span>
<span id="cb17-807"><a href="#cb17-807" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087530348048</span> -&gt; <span class="dv">140087530347992</span>;</span>
<span id="cb17-808"><a href="#cb17-808" aria-hidden="true" tabindex="-1"></a>  <span class="dv">140087530348048</span> -&gt; <span class="dv">140087530711304</span>;</span>
<span id="cb17-809"><a href="#cb17-809" aria-hidden="true" tabindex="-1"></a>}<span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-810"><a href="#cb17-810" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-811"><a href="#cb17-811" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-812"><a href="#cb17-812" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-813"><a href="#cb17-813" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-814"><a href="#cb17-814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-817"><a href="#cb17-817" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-818"><a href="#cb17-818" aria-hidden="true" tabindex="-1"></a><span class="ss">require(data.table)</span></span>
<span id="cb17-819"><a href="#cb17-819" aria-hidden="true" tabindex="-1"></a><span class="ss">require(qreport)</span></span>
<span id="cb17-820"><a href="#cb17-820" aria-hidden="true" tabindex="-1"></a><span class="ss">require(consort)</span></span>
<span id="cb17-821"><a href="#cb17-821" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-822"><a href="#cb17-822" aria-hidden="true" tabindex="-1"></a><span class="ss"># Load the necessary libraries</span></span>
<span id="cb17-823"><a href="#cb17-823" aria-hidden="true" tabindex="-1"></a><span class="ss">require(data.table)</span></span>
<span id="cb17-824"><a href="#cb17-824" aria-hidden="true" tabindex="-1"></a><span class="ss">require(qreport)</span></span>
<span id="cb17-825"><a href="#cb17-825" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-826"><a href="#cb17-826" aria-hidden="true" tabindex="-1"></a><span class="ss"># Define the mermaid diagram</span></span>
<span id="cb17-827"><a href="#cb17-827" aria-hidden="true" tabindex="-1"></a><span class="ss">x &lt;- </span><span class="ot">'</span></span>
<span id="cb17-828"><a href="#cb17-828" aria-hidden="true" tabindex="-1"></a>graph LR</span>
<span id="cb17-829"><a href="#cb17-829" aria-hidden="true" tabindex="-1"></a>  InputLayer[Input Layer] --&gt; I1[{{I1}}]</span>
<span id="cb17-830"><a href="#cb17-830" aria-hidden="true" tabindex="-1"></a>  InputLayer --&gt; I2[{{I2}}]</span>
<span id="cb17-831"><a href="#cb17-831" aria-hidden="true" tabindex="-1"></a>  InputLayer --&gt; I3[{{I3}}]</span>
<span id="cb17-832"><a href="#cb17-832" aria-hidden="true" tabindex="-1"></a>  I1 --&gt; O1[w1]</span>
<span id="cb17-833"><a href="#cb17-833" aria-hidden="true" tabindex="-1"></a>  I1 --&gt; O2[w2]</span>
<span id="cb17-834"><a href="#cb17-834" aria-hidden="true" tabindex="-1"></a>  I1 --&gt; O3[w3]</span>
<span id="cb17-835"><a href="#cb17-835" aria-hidden="true" tabindex="-1"></a>  I1 --&gt; O4[w4]</span>
<span id="cb17-836"><a href="#cb17-836" aria-hidden="true" tabindex="-1"></a>  I2 --&gt; O1[w5]</span>
<span id="cb17-837"><a href="#cb17-837" aria-hidden="true" tabindex="-1"></a>  I2 --&gt; O2[w6]</span>
<span id="cb17-838"><a href="#cb17-838" aria-hidden="true" tabindex="-1"></a>  I2 --&gt; O3[w7]</span>
<span id="cb17-839"><a href="#cb17-839" aria-hidden="true" tabindex="-1"></a>  I2 --&gt; O4[w8]</span>
<span id="cb17-840"><a href="#cb17-840" aria-hidden="true" tabindex="-1"></a>  I3 --&gt; O1[w9]</span>
<span id="cb17-841"><a href="#cb17-841" aria-hidden="true" tabindex="-1"></a>  I3 --&gt; O2[w10]</span>
<span id="cb17-842"><a href="#cb17-842" aria-hidden="true" tabindex="-1"></a>  I3 --&gt; O3[w11]</span>
<span id="cb17-843"><a href="#cb17-843" aria-hidden="true" tabindex="-1"></a>  I3 --&gt; O4[w12]</span>
<span id="cb17-844"><a href="#cb17-844" aria-hidden="true" tabindex="-1"></a>  OutputLayer[Output Layer] --&gt; O1</span>
<span id="cb17-845"><a href="#cb17-845" aria-hidden="true" tabindex="-1"></a>  OutputLayer --&gt; O2</span>
<span id="cb17-846"><a href="#cb17-846" aria-hidden="true" tabindex="-1"></a>  OutputLayer --&gt; O3</span>
<span id="cb17-847"><a href="#cb17-847" aria-hidden="true" tabindex="-1"></a>  OutputLayer --&gt; O4</span>
<span id="cb17-848"><a href="#cb17-848" aria-hidden="true" tabindex="-1"></a>  OutputLayer --&gt; ALM[ALM Response]</span>
<span id="cb17-849"><a href="#cb17-849" aria-hidden="true" tabindex="-1"></a>  OutputLayer --&gt; EXAM[EXAM Response]</span>
<span id="cb17-850"><a href="#cb17-850" aria-hidden="true" tabindex="-1"></a>  ALM --&gt; EXAM[Pure ALM Model]</span>
<span id="cb17-851"><a href="#cb17-851" aria-hidden="true" tabindex="-1"></a>  EXAM --&gt; ALM[ALM with EXAM Response Component]</span>
<span id="cb17-852"><a href="#cb17-852" aria-hidden="true" tabindex="-1"></a><span class="ot">'</span></span>
<span id="cb17-853"><a href="#cb17-853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-854"><a href="#cb17-854" aria-hidden="true" tabindex="-1"></a><span class="ss"># Generate the mermaid diagram</span></span>
<span id="cb17-855"><a href="#cb17-855" aria-hidden="true" tabindex="-1"></a><span class="ss">makemermaid(x,</span></span>
<span id="cb17-856"><a href="#cb17-856" aria-hidden="true" tabindex="-1"></a><span class="ss">            I1 = </span><span class="ot">'</span>![Gaussian Curve](gaussian_curve_input_node_1.png)<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-857"><a href="#cb17-857" aria-hidden="true" tabindex="-1"></a><span class="ss">            I2 = </span><span class="ot">'</span>![Gaussian Curve](gaussian_curve_input_node_2.png)<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-858"><a href="#cb17-858" aria-hidden="true" tabindex="-1"></a><span class="ss">            I3 = </span><span class="ot">'</span>![Gaussian Curve](gaussian_curve_input_node_3.png)<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-859"><a href="#cb17-859" aria-hidden="true" tabindex="-1"></a><span class="ss">            file = </span><span class="ot">'</span>alm_exam.mer<span class="ot">'</span></span>
<span id="cb17-860"><a href="#cb17-860" aria-hidden="true" tabindex="-1"></a><span class="ss">            )</span></span>
<span id="cb17-861"><a href="#cb17-861" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-862"><a href="#cb17-862" aria-hidden="true" tabindex="-1"></a><span class="ss"># Output the mermaid diagram</span></span>
<span id="cb17-863"><a href="#cb17-863" aria-hidden="true" tabindex="-1"></a><span class="ss"># cat(</span><span class="ot">'```</span><span class="st">{mermaid}</span><span class="ch">\n</span><span class="st">')</span></span>
<span id="cb17-864"><a href="#cb17-864" aria-hidden="true" tabindex="-1"></a><span class="st"># cat(readLines('alm_exam.mer'), sep = '</span><span class="ch">\n</span><span class="st">')</span></span>
<span id="cb17-865"><a href="#cb17-865" aria-hidden="true" tabindex="-1"></a><span class="st"># cat('</span><span class="ot">```</span>\n<span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-866"><a href="#cb17-866" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-867"><a href="#cb17-867" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-868"><a href="#cb17-868" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-869"><a href="#cb17-869" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-872"><a href="#cb17-872" aria-hidden="true" tabindex="-1"></a><span class="in">```{mermaid}</span></span>
<span id="cb17-873"><a href="#cb17-873" aria-hidden="true" tabindex="-1"></a><span class="ss">%%| fig-cap: "ALM diagram produced with `mermaid` with individual exclusions linked to the overall exclusions node, and with a tooltip to show more detail"</span></span>
<span id="cb17-874"><a href="#cb17-874" aria-hidden="true" tabindex="-1"></a><span class="ss">%%| label: fig-doverview-mermaid2</span></span>
<span id="cb17-875"><a href="#cb17-875" aria-hidden="true" tabindex="-1"></a><span class="ss">%%| file: alm_exam.mer</span></span>
<span id="cb17-876"><a href="#cb17-876" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-877"><a href="#cb17-877" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-878"><a href="#cb17-878" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-879"><a href="#cb17-879" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-880"><a href="#cb17-880" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-881"><a href="#cb17-881" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-884"><a href="#cb17-884" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-885"><a href="#cb17-885" aria-hidden="true" tabindex="-1"></a><span class="ss">library(consort)</span></span>
<span id="cb17-886"><a href="#cb17-886" aria-hidden="true" tabindex="-1"></a><span class="ss">set.seed(1001)</span></span>
<span id="cb17-887"><a href="#cb17-887" aria-hidden="true" tabindex="-1"></a><span class="ss">N &lt;- 300</span></span>
<span id="cb17-888"><a href="#cb17-888" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-889"><a href="#cb17-889" aria-hidden="true" tabindex="-1"></a><span class="ss">trialno &lt;- sample(c(1000:2000), N)</span></span>
<span id="cb17-890"><a href="#cb17-890" aria-hidden="true" tabindex="-1"></a><span class="ss">exc &lt;- rep(NA, N)</span></span>
<span id="cb17-891"><a href="#cb17-891" aria-hidden="true" tabindex="-1"></a><span class="ss">exc[sample(1:N, 15)] &lt;- sample(c("Sample not collected", "MRI not collected", "Other"),</span></span>
<span id="cb17-892"><a href="#cb17-892" aria-hidden="true" tabindex="-1"></a><span class="ss">                                15, replace = T, prob = c(0.4, 0.4, 0.2))</span></span>
<span id="cb17-893"><a href="#cb17-893" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-894"><a href="#cb17-894" aria-hidden="true" tabindex="-1"></a><span class="ss">arm &lt;- rep(NA, N)</span></span>
<span id="cb17-895"><a href="#cb17-895" aria-hidden="true" tabindex="-1"></a><span class="ss">arm[is.na(exc)] &lt;- sample(c("Conc", "Seq"), sum(is.na(exc)), replace = T)</span></span>
<span id="cb17-896"><a href="#cb17-896" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-897"><a href="#cb17-897" aria-hidden="true" tabindex="-1"></a><span class="ss">fow1 &lt;- rep(NA, N)</span></span>
<span id="cb17-898"><a href="#cb17-898" aria-hidden="true" tabindex="-1"></a><span class="ss">fow1[!is.na(arm)] &lt;- sample(c("Withdraw", "Discontinued", "Death", "Other", NA),</span></span>
<span id="cb17-899"><a href="#cb17-899" aria-hidden="true" tabindex="-1"></a><span class="ss">                            sum(!is.na(arm)), replace = T, </span></span>
<span id="cb17-900"><a href="#cb17-900" aria-hidden="true" tabindex="-1"></a><span class="ss">                            prob = c(0.05, 0.05, 0.05, 0.05, 0.8))</span></span>
<span id="cb17-901"><a href="#cb17-901" aria-hidden="true" tabindex="-1"></a><span class="ss">fow2 &lt;- rep(NA, N)</span></span>
<span id="cb17-902"><a href="#cb17-902" aria-hidden="true" tabindex="-1"></a><span class="ss">fow2[!is.na(arm) &amp; is.na(fow1)] &lt;- sample(c("Protocol deviation", "Outcome missing", NA),</span></span>
<span id="cb17-903"><a href="#cb17-903" aria-hidden="true" tabindex="-1"></a><span class="ss">                                          sum(!is.na(arm) &amp; is.na(fow1)), replace = T, </span></span>
<span id="cb17-904"><a href="#cb17-904" aria-hidden="true" tabindex="-1"></a><span class="ss">                                          prob = c(0.05, 0.05, 0.9))</span></span>
<span id="cb17-905"><a href="#cb17-905" aria-hidden="true" tabindex="-1"></a><span class="ss">df &lt;- data.frame(trialno, exc, arm, fow1, fow2)</span></span>
<span id="cb17-906"><a href="#cb17-906" aria-hidden="true" tabindex="-1"></a><span class="ss">out &lt;- consort_plot(data = df,</span></span>
<span id="cb17-907"><a href="#cb17-907" aria-hidden="true" tabindex="-1"></a><span class="ss">             order = c(trialno = "Population",</span></span>
<span id="cb17-908"><a href="#cb17-908" aria-hidden="true" tabindex="-1"></a><span class="ss">                          exc    = "Excluded",</span></span>
<span id="cb17-909"><a href="#cb17-909" aria-hidden="true" tabindex="-1"></a><span class="ss">                          arm     = "Randomized patient",</span></span>
<span id="cb17-910"><a href="#cb17-910" aria-hidden="true" tabindex="-1"></a><span class="ss">                          fow1    = "Lost of Follow-up",</span></span>
<span id="cb17-911"><a href="#cb17-911" aria-hidden="true" tabindex="-1"></a><span class="ss">                          trialno = "Finished Followup",</span></span>
<span id="cb17-912"><a href="#cb17-912" aria-hidden="true" tabindex="-1"></a><span class="ss">                          fow2    = "Not evaluable",</span></span>
<span id="cb17-913"><a href="#cb17-913" aria-hidden="true" tabindex="-1"></a><span class="ss">                          trialno = "Final Analysis"),</span></span>
<span id="cb17-914"><a href="#cb17-914" aria-hidden="true" tabindex="-1"></a><span class="ss">             side_box = c("exc", "fow1", "fow2"),</span></span>
<span id="cb17-915"><a href="#cb17-915" aria-hidden="true" tabindex="-1"></a><span class="ss">             allocation = "arm",</span></span>
<span id="cb17-916"><a href="#cb17-916" aria-hidden="true" tabindex="-1"></a><span class="ss">             labels = c("1" = "Screening", "2" = "Randomization",</span></span>
<span id="cb17-917"><a href="#cb17-917" aria-hidden="true" tabindex="-1"></a><span class="ss">                        "5" = "Final"),</span></span>
<span id="cb17-918"><a href="#cb17-918" aria-hidden="true" tabindex="-1"></a><span class="ss">             cex = 0.6)</span></span>
<span id="cb17-919"><a href="#cb17-919" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-920"><a href="#cb17-920" aria-hidden="true" tabindex="-1"></a><span class="ss">plot(out)</span></span>
<span id="cb17-921"><a href="#cb17-921" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-922"><a href="#cb17-922" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-923"><a href="#cb17-923" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-926"><a href="#cb17-926" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-927"><a href="#cb17-927" aria-hidden="true" tabindex="-1"></a><span class="ss">plot(out, grViz = TRUE)</span></span>
<span id="cb17-928"><a href="#cb17-928" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-929"><a href="#cb17-929" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-930"><a href="#cb17-930" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-931"><a href="#cb17-931" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-934"><a href="#cb17-934" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-935"><a href="#cb17-935" aria-hidden="true" tabindex="-1"></a><span class="ss">require(Hmisc)</span></span>
<span id="cb17-936"><a href="#cb17-936" aria-hidden="true" tabindex="-1"></a><span class="ss">require(data.table)</span></span>
<span id="cb17-937"><a href="#cb17-937" aria-hidden="true" tabindex="-1"></a><span class="ss">require(qreport)</span></span>
<span id="cb17-938"><a href="#cb17-938" aria-hidden="true" tabindex="-1"></a><span class="ss">hookaddcap()</span></span>
<span id="cb17-939"><a href="#cb17-939" aria-hidden="true" tabindex="-1"></a><span class="ss">N &lt;- 1000</span></span>
<span id="cb17-940"><a href="#cb17-940" aria-hidden="true" tabindex="-1"></a><span class="ss">set.seed(1)</span></span>
<span id="cb17-941"><a href="#cb17-941" aria-hidden="true" tabindex="-1"></a><span class="ss">r &lt;- data.table(</span></span>
<span id="cb17-942"><a href="#cb17-942" aria-hidden="true" tabindex="-1"></a><span class="ss">  id    = 1 : N,</span></span>
<span id="cb17-943"><a href="#cb17-943" aria-hidden="true" tabindex="-1"></a><span class="ss">  age   = round(rnorm(N, 60, 15)),</span></span>
<span id="cb17-944"><a href="#cb17-944" aria-hidden="true" tabindex="-1"></a><span class="ss">  pain  = sample(0 : 5, N, replace=TRUE),</span></span>
<span id="cb17-945"><a href="#cb17-945" aria-hidden="true" tabindex="-1"></a><span class="ss">  hxmed = sample(0 : 1, N, replace=TRUE, prob=c(0.95, 0.05))   )</span></span>
<span id="cb17-946"><a href="#cb17-946" aria-hidden="true" tabindex="-1"></a><span class="ss"># Set consent status to those not excluded at screening</span></span>
<span id="cb17-947"><a href="#cb17-947" aria-hidden="true" tabindex="-1"></a><span class="ss">r[age &gt;= 40 &amp; pain &gt; 0 &amp; hxmed == 0,</span></span>
<span id="cb17-948"><a href="#cb17-948" aria-hidden="true" tabindex="-1"></a><span class="ss">  consent := sample(0 : 1, .N, replace=TRUE, prob=c(0.1, 0.9))]</span></span>
<span id="cb17-949"><a href="#cb17-949" aria-hidden="true" tabindex="-1"></a><span class="ss"># Set randomization status for those consenting</span></span>
<span id="cb17-950"><a href="#cb17-950" aria-hidden="true" tabindex="-1"></a><span class="ss">r[consent == 1,</span></span>
<span id="cb17-951"><a href="#cb17-951" aria-hidden="true" tabindex="-1"></a><span class="ss">  randomized := sample(0 : 1, .N, replace=TRUE, prob=c(0.15, 0.85))]</span></span>
<span id="cb17-952"><a href="#cb17-952" aria-hidden="true" tabindex="-1"></a><span class="ss"># Add treatment and follow-up time to randomized subjects</span></span>
<span id="cb17-953"><a href="#cb17-953" aria-hidden="true" tabindex="-1"></a><span class="ss">r[randomized == 1, tx     := sample(c(</span><span class="ot">'</span>A<span class="ot">'</span><span class="ss">, </span><span class="ot">'</span>B<span class="ot">'</span><span class="ss">), .N, replace=TRUE)]</span></span>
<span id="cb17-954"><a href="#cb17-954" aria-hidden="true" tabindex="-1"></a><span class="ss">r[randomized == 1, futime := pmin(runif(.N, 0, 10), 3)]</span></span>
<span id="cb17-955"><a href="#cb17-955" aria-hidden="true" tabindex="-1"></a><span class="ss"># Add outcome status for those followed 3 years</span></span>
<span id="cb17-956"><a href="#cb17-956" aria-hidden="true" tabindex="-1"></a><span class="ss"># Make a few of those followed 3 years missing</span></span>
<span id="cb17-957"><a href="#cb17-957" aria-hidden="true" tabindex="-1"></a><span class="ss">r[futime == 3,</span></span>
<span id="cb17-958"><a href="#cb17-958" aria-hidden="true" tabindex="-1"></a><span class="ss">  y := sample(c(0, 1, NA), .N, replace=TRUE, prob=c(0.75, 0.2, 0.05))]</span></span>
<span id="cb17-959"><a href="#cb17-959" aria-hidden="true" tabindex="-1"></a><span class="ss"># Print first 15 subjects</span></span>
<span id="cb17-960"><a href="#cb17-960" aria-hidden="true" tabindex="-1"></a><span class="ss">kabl(r[1 : 15, ])</span></span>
<span id="cb17-961"><a href="#cb17-961" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-962"><a href="#cb17-962" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-963"><a href="#cb17-963" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-964"><a href="#cb17-964" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-965"><a href="#cb17-965" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-966"><a href="#cb17-966" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-969"><a href="#cb17-969" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-970"><a href="#cb17-970" aria-hidden="true" tabindex="-1"></a><span class="ss">r[, exc := seqFreq(</span><span class="ot">'</span>pain<span class="ot">-f</span>ree<span class="ot">'</span><span class="ss">  = pain  == 0,</span></span>
<span id="cb17-971"><a href="#cb17-971" aria-hidden="true" tabindex="-1"></a><span class="ss">                    </span><span class="ot">'</span>Hx med<span class="ot">'</span><span class="ss">    = hxmed == 1,</span></span>
<span id="cb17-972"><a href="#cb17-972" aria-hidden="true" tabindex="-1"></a><span class="ss">                                  age &lt; 40,</span></span>
<span id="cb17-973"><a href="#cb17-973" aria-hidden="true" tabindex="-1"></a><span class="ss">                    noneNA=TRUE)]</span></span>
<span id="cb17-974"><a href="#cb17-974" aria-hidden="true" tabindex="-1"></a><span class="ss">eo  &lt;- attr(r[, exc], </span><span class="ot">'</span>obs.per.numcond<span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-975"><a href="#cb17-975" aria-hidden="true" tabindex="-1"></a><span class="ss">mult &lt;- paste0(</span><span class="ot">'</span><span class="dv">1</span>, <span class="dv">2</span>, ≥<span class="dv">3</span> exclusions: n=<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-976"><a href="#cb17-976" aria-hidden="true" tabindex="-1"></a><span class="ss">                eo[2], </span><span class="ot">'</span>, <span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-977"><a href="#cb17-977" aria-hidden="true" tabindex="-1"></a><span class="ss">                eo[3], </span><span class="ot">'</span>, <span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-978"><a href="#cb17-978" aria-hidden="true" tabindex="-1"></a><span class="ss">                eo[-(1:3)]  )</span></span>
<span id="cb17-979"><a href="#cb17-979" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-980"><a href="#cb17-980" aria-hidden="true" tabindex="-1"></a><span class="ss">r[, .q(qual, consent, fin) :=</span></span>
<span id="cb17-981"><a href="#cb17-981" aria-hidden="true" tabindex="-1"></a><span class="ss">    .(is.na(exc),</span></span>
<span id="cb17-982"><a href="#cb17-982" aria-hidden="true" tabindex="-1"></a><span class="ss">      ifelse(consent == 1, 1, NA),</span></span>
<span id="cb17-983"><a href="#cb17-983" aria-hidden="true" tabindex="-1"></a><span class="ss">      ifelse(futime  &gt;= 3, 1, NA))]</span></span>
<span id="cb17-984"><a href="#cb17-984" aria-hidden="true" tabindex="-1"></a><span class="ss">            </span></span>
<span id="cb17-985"><a href="#cb17-985" aria-hidden="true" tabindex="-1"></a><span class="ss">require(consort)</span></span>
<span id="cb17-986"><a href="#cb17-986" aria-hidden="true" tabindex="-1"></a><span class="ss"># consort_plot used to take a coords=c(0.4, 0.6) argument that prevented</span></span>
<span id="cb17-987"><a href="#cb17-987" aria-hidden="true" tabindex="-1"></a><span class="ss"># the collision you see here</span></span>
<span id="cb17-988"><a href="#cb17-988" aria-hidden="true" tabindex="-1"></a><span class="ss">consort_plot(r,</span></span>
<span id="cb17-989"><a href="#cb17-989" aria-hidden="true" tabindex="-1"></a><span class="ss">             orders = c(id      = </span><span class="ot">'</span>Screened<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-990"><a href="#cb17-990" aria-hidden="true" tabindex="-1"></a><span class="ss">                        exc     = </span><span class="ot">'</span>Excluded<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-991"><a href="#cb17-991" aria-hidden="true" tabindex="-1"></a><span class="ss">                        qual    = </span><span class="ot">'</span>Qualified <span class="kw">for</span> Randomization<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-992"><a href="#cb17-992" aria-hidden="true" tabindex="-1"></a><span class="ss">                        consent = </span><span class="ot">'</span>Consented<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-993"><a href="#cb17-993" aria-hidden="true" tabindex="-1"></a><span class="ss">                        tx      = </span><span class="ot">'</span>Randomized<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-994"><a href="#cb17-994" aria-hidden="true" tabindex="-1"></a><span class="ss">                        fin     = </span><span class="ot">'</span>Finished<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-995"><a href="#cb17-995" aria-hidden="true" tabindex="-1"></a><span class="ss">                        y       = </span><span class="ot">'</span>Outcome\nassessed<span class="ot">'</span><span class="ss">),</span></span>
<span id="cb17-996"><a href="#cb17-996" aria-hidden="true" tabindex="-1"></a><span class="ss">             side_box = </span><span class="ot">'</span>exc<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-997"><a href="#cb17-997" aria-hidden="true" tabindex="-1"></a><span class="ss">             allocation = </span><span class="ot">'</span>tx<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-998"><a href="#cb17-998" aria-hidden="true" tabindex="-1"></a><span class="ss">             labels=c(</span><span class="ot">'</span><span class="dv">1</span><span class="ot">'</span><span class="ss">=</span><span class="ot">'</span>Screening<span class="ot">'</span><span class="ss">, </span><span class="ot">'</span><span class="dv">3</span><span class="ot">'</span><span class="ss">=</span><span class="ot">'</span>Consent<span class="ot">'</span><span class="ss">, </span><span class="ot">'</span><span class="dv">4</span><span class="ot">'</span><span class="ss">=</span><span class="ot">'</span>Randomization<span class="ot">'</span><span class="ss">, </span><span class="ot">'</span><span class="dv">6</span><span class="ot">'</span><span class="ss">=</span><span class="ot">'</span>Follow<span class="ot">-u</span>p<span class="ot">'</span><span class="ss">))</span></span>
<span id="cb17-999"><a href="#cb17-999" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1000"><a href="#cb17-1000" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1001"><a href="#cb17-1001" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-1002"><a href="#cb17-1002" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1003"><a href="#cb17-1003" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1004"><a href="#cb17-1004" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1007"><a href="#cb17-1007" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-1008"><a href="#cb17-1008" aria-hidden="true" tabindex="-1"></a><span class="ss">h &lt;- function(n, label) paste0(label, </span><span class="ot">'</span> (n=<span class="ot">'</span><span class="ss">, n, </span><span class="ot">'</span>)<span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-1009"><a href="#cb17-1009" aria-hidden="true" tabindex="-1"></a><span class="ss">htab &lt;- function(x, label=NULL, split=! length(label), br=</span><span class="ot">'</span>\n<span class="ot">'</span><span class="ss">) {</span></span>
<span id="cb17-1010"><a href="#cb17-1010" aria-hidden="true" tabindex="-1"></a><span class="ss">  tab &lt;- table(x)</span></span>
<span id="cb17-1011"><a href="#cb17-1011" aria-hidden="true" tabindex="-1"></a><span class="ss">  w &lt;- if(length(label)) paste0(h(sum(tab), label), </span><span class="ot">'</span>:<span class="ot">'</span><span class="ss">, br)</span></span>
<span id="cb17-1012"><a href="#cb17-1012" aria-hidden="true" tabindex="-1"></a><span class="ss">  f &lt;- if(split) h(tab, names(tab)) </span></span>
<span id="cb17-1013"><a href="#cb17-1013" aria-hidden="true" tabindex="-1"></a><span class="ss">  else</span></span>
<span id="cb17-1014"><a href="#cb17-1014" aria-hidden="true" tabindex="-1"></a><span class="ss">    paste(paste0(</span><span class="ot">'</span>   <span class="ot">'</span><span class="ss">, h(tab, names(tab))), collapse=br)</span></span>
<span id="cb17-1015"><a href="#cb17-1015" aria-hidden="true" tabindex="-1"></a><span class="ss">  if(split) return(f)</span></span>
<span id="cb17-1016"><a href="#cb17-1016" aria-hidden="true" tabindex="-1"></a><span class="ss">  paste(w, f, sep=if(length(label))</span><span class="ot">''</span><span class="ss"> else br)</span></span>
<span id="cb17-1017"><a href="#cb17-1017" aria-hidden="true" tabindex="-1"></a><span class="ss">}  </span></span>
<span id="cb17-1018"><a href="#cb17-1018" aria-hidden="true" tabindex="-1"></a><span class="ss">count &lt;- function(x, by=rep(1, length(x)))</span></span>
<span id="cb17-1019"><a href="#cb17-1019" aria-hidden="true" tabindex="-1"></a><span class="ss">  tapply(x, by, sum, na.rm=TRUE)</span></span>
<span id="cb17-1020"><a href="#cb17-1020" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1021"><a href="#cb17-1021" aria-hidden="true" tabindex="-1"></a><span class="ss">w &lt;- r[, {</span></span>
<span id="cb17-1022"><a href="#cb17-1022" aria-hidden="true" tabindex="-1"></a><span class="ss"> g &lt;-</span></span>
<span id="cb17-1023"><a href="#cb17-1023" aria-hidden="true" tabindex="-1"></a><span class="ss">   add_box(txt=h(nrow(r),       </span><span class="ot">'</span>Screened<span class="ot">'</span><span class="ss">))                    |&gt;</span></span>
<span id="cb17-1024"><a href="#cb17-1024" aria-hidden="true" tabindex="-1"></a><span class="ss">   add_side_box(htab(exc,       </span><span class="ot">'</span>Excluded<span class="ot">'</span><span class="ss">))                    |&gt;</span></span>
<span id="cb17-1025"><a href="#cb17-1025" aria-hidden="true" tabindex="-1"></a><span class="ss">   add_box(h(count(is.na(exc)), </span><span class="ot">'</span>Qualified <span class="kw">for</span> Randomization<span class="ot">'</span><span class="ss">)) |&gt;</span></span>
<span id="cb17-1026"><a href="#cb17-1026" aria-hidden="true" tabindex="-1"></a><span class="ss">   add_box(h(count(consent),    </span><span class="ot">'</span>Consented<span class="ot">'</span><span class="ss">))                   |&gt;</span></span>
<span id="cb17-1027"><a href="#cb17-1027" aria-hidden="true" tabindex="-1"></a><span class="ss">   add_box(h(count(randomized), </span><span class="ot">'</span>Randomized<span class="ot">'</span><span class="ss">))                  |&gt;</span></span>
<span id="cb17-1028"><a href="#cb17-1028" aria-hidden="true" tabindex="-1"></a><span class="ss">   add_split(htab(tx))                                          |&gt;</span></span>
<span id="cb17-1029"><a href="#cb17-1029" aria-hidden="true" tabindex="-1"></a><span class="ss">   add_box(h(count(fin, tx),    </span><span class="ot">'</span>Finished<span class="ot">'</span><span class="ss">))                    |&gt;</span></span>
<span id="cb17-1030"><a href="#cb17-1030" aria-hidden="true" tabindex="-1"></a><span class="ss">   add_box(h(count(! is.na(y), tx), </span><span class="ot">'</span>Outcome\nassessed<span class="ot">'</span><span class="ss">))       |&gt;</span></span>
<span id="cb17-1031"><a href="#cb17-1031" aria-hidden="true" tabindex="-1"></a><span class="ss">   add_label_box(c(</span><span class="ot">'</span><span class="dv">1</span><span class="ot">'</span><span class="ss">=</span><span class="ot">'</span>Screening<span class="ot">'</span><span class="ss">,     </span><span class="ot">'</span><span class="dv">3</span><span class="ot">'</span><span class="ss">=</span><span class="ot">'</span>Consent<span class="ot">'</span><span class="ss">,</span></span>
<span id="cb17-1032"><a href="#cb17-1032" aria-hidden="true" tabindex="-1"></a><span class="ss">                   </span><span class="ot">'</span><span class="dv">4</span><span class="ot">'</span><span class="ss">=</span><span class="ot">'</span>Randomization<span class="ot">'</span><span class="ss">, </span><span class="ot">'</span><span class="dv">6</span><span class="ot">'</span><span class="ss">=</span><span class="ot">'</span>Follow<span class="ot">-u</span>p<span class="ot">'</span><span class="ss">))</span></span>
<span id="cb17-1033"><a href="#cb17-1033" aria-hidden="true" tabindex="-1"></a><span class="ss"> plot(g)</span></span>
<span id="cb17-1034"><a href="#cb17-1034" aria-hidden="true" tabindex="-1"></a><span class="ss">}</span></span>
<span id="cb17-1035"><a href="#cb17-1035" aria-hidden="true" tabindex="-1"></a><span class="ss">]</span></span>
<span id="cb17-1036"><a href="#cb17-1036" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1037"><a href="#cb17-1037" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1038"><a href="#cb17-1038" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-1039"><a href="#cb17-1039" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1040"><a href="#cb17-1040" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1043"><a href="#cb17-1043" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-1044"><a href="#cb17-1044" aria-hidden="true" tabindex="-1"></a><span class="ss">addCap(</span><span class="ot">'</span>fig<span class="ot">-d</span>overview-mermaid1<span class="ot">'</span><span class="ss">, </span><span class="ot">'</span>Consort diagram produced by <span class="ot">`</span><span class="st">mermaid</span><span class="ot">`'</span><span class="ss">)</span></span>
<span id="cb17-1045"><a href="#cb17-1045" aria-hidden="true" tabindex="-1"></a><span class="ss">x &lt;- </span><span class="ot">'</span>flowchart TD</span>
<span id="cb17-1046"><a href="#cb17-1046" aria-hidden="true" tabindex="-1"></a>  S[<span class="ot">"</span><span class="st">Screened (n={{N0}})</span><span class="ot">"</span>] --&gt; E[<span class="ot">"</span><span class="st">{{excl}}</span><span class="ot">"</span>]</span>
<span id="cb17-1047"><a href="#cb17-1047" aria-hidden="true" tabindex="-1"></a>  S   --&gt; Q[<span class="ot">"</span><span class="st">Qualified for Randomization (n={{Nq}})</span><span class="ot">"</span>]</span>
<span id="cb17-1048"><a href="#cb17-1048" aria-hidden="true" tabindex="-1"></a>  Q   --&gt; C[<span class="ot">"</span><span class="st">Consented (n={{Nc}})</span><span class="ot">"</span>]</span>
<span id="cb17-1049"><a href="#cb17-1049" aria-hidden="true" tabindex="-1"></a>  C   --&gt; R[<span class="ot">"</span><span class="st">Randomized (n={{Nr}})</span><span class="ot">"</span>]</span>
<span id="cb17-1050"><a href="#cb17-1050" aria-hidden="true" tabindex="-1"></a>  R   --&gt; TxA[<span class="ot">"</span><span class="st">A (n={{Ntxa}})</span><span class="ot">"</span>]</span>
<span id="cb17-1051"><a href="#cb17-1051" aria-hidden="true" tabindex="-1"></a>  R   --&gt; TxB[<span class="ot">"</span><span class="st">B (n={{Ntxb}})</span><span class="ot">"</span>]</span>
<span id="cb17-1052"><a href="#cb17-1052" aria-hidden="true" tabindex="-1"></a>  TxA --&gt; FA[<span class="ot">"</span><span class="st">Finished (n={{Ntxaf}})</span><span class="ot">"</span>]</span>
<span id="cb17-1053"><a href="#cb17-1053" aria-hidden="true" tabindex="-1"></a>  TxB --&gt; FB[<span class="ot">"</span><span class="st">Finished (n={{Ntxbf}})</span><span class="ot">"</span>]</span>
<span id="cb17-1054"><a href="#cb17-1054" aria-hidden="true" tabindex="-1"></a>  FA  --&gt; OA[<span class="ot">"</span><span class="st">Outcome assessed (n={{Ntxao}})</span><span class="ot">"</span>]</span>
<span id="cb17-1055"><a href="#cb17-1055" aria-hidden="true" tabindex="-1"></a>  FB  --&gt; OB[<span class="ot">"</span><span class="st">Outcome assessed (n={{Ntxbo}})</span><span class="ot">"</span>]</span>
<span id="cb17-1056"><a href="#cb17-1056" aria-hidden="true" tabindex="-1"></a>classDef largert fill:lightgray,width:<span class="fl">1.5</span>in,height:<span class="dv">1</span>0em,text-align:right,font<span class="ot">-s</span>ize:<span class="fl">0.8</span>em;</span>
<span id="cb17-1057"><a href="#cb17-1057" aria-hidden="true" tabindex="-1"></a>class E largert;</span>
<span id="cb17-1058"><a href="#cb17-1058" aria-hidden="true" tabindex="-1"></a><span class="ot">'</span></span>
<span id="cb17-1059"><a href="#cb17-1059" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1060"><a href="#cb17-1060" aria-hidden="true" tabindex="-1"></a><span class="ss">w &lt;- r[, </span></span>
<span id="cb17-1061"><a href="#cb17-1061" aria-hidden="true" tabindex="-1"></a><span class="ss">makemermaid(x,</span></span>
<span id="cb17-1062"><a href="#cb17-1062" aria-hidden="true" tabindex="-1"></a><span class="ss">            N0   = nrow(r),</span></span>
<span id="cb17-1063"><a href="#cb17-1063" aria-hidden="true" tabindex="-1"></a><span class="ss">            excl = htab(exc, </span><span class="ot">'</span>Excluded<span class="ot">'</span><span class="ss">, br=</span><span class="ot">'</span>&lt;br&gt;<span class="ot">'</span><span class="ss">),</span></span>
<span id="cb17-1064"><a href="#cb17-1064" aria-hidden="true" tabindex="-1"></a><span class="ss">            Nq   = count(is.na(exc)),</span></span>
<span id="cb17-1065"><a href="#cb17-1065" aria-hidden="true" tabindex="-1"></a><span class="ss">            Nc   = count(consent),</span></span>
<span id="cb17-1066"><a href="#cb17-1066" aria-hidden="true" tabindex="-1"></a><span class="ss">            Nr   = count(randomized),</span></span>
<span id="cb17-1067"><a href="#cb17-1067" aria-hidden="true" tabindex="-1"></a><span class="ss">            Ntxa = count(tx == </span><span class="ot">'</span>A<span class="ot">'</span><span class="ss">),</span></span>
<span id="cb17-1068"><a href="#cb17-1068" aria-hidden="true" tabindex="-1"></a><span class="ss">            Ntxb = count(tx == </span><span class="ot">'</span>B<span class="ot">'</span><span class="ss">),</span></span>
<span id="cb17-1069"><a href="#cb17-1069" aria-hidden="true" tabindex="-1"></a><span class="ss">            Ntxaf= count(tx == </span><span class="ot">'</span>A<span class="ot">'</span><span class="ss"> &amp; fin),</span></span>
<span id="cb17-1070"><a href="#cb17-1070" aria-hidden="true" tabindex="-1"></a><span class="ss">            Ntxbf= count(tx == </span><span class="ot">'</span>B<span class="ot">'</span><span class="ss"> &amp; fin),</span></span>
<span id="cb17-1071"><a href="#cb17-1071" aria-hidden="true" tabindex="-1"></a><span class="ss">            Ntxao= count(tx == </span><span class="ot">'</span>A<span class="ot">'</span><span class="ss"> &amp; ! is.na(y)),</span></span>
<span id="cb17-1072"><a href="#cb17-1072" aria-hidden="true" tabindex="-1"></a><span class="ss">            Ntxbo= count(tx == </span><span class="ot">'</span>B<span class="ot">'</span><span class="ss"> &amp; ! is.na(y)),</span></span>
<span id="cb17-1073"><a href="#cb17-1073" aria-hidden="true" tabindex="-1"></a><span class="ss">            file = </span><span class="ot">'</span>mermaid1.mer<span class="ot">'</span></span>
<span id="cb17-1074"><a href="#cb17-1074" aria-hidden="true" tabindex="-1"></a><span class="ss">            )</span></span>
<span id="cb17-1075"><a href="#cb17-1075" aria-hidden="true" tabindex="-1"></a><span class="ss">]</span></span>
<span id="cb17-1076"><a href="#cb17-1076" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1077"><a href="#cb17-1077" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1078"><a href="#cb17-1078" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1079"><a href="#cb17-1079" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1080"><a href="#cb17-1080" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-1081"><a href="#cb17-1081" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1084"><a href="#cb17-1084" aria-hidden="true" tabindex="-1"></a><span class="in">```{mermaid}</span></span>
<span id="cb17-1085"><a href="#cb17-1085" aria-hidden="true" tabindex="-1"></a><span class="ss">%%| fig-cap: "Consort diagram produced by `mermaid`"</span></span>
<span id="cb17-1086"><a href="#cb17-1086" aria-hidden="true" tabindex="-1"></a><span class="ss">%%| label: fig-doverview-mermaid1</span></span>
<span id="cb17-1087"><a href="#cb17-1087" aria-hidden="true" tabindex="-1"></a><span class="ss">%%| file: mermaid1.mer</span></span>
<span id="cb17-1088"><a href="#cb17-1088" aria-hidden="true" tabindex="-1"></a><span class="ss">```</span></span>
<span id="cb17-1089"><a href="#cb17-1089" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1090"><a href="#cb17-1090" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1091"><a href="#cb17-1091" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1094"><a href="#cb17-1094" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-1095"><a href="#cb17-1095" aria-hidden="true" tabindex="-1"></a><span class="ss"># Create some service functions so later it will be easy to change from</span></span>
<span id="cb17-1096"><a href="#cb17-1096" aria-hidden="true" tabindex="-1"></a><span class="ss"># mermaid to graphviz</span></span>
<span id="cb17-1097"><a href="#cb17-1097" aria-hidden="true" tabindex="-1"></a><span class="ss">makenode       &lt;- function(name, label) paste0(name, </span><span class="ot">'</span>[<span class="ot">"</span><span class="st">', label, '</span><span class="ot">"</span>]<span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-1098"><a href="#cb17-1098" aria-hidden="true" tabindex="-1"></a><span class="ss">makeconnection &lt;- function(from, to)    paste0(from, </span><span class="ot">'</span> --&gt; <span class="ot">'</span><span class="ss">, to)</span></span>
<span id="cb17-1099"><a href="#cb17-1099" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1100"><a href="#cb17-1100" aria-hidden="true" tabindex="-1"></a><span class="ss">exclnodes &lt;- function(x, from=</span><span class="ot">'</span>E<span class="ot">'</span><span class="ss">, root=</span><span class="ot">'</span>E<span class="ot">'</span><span class="ss">, seq=FALSE, remain=FALSE) {</span></span>
<span id="cb17-1101"><a href="#cb17-1101" aria-hidden="true" tabindex="-1"></a><span class="ss">  # Create complete node specifications for individual exclusions, each</span></span>
<span id="cb17-1102"><a href="#cb17-1102" aria-hidden="true" tabindex="-1"></a><span class="ss">  # linking to overall exclusion count assumed to be in node root.</span></span>
<span id="cb17-1103"><a href="#cb17-1103" aria-hidden="true" tabindex="-1"></a><span class="ss">  # Set seq=TRUE to make use of the fact that the exclusions were</span></span>
<span id="cb17-1104"><a href="#cb17-1104" aria-hidden="true" tabindex="-1"></a><span class="ss">  # done in frequency priority order so that each exclusion is in</span></span>
<span id="cb17-1105"><a href="#cb17-1105" aria-hidden="true" tabindex="-1"></a><span class="ss">  # addition to the previous one.  Leave seq=FALSE to make all exclusions</span></span>
<span id="cb17-1106"><a href="#cb17-1106" aria-hidden="true" tabindex="-1"></a><span class="ss">  # subservient to root.  Use remain=TRUE to include # obs remaining</span></span>
<span id="cb17-1107"><a href="#cb17-1107" aria-hidden="true" tabindex="-1"></a><span class="ss">    # remain=TRUE assumes noneNA specified to seqFreq</span></span>
<span id="cb17-1108"><a href="#cb17-1108" aria-hidden="true" tabindex="-1"></a><span class="ss">  tab &lt;- table(x)</span></span>
<span id="cb17-1109"><a href="#cb17-1109" aria-hidden="true" tabindex="-1"></a><span class="ss">  i &lt;- 1 : length(tab)</span></span>
<span id="cb17-1110"><a href="#cb17-1110" aria-hidden="true" tabindex="-1"></a><span class="ss">    rem &lt;- if(remain) paste0(</span><span class="ot">'</span>, <span class="ot">'</span><span class="ss">, length(x) - cumsum(tab), </span><span class="ot">'</span> remain<span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-1111"><a href="#cb17-1111" aria-hidden="true" tabindex="-1"></a><span class="ss">  labels &lt;- paste0(names(tab), </span><span class="ot">'</span> (n=<span class="ot">'</span><span class="ss">, tab, rem, </span><span class="ot">'</span>)<span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-1112"><a href="#cb17-1112" aria-hidden="true" tabindex="-1"></a><span class="ss">  nodes  &lt;- if(seq) makenode(ifelse(i == 1, paste0(root, </span><span class="ot">'</span><span class="dv">1</span><span class="ot">'</span><span class="ss">), paste0(root, i)),</span></span>
<span id="cb17-1113"><a href="#cb17-1113" aria-hidden="true" tabindex="-1"></a><span class="ss">                             labels)</span></span>
<span id="cb17-1114"><a href="#cb17-1114" aria-hidden="true" tabindex="-1"></a><span class="ss">            else    makenode(paste0(root, i), labels)</span></span>
<span id="cb17-1115"><a href="#cb17-1115" aria-hidden="true" tabindex="-1"></a><span class="ss">  connects &lt;- if(seq) makeconnection(ifelse(i == 1, from, paste0(root, i - 1)),</span></span>
<span id="cb17-1116"><a href="#cb17-1116" aria-hidden="true" tabindex="-1"></a><span class="ss">                                     paste0(root, i))</span></span>
<span id="cb17-1117"><a href="#cb17-1117" aria-hidden="true" tabindex="-1"></a><span class="ss">              else makeconnection(from, paste0(root, i))</span></span>
<span id="cb17-1118"><a href="#cb17-1118" aria-hidden="true" tabindex="-1"></a><span class="ss">   paste(c(nodes, connects), collapse=</span><span class="ot">'</span>\n<span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-1119"><a href="#cb17-1119" aria-hidden="true" tabindex="-1"></a><span class="ss">}</span></span>
<span id="cb17-1120"><a href="#cb17-1120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1121"><a href="#cb17-1121" aria-hidden="true" tabindex="-1"></a><span class="ss"># Create parallel treatment nodes</span></span>
<span id="cb17-1122"><a href="#cb17-1122" aria-hidden="true" tabindex="-1"></a><span class="ss"># Treatments are assumed to be in order by the tx variable</span></span>
<span id="cb17-1123"><a href="#cb17-1123" aria-hidden="true" tabindex="-1"></a><span class="ss"># and will appear left to right in the diagram</span></span>
<span id="cb17-1124"><a href="#cb17-1124" aria-hidden="true" tabindex="-1"></a><span class="ss"># Treatment node names correspond to that and are Tx1, Tx2, ...</span></span>
<span id="cb17-1125"><a href="#cb17-1125" aria-hidden="true" tabindex="-1"></a><span class="ss"># root: root of new nodes, from: single node name to connect from</span></span>
<span id="cb17-1126"><a href="#cb17-1126" aria-hidden="true" tabindex="-1"></a><span class="ss"># fromparallel: root of connected-from node name which is to be</span></span>
<span id="cb17-1127"><a href="#cb17-1127" aria-hidden="true" tabindex="-1"></a><span class="ss"># expanded by adding the integers 1, 2, ... number of treatments.</span></span>
<span id="cb17-1128"><a href="#cb17-1128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1129"><a href="#cb17-1129" aria-hidden="true" tabindex="-1"></a><span class="ss">Txs &lt;- r[, if(is.factor(tx)) levels(tx) else sort(unique(tx))]</span></span>
<span id="cb17-1130"><a href="#cb17-1130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1131"><a href="#cb17-1131" aria-hidden="true" tabindex="-1"></a><span class="ss">parNodes &lt;- function(counts, root, from=NULL, fromparallel=NULL,</span></span>
<span id="cb17-1132"><a href="#cb17-1132" aria-hidden="true" tabindex="-1"></a><span class="ss">                      label=Txs) {</span></span>
<span id="cb17-1133"><a href="#cb17-1133" aria-hidden="true" tabindex="-1"></a><span class="ss">  if(! identical(names(counts), Txs)) stop(</span><span class="ot">'</span>Txs <span class="ot">not</span> consistent<span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-1134"><a href="#cb17-1134" aria-hidden="true" tabindex="-1"></a><span class="ss">  k &lt;- length(Txs)</span></span>
<span id="cb17-1135"><a href="#cb17-1135" aria-hidden="true" tabindex="-1"></a><span class="ss">  ns &lt;- paste0(</span><span class="ot">'</span> (n=<span class="ot">'</span><span class="ss">, counts, </span><span class="ot">'</span>)<span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-1136"><a href="#cb17-1136" aria-hidden="true" tabindex="-1"></a><span class="ss">   nodenames &lt;- paste0(root, 1 : k)</span></span>
<span id="cb17-1137"><a href="#cb17-1137" aria-hidden="true" tabindex="-1"></a><span class="ss">  nodes &lt;- makenode(nodenames, paste0(label, ns))</span></span>
<span id="cb17-1138"><a href="#cb17-1138" aria-hidden="true" tabindex="-1"></a><span class="ss">  connects &lt;- if(length(fromparallel)) makeconnection(paste0(fromparallel, 1 : k), nodenames)</span></span>
<span id="cb17-1139"><a href="#cb17-1139" aria-hidden="true" tabindex="-1"></a><span class="ss">              else                     makeconnection(from,                        nodenames)</span></span>
<span id="cb17-1140"><a href="#cb17-1140" aria-hidden="true" tabindex="-1"></a><span class="ss">  paste(c(nodes, connects), collapse=</span><span class="ot">'</span>\n<span class="ot">'</span><span class="ss">)</span></span>
<span id="cb17-1141"><a href="#cb17-1141" aria-hidden="true" tabindex="-1"></a><span class="ss">    }</span></span>
<span id="cb17-1142"><a href="#cb17-1142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1143"><a href="#cb17-1143" aria-hidden="true" tabindex="-1"></a><span class="ss"># Create tooltip text from tabulation created by seqFreq earlier</span></span>
<span id="cb17-1144"><a href="#cb17-1144" aria-hidden="true" tabindex="-1"></a><span class="ss">efreq &lt;- data.frame(</span><span class="ot">'</span><span class="co"># Exclusions'= (1 : length(eo)) - 1,</span></span>
<span id="cb17-1145"><a href="#cb17-1145" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">'</span><span class="ss"># Subjects</span><span class="ot">'</span>  = eo, check.names=FALSE)</span>
<span id="cb17-1146"><a href="#cb17-1146" aria-hidden="true" tabindex="-1"></a>efreq &lt;- subset(efreq, <span class="ot">`</span><span class="st"># Subjects</span><span class="ot">`</span> &gt; <span class="dv">0</span>)</span>
<span id="cb17-1147"><a href="#cb17-1147" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert to text which will be wrapped by the html</span></span>
<span id="cb17-1148"><a href="#cb17-1148" aria-hidden="true" tabindex="-1"></a>excltab &lt;- paste(capture.output(<span class="fu">print</span>(efreq, row.names=FALSE)),</span>
<span id="cb17-1149"><a href="#cb17-1149" aria-hidden="true" tabindex="-1"></a>                 collapse=<span class="ot">'</span><span class="ss">\n</span><span class="ot">'</span>)</span>
<span id="cb17-1150"><a href="#cb17-1150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1151"><a href="#cb17-1151" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1152"><a href="#cb17-1152" aria-hidden="true" tabindex="-1"></a>addCap(<span class="ot">'</span><span class="ss">fig-doverview-mermaid2</span><span class="ot">'</span>, <span class="ot">'</span><span class="ss">Consort diagram produced with `mermaid` with individual exclusions linked to the overall exclusions node, and with a tooltip to show more detail</span><span class="ot">'</span>)</span>
<span id="cb17-1153"><a href="#cb17-1153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1154"><a href="#cb17-1154" aria-hidden="true" tabindex="-1"></a>x &lt;- <span class="ot">'</span></span>
<span id="cb17-1155"><a href="#cb17-1155" aria-hidden="true" tabindex="-1"></a><span class="ss">flowchart TD</span></span>
<span id="cb17-1156"><a href="#cb17-1156" aria-hidden="true" tabindex="-1"></a><span class="ss">  S["Screened (n={{N0}})"] --&gt; E["Excluded (n={{Ne}})"]</span></span>
<span id="cb17-1157"><a href="#cb17-1157" aria-hidden="true" tabindex="-1"></a><span class="ss">  {{exclsep}}</span></span>
<span id="cb17-1158"><a href="#cb17-1158" aria-hidden="true" tabindex="-1"></a><span class="ss">  E1 &amp; E2 &amp; E3 --&gt; M["{{mult}}"]</span></span>
<span id="cb17-1159"><a href="#cb17-1159" aria-hidden="true" tabindex="-1"></a><span class="ss">  S   --&gt; Q["Qualified for Randomization (n={{Nq}})"]</span></span>
<span id="cb17-1160"><a href="#cb17-1160" aria-hidden="true" tabindex="-1"></a><span class="ss">  Q   --&gt; C["Consented (n={{Nc}})"]</span></span>
<span id="cb17-1161"><a href="#cb17-1161" aria-hidden="true" tabindex="-1"></a><span class="ss">  C   --&gt; R["Randomized (n={{Nr}})"]</span></span>
<span id="cb17-1162"><a href="#cb17-1162" aria-hidden="true" tabindex="-1"></a><span class="ss">  {{txcounts}}</span></span>
<span id="cb17-1163"><a href="#cb17-1163" aria-hidden="true" tabindex="-1"></a><span class="ss">  {{finished}}</span></span>
<span id="cb17-1164"><a href="#cb17-1164" aria-hidden="true" tabindex="-1"></a><span class="ss">  {{outcome}}</span></span>
<span id="cb17-1165"><a href="#cb17-1165" aria-hidden="true" tabindex="-1"></a><span class="ss">click E callback "{{excltab}}"</span></span>
<span id="cb17-1166"><a href="#cb17-1166" aria-hidden="true" tabindex="-1"></a><span class="ot">'</span></span>
<span id="cb17-1167"><a href="#cb17-1167" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1168"><a href="#cb17-1168" aria-hidden="true" tabindex="-1"></a>w &lt;- r[, </span>
<span id="cb17-1169"><a href="#cb17-1169" aria-hidden="true" tabindex="-1"></a>makemermaid(x,</span>
<span id="cb17-1170"><a href="#cb17-1170" aria-hidden="true" tabindex="-1"></a>  N0       = nrow(r),</span>
<span id="cb17-1171"><a href="#cb17-1171" aria-hidden="true" tabindex="-1"></a>  Ne       = count(! is.na(exc)),</span>
<span id="cb17-1172"><a href="#cb17-1172" aria-hidden="true" tabindex="-1"></a>  exclsep  = exclnodes(exc),  <span class="co"># add seq=TRUE to put exclusions vertical</span></span>
<span id="cb17-1173"><a href="#cb17-1173" aria-hidden="true" tabindex="-1"></a>  excltab  = excltab,         <span class="co"># tooltip text</span></span>
<span id="cb17-1174"><a href="#cb17-1174" aria-hidden="true" tabindex="-1"></a>  mult     = mult,  <span class="co"># separate node: count multiple exclusions</span></span>
<span id="cb17-1175"><a href="#cb17-1175" aria-hidden="true" tabindex="-1"></a>  Nq       = count(is.na(exc)),</span>
<span id="cb17-1176"><a href="#cb17-1176" aria-hidden="true" tabindex="-1"></a>  Nc       = count(consent),</span>
<span id="cb17-1177"><a href="#cb17-1177" aria-hidden="true" tabindex="-1"></a>  Nr       = count(randomized),</span>
<span id="cb17-1178"><a href="#cb17-1178" aria-hidden="true" tabindex="-1"></a>  txcounts = parNodes(table(tx),         <span class="ot">'</span><span class="ss">Tx</span><span class="ot">'</span>, from=<span class="ot">'</span><span class="ss">R</span><span class="ot">'</span>),</span>
<span id="cb17-1179"><a href="#cb17-1179" aria-hidden="true" tabindex="-1"></a>  finished = parNodes(count(fin, by=tx), <span class="ot">'</span><span class="ss">F</span><span class="ot">'</span>,  fromparallel=<span class="ot">'</span><span class="ss">Tx</span><span class="ot">'</span>,</span>
<span id="cb17-1180"><a href="#cb17-1180" aria-hidden="true" tabindex="-1"></a>                      label=<span class="ot">'</span><span class="ss">Finished</span><span class="ot">'</span>),</span>
<span id="cb17-1181"><a href="#cb17-1181" aria-hidden="true" tabindex="-1"></a>  outcome  = parNodes(count(! is.na(y), by=tx), <span class="ot">'</span><span class="ss">O</span><span class="ot">'</span>,</span>
<span id="cb17-1182"><a href="#cb17-1182" aria-hidden="true" tabindex="-1"></a>                      fromparallel=<span class="ot">'</span><span class="ss">F</span><span class="ot">'</span>, label=<span class="ot">'</span><span class="ss">Outcome assessed</span><span class="ot">'</span>),</span>
<span id="cb17-1183"><a href="#cb17-1183" aria-hidden="true" tabindex="-1"></a>  file=<span class="ot">'</span><span class="ss">mermaid2.mer</span><span class="ot">'</span>  <span class="co"># save generated code for another use</span></span>
<span id="cb17-1184"><a href="#cb17-1184" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-1185"><a href="#cb17-1185" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb17-1186"><a href="#cb17-1186" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1187"><a href="#cb17-1187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1188"><a href="#cb17-1188" aria-hidden="true" tabindex="-1"></a>makenode       &lt;- function(name, label) paste0(name, <span class="ot">'</span><span class="ss"> [label="</span><span class="ot">'</span>, label, <span class="ot">'</span><span class="ss">"];</span><span class="ot">'</span>)</span>
<span id="cb17-1189"><a href="#cb17-1189" aria-hidden="true" tabindex="-1"></a>makeconnection &lt;- function(from, to)    paste0(from, <span class="ot">'</span><span class="ss"> -&gt; </span><span class="ot">'</span>, to, <span class="ot">'</span><span class="ss">;</span><span class="ot">'</span>)</span>
<span id="cb17-1190"><a href="#cb17-1190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1191"><a href="#cb17-1191" aria-hidden="true" tabindex="-1"></a><span class="co"># Create data frame from tabulation created by seqFreq earlier</span></span>
<span id="cb17-1192"><a href="#cb17-1192" aria-hidden="true" tabindex="-1"></a>efreq &lt;- data.frame(<span class="ot">'</span><span class="ss"># Exclusions</span><span class="ot">'</span>= (<span class="dv">1</span> : <span class="fu">length</span>(eo)) - <span class="dv">1</span>,</span>
<span id="cb17-1193"><a href="#cb17-1193" aria-hidden="true" tabindex="-1"></a>                    <span class="ot">'</span><span class="ss"># Subjects</span><span class="ot">'</span>  = eo, check.names=FALSE)</span>
<span id="cb17-1194"><a href="#cb17-1194" aria-hidden="true" tabindex="-1"></a>efreq &lt;- subset(efreq, <span class="ot">`</span><span class="st"># Subjects</span><span class="ot">`</span> &gt; <span class="dv">0</span>)</span>
<span id="cb17-1195"><a href="#cb17-1195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1196"><a href="#cb17-1196" aria-hidden="true" tabindex="-1"></a>x &lt;- <span class="ot">'</span><span class="ss">digraph {</span></span>
<span id="cb17-1197"><a href="#cb17-1197" aria-hidden="true" tabindex="-1"></a><span class="ss">  graph [pad="0.5", nodesep="0.5", ranksep="2", splines=ortho]</span></span>
<span id="cb17-1198"><a href="#cb17-1198" aria-hidden="true" tabindex="-1"></a><span class="ss">  //  splines=ortho for square connections</span></span>
<span id="cb17-1199"><a href="#cb17-1199" aria-hidden="true" tabindex="-1"></a><span class="ss">  node  [shape=box, fontsize="30"]</span></span>
<span id="cb17-1200"><a href="#cb17-1200" aria-hidden="true" tabindex="-1"></a><span class="ss">  rankdir=TD;</span></span>
<span id="cb17-1201"><a href="#cb17-1201" aria-hidden="true" tabindex="-1"></a><span class="ss">  S [label="Screened (n={{N0}})"];</span></span>
<span id="cb17-1202"><a href="#cb17-1202" aria-hidden="true" tabindex="-1"></a><span class="ss">  E [label="Excluded (n={{Ne}})"];</span></span>
<span id="cb17-1203"><a href="#cb17-1203" aria-hidden="true" tabindex="-1"></a><span class="ss">  S -&gt; E;</span></span>
<span id="cb17-1204"><a href="#cb17-1204" aria-hidden="true" tabindex="-1"></a><span class="ss">  {{exclsep}}</span></span>
<span id="cb17-1205"><a href="#cb17-1205" aria-hidden="true" tabindex="-1"></a><span class="ss">  M [label="{{mult}}"];</span></span>
<span id="cb17-1206"><a href="#cb17-1206" aria-hidden="true" tabindex="-1"></a><span class="ss">  E1 -&gt; M;</span></span>
<span id="cb17-1207"><a href="#cb17-1207" aria-hidden="true" tabindex="-1"></a><span class="ss">  E2 -&gt; M;</span></span>
<span id="cb17-1208"><a href="#cb17-1208" aria-hidden="true" tabindex="-1"></a><span class="ss">  E3 -&gt; M;</span></span>
<span id="cb17-1209"><a href="#cb17-1209" aria-hidden="true" tabindex="-1"></a><span class="ss">  Q [label="Qualified for Randomization (n={{Nq}})"];</span></span>
<span id="cb17-1210"><a href="#cb17-1210" aria-hidden="true" tabindex="-1"></a><span class="ss">  C [label="Consented (n={{Nc}})"];</span></span>
<span id="cb17-1211"><a href="#cb17-1211" aria-hidden="true" tabindex="-1"></a><span class="ss">  R [label="Randomized (n={{Nr}})"];</span></span>
<span id="cb17-1212"><a href="#cb17-1212" aria-hidden="true" tabindex="-1"></a><span class="ss">  S -&gt; Q;</span></span>
<span id="cb17-1213"><a href="#cb17-1213" aria-hidden="true" tabindex="-1"></a><span class="ss">  Q -&gt; C;</span></span>
<span id="cb17-1214"><a href="#cb17-1214" aria-hidden="true" tabindex="-1"></a><span class="ss">  C -&gt; R;</span></span>
<span id="cb17-1215"><a href="#cb17-1215" aria-hidden="true" tabindex="-1"></a><span class="ss">  {{txcounts}}</span></span>
<span id="cb17-1216"><a href="#cb17-1216" aria-hidden="true" tabindex="-1"></a><span class="ss">  {{finished}}</span></span>
<span id="cb17-1217"><a href="#cb17-1217" aria-hidden="true" tabindex="-1"></a><span class="ss">  {{outcome}}</span></span>
<span id="cb17-1218"><a href="#cb17-1218" aria-hidden="true" tabindex="-1"></a><span class="ss">  efreq [label=&lt;{{efreq}}&gt;];</span></span>
<span id="cb17-1219"><a href="#cb17-1219" aria-hidden="true" tabindex="-1"></a><span class="ss">  M -&gt; efreq [dir=none, style=dotted];</span></span>
<span id="cb17-1220"><a href="#cb17-1220" aria-hidden="true" tabindex="-1"></a><span class="ss">}</span></span>
<span id="cb17-1221"><a href="#cb17-1221" aria-hidden="true" tabindex="-1"></a><span class="ot">'</span></span>
<span id="cb17-1222"><a href="#cb17-1222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1223"><a href="#cb17-1223" aria-hidden="true" tabindex="-1"></a>w &lt;- r[, </span>
<span id="cb17-1224"><a href="#cb17-1224" aria-hidden="true" tabindex="-1"></a>makegraphviz(x,</span>
<span id="cb17-1225"><a href="#cb17-1225" aria-hidden="true" tabindex="-1"></a>  N0       = nrow(r),</span>
<span id="cb17-1226"><a href="#cb17-1226" aria-hidden="true" tabindex="-1"></a>  Ne       = count(! is.na(exc)),</span>
<span id="cb17-1227"><a href="#cb17-1227" aria-hidden="true" tabindex="-1"></a>  exclsep  = exclnodes(exc),  <span class="co"># add seq=TRUE to put exclusions vertical</span></span>
<span id="cb17-1228"><a href="#cb17-1228" aria-hidden="true" tabindex="-1"></a>  efreq    = efreq,</span>
<span id="cb17-1229"><a href="#cb17-1229" aria-hidden="true" tabindex="-1"></a>  mult     = mult,  <span class="co"># separate node: count multiple exclusions</span></span>
<span id="cb17-1230"><a href="#cb17-1230" aria-hidden="true" tabindex="-1"></a>  Nq       = count(is.na(exc)),</span>
<span id="cb17-1231"><a href="#cb17-1231" aria-hidden="true" tabindex="-1"></a>  Nc       = count(consent),</span>
<span id="cb17-1232"><a href="#cb17-1232" aria-hidden="true" tabindex="-1"></a>  Nr       = count(randomized),</span>
<span id="cb17-1233"><a href="#cb17-1233" aria-hidden="true" tabindex="-1"></a>  txcounts = parNodes(table(tx),         <span class="ot">'</span><span class="ss">Tx</span><span class="ot">'</span>, from=<span class="ot">'</span><span class="ss">R</span><span class="ot">'</span>),</span>
<span id="cb17-1234"><a href="#cb17-1234" aria-hidden="true" tabindex="-1"></a>  finished = parNodes(count(fin, by=tx), <span class="ot">'</span><span class="ss">F</span><span class="ot">'</span>,  fromparallel=<span class="ot">'</span><span class="ss">Tx</span><span class="ot">'</span>,</span>
<span id="cb17-1235"><a href="#cb17-1235" aria-hidden="true" tabindex="-1"></a>                      label=<span class="ot">'</span><span class="ss">Finished</span><span class="ot">'</span>),</span>
<span id="cb17-1236"><a href="#cb17-1236" aria-hidden="true" tabindex="-1"></a>  outcome  = parNodes(count(! is.na(y), by=tx), <span class="ot">'</span><span class="ss">O</span><span class="ot">'</span>,</span>
<span id="cb17-1237"><a href="#cb17-1237" aria-hidden="true" tabindex="-1"></a>                      fromparallel=<span class="ot">'</span><span class="ss">F</span><span class="ot">'</span>, label=<span class="ot">'</span><span class="ss">Outcome assessed</span><span class="ot">'</span>),</span>
<span id="cb17-1238"><a href="#cb17-1238" aria-hidden="true" tabindex="-1"></a>  file=<span class="ot">'</span><span class="ss">graphviz.dot</span><span class="ot">'</span></span>
<span id="cb17-1239"><a href="#cb17-1239" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-1240"><a href="#cb17-1240" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb17-1241"><a href="#cb17-1241" aria-hidden="true" tabindex="-1"></a><span class="co">#  addCap('fig-doverview-graphviza', 'Consort diagram produced with `graphviz` with detailed exclusion frequencies in a separate node', scap='Consort diagram produced with `graphviz`')</span></span>
<span id="cb17-1242"><a href="#cb17-1242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1243"><a href="#cb17-1243" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-1244"><a href="#cb17-1244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1247"><a href="#cb17-1247" aria-hidden="true" tabindex="-1"></a><span class="in">```{mermaid}</span></span>
<span id="cb17-1248"><a href="#cb17-1248" aria-hidden="true" tabindex="-1"></a>%%| fig<span class="ot">-c</span>ap: <span class="ot">"</span><span class="st">Consort diagram produced with `mermaid` with individual exclusions linked to the overall exclusions node, and with a tooltip to show more detail</span><span class="ot">"</span></span>
<span id="cb17-1249"><a href="#cb17-1249" aria-hidden="true" tabindex="-1"></a>%%| label: fig<span class="ot">-d</span>overview-mermaid2</span>
<span id="cb17-1250"><a href="#cb17-1250" aria-hidden="true" tabindex="-1"></a>%%| file: mermaid2.mer</span>
<span id="cb17-1251"><a href="#cb17-1251" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-1252"><a href="#cb17-1252" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1253"><a href="#cb17-1253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1254"><a href="#cb17-1254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1255"><a href="#cb17-1255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1258"><a href="#cb17-1258" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-1259"><a href="#cb17-1259" aria-hidden="true" tabindex="-1"></a><span class="fu">getHdata</span>(support)</span>
<span id="cb17-1260"><a href="#cb17-1260" aria-hidden="true" tabindex="-1"></a><span class="fu">setDT</span>(support)</span>
<span id="cb17-1261"><a href="#cb17-1261" aria-hidden="true" tabindex="-1"></a><span class="co"># addCap('fig-doverview-missflow', 'Flowchart of sequential exclusion of observations due to missing values')</span></span>
<span id="cb17-1262"><a href="#cb17-1262" aria-hidden="true" tabindex="-1"></a>vars <span class="ot">&lt;-</span>  <span class="fu">.q</span>(age, sex, dzgroup, edu, income, meanbp, wblc,</span>
<span id="cb17-1263"><a href="#cb17-1263" aria-hidden="true" tabindex="-1"></a>            alb, bili, crea, glucose, bun, urine)</span>
<span id="cb17-1264"><a href="#cb17-1264" aria-hidden="true" tabindex="-1"></a>ex <span class="ot">&lt;-</span> <span class="fu">missChk</span>(support, <span class="at">use=</span>vars, <span class="at">type=</span><span class="st">'seq'</span>) <span class="co"># seq: don't make report</span></span>
<span id="cb17-1265"><a href="#cb17-1265" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1266"><a href="#cb17-1266" aria-hidden="true" tabindex="-1"></a><span class="co"># Create tooltip text from tabulation created by seqFreq</span></span>
<span id="cb17-1267"><a href="#cb17-1267" aria-hidden="true" tabindex="-1"></a>oc   <span class="ot">&lt;-</span> <span class="fu">attr</span>(ex, <span class="st">'obs.per.numcond'</span>)</span>
<span id="cb17-1268"><a href="#cb17-1268" aria-hidden="true" tabindex="-1"></a>freq <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="st">'# Exclusions'</span><span class="ot">=</span> (<span class="dv">1</span> <span class="sc">:</span> <span class="fu">length</span>(oc)) <span class="sc">-</span> <span class="dv">1</span>,</span>
<span id="cb17-1269"><a href="#cb17-1269" aria-hidden="true" tabindex="-1"></a>                   <span class="st">'# Subjects'</span>  <span class="ot">=</span> oc, <span class="at">check.names=</span><span class="cn">FALSE</span>)</span>
<span id="cb17-1270"><a href="#cb17-1270" aria-hidden="true" tabindex="-1"></a>freq <span class="ot">&lt;-</span> <span class="fu">subset</span>(freq, <span class="st">`</span><span class="at"># Subjects</span><span class="st">`</span> <span class="sc">&gt;</span> <span class="dv">0</span>)</span>
<span id="cb17-1271"><a href="#cb17-1271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1272"><a href="#cb17-1272" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">'</span></span>
<span id="cb17-1273"><a href="#cb17-1273" aria-hidden="true" tabindex="-1"></a><span class="st">digraph {</span></span>
<span id="cb17-1274"><a href="#cb17-1274" aria-hidden="true" tabindex="-1"></a><span class="st">  graph [pad="0.5", nodesep="0.5", ranksep="2", splines=ortho]</span></span>
<span id="cb17-1275"><a href="#cb17-1275" aria-hidden="true" tabindex="-1"></a><span class="st">  //  splines=ortho for square connections</span></span>
<span id="cb17-1276"><a href="#cb17-1276" aria-hidden="true" tabindex="-1"></a><span class="st">  node  [shape=box, fontsize="30"]</span></span>
<span id="cb17-1277"><a href="#cb17-1277" aria-hidden="true" tabindex="-1"></a><span class="st">  rankdir=TD;</span></span>
<span id="cb17-1278"><a href="#cb17-1278" aria-hidden="true" tabindex="-1"></a><span class="st">  Enr [label="Enrolled (n={{N0}})"];</span></span>
<span id="cb17-1279"><a href="#cb17-1279" aria-hidden="true" tabindex="-1"></a><span class="st">  Enr;</span></span>
<span id="cb17-1280"><a href="#cb17-1280" aria-hidden="true" tabindex="-1"></a><span class="st">  {{exclsep}}</span></span>
<span id="cb17-1281"><a href="#cb17-1281" aria-hidden="true" tabindex="-1"></a><span class="st">    Extab [label=&lt;{{excltab}}&gt;];</span></span>
<span id="cb17-1282"><a href="#cb17-1282" aria-hidden="true" tabindex="-1"></a><span class="st">  Enr:e -&gt; Extab [dir=none];</span></span>
<span id="cb17-1283"><a href="#cb17-1283" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb17-1284"><a href="#cb17-1284" aria-hidden="true" tabindex="-1"></a><span class="st">'</span></span>
<span id="cb17-1285"><a href="#cb17-1285" aria-hidden="true" tabindex="-1"></a><span class="fu">makegraphviz</span>(x,</span>
<span id="cb17-1286"><a href="#cb17-1286" aria-hidden="true" tabindex="-1"></a>  <span class="at">N0        =</span> <span class="fu">nrow</span>(support),</span>
<span id="cb17-1287"><a href="#cb17-1287" aria-hidden="true" tabindex="-1"></a>  <span class="at">exclsep   =</span> <span class="fu">exclnodes</span>(ex, <span class="at">from=</span><span class="st">'Enr'</span>, <span class="at">seq=</span><span class="cn">TRUE</span>, <span class="at">remain=</span><span class="cn">TRUE</span>),</span>
<span id="cb17-1288"><a href="#cb17-1288" aria-hidden="true" tabindex="-1"></a>  <span class="at">excltab   =</span> freq,</span>
<span id="cb17-1289"><a href="#cb17-1289" aria-hidden="true" tabindex="-1"></a>  <span class="at">file      =</span> <span class="st">'support.dot'</span></span>
<span id="cb17-1290"><a href="#cb17-1290" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb17-1291"><a href="#cb17-1291" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1292"><a href="#cb17-1292" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-1293"><a href="#cb17-1293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1294"><a href="#cb17-1294" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1297"><a href="#cb17-1297" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb17-1298"><a href="#cb17-1298" aria-hidden="true" tabindex="-1"></a><span class="fu">grViz</span>(<span class="st">'</span></span>
<span id="cb17-1299"><a href="#cb17-1299" aria-hidden="true" tabindex="-1"></a><span class="st">graph G {</span></span>
<span id="cb17-1300"><a href="#cb17-1300" aria-hidden="true" tabindex="-1"></a><span class="st">fontname="Helvetica,Arial,sans-serif"</span></span>
<span id="cb17-1301"><a href="#cb17-1301" aria-hidden="true" tabindex="-1"></a><span class="st">node [fontname="Helvetica,Arial,sans-serif"]</span></span>
<span id="cb17-1302"><a href="#cb17-1302" aria-hidden="true" tabindex="-1"></a><span class="st">edge [fontname="Helvetica,Arial,sans-serif"]</span></span>
<span id="cb17-1303"><a href="#cb17-1303" aria-hidden="true" tabindex="-1"></a><span class="st">I5 [shape=ellipse,color=red,style=bold,label="Caroline Bouvier Kennedy</span><span class="sc">\n</span><span class="st">b. 27.11.1957 New York",image="images/165px-Caroline_Kennedy.jpg",labelloc=b];</span></span>
<span id="cb17-1304"><a href="#cb17-1304" aria-hidden="true" tabindex="-1"></a><span class="st">I1 [shape=box,color=blue,style=bold,label="John Fitzgerald Kennedy</span><span class="sc">\n</span><span class="st">b. 29.5.1917 Brookline</span><span class="sc">\n</span><span class="st">d. 22.11.1963 Dallas",image="images/kennedyface.jpg",labelloc=b];</span></span>
<span id="cb17-1305"><a href="#cb17-1305" aria-hidden="true" tabindex="-1"></a><span class="st">I6 [shape=box,color=blue,style=bold,label="John Fitzgerald Kennedy</span><span class="sc">\n</span><span class="st">b. 25.11.1960 Washington</span><span class="sc">\n</span><span class="st">d. 16.7.1999 over the Atlantic Ocean, near Aquinnah, MA, USA",image="images/180px-JFKJr2.jpg",labelloc=b];</span></span>
<span id="cb17-1306"><a href="#cb17-1306" aria-hidden="true" tabindex="-1"></a><span class="st">I7 [shape=box,color=blue,style=bold,label="Patrick Bouvier Kennedy</span><span class="sc">\n</span><span class="st">b. 7.8.1963</span><span class="sc">\n</span><span class="st">d. 9.8.1963"];</span></span>
<span id="cb17-1307"><a href="#cb17-1307" aria-hidden="true" tabindex="-1"></a><span class="st">I2 [shape=ellipse,color=red,style=bold,label="Jaqueline Lee Bouvier</span><span class="sc">\n</span><span class="st">b. 28.7.1929 Southampton</span><span class="sc">\n</span><span class="st">d. 19.5.1994 New York City",image="images/jacqueline-kennedy-onassis.jpg",labelloc=b];</span></span>
<span id="cb17-1308"><a href="#cb17-1308" aria-hidden="true" tabindex="-1"></a><span class="st">I8 [shape=box,color=blue,style=bold,label="Joseph Patrick Kennedy</span><span class="sc">\n</span><span class="st">b. 6.9.1888 East Boston</span><span class="sc">\n</span><span class="st">d. 16.11.1969 Hyannis Port",image="images/1025901671.jpg",labelloc=b];</span></span>
<span id="cb17-1309"><a href="#cb17-1309" aria-hidden="true" tabindex="-1"></a><span class="st">I10 [shape=box,color=blue,style=bold,label="Joseph Patrick Kennedy Jr</span><span class="sc">\n</span><span class="st">b. 1915</span><span class="sc">\n</span><span class="st">d. 1944"];</span></span>
<span id="cb17-1310"><a href="#cb17-1310" aria-hidden="true" tabindex="-1"></a><span class="st">I11 [shape=ellipse,color=red,style=bold,label="Rosemary Kennedy</span><span class="sc">\n</span><span class="st">b. 13.9.1918</span><span class="sc">\n</span><span class="st">d. 7.1.2005",image="images/rosemary.jpg",labelloc=b];</span></span>
<span id="cb17-1311"><a href="#cb17-1311" aria-hidden="true" tabindex="-1"></a><span class="st">I12 [shape=ellipse,color=red,style=bold,label="Kathleen Kennedy</span><span class="sc">\n</span><span class="st">b. 1920</span><span class="sc">\n</span><span class="st">d. 1948"];</span></span>
<span id="cb17-1312"><a href="#cb17-1312" aria-hidden="true" tabindex="-1"></a><span class="st">I13 [shape=ellipse,color=red,style=bold,label="Eunice Mary Kennedy</span><span class="sc">\n</span><span class="st">b. 10.7.1921 Brookline"];</span></span>
<span id="cb17-1313"><a href="#cb17-1313" aria-hidden="true" tabindex="-1"></a><span class="st">I9 [shape=ellipse,color=red,style=bold,label="Rose Elizabeth Fitzgerald</span><span class="sc">\n</span><span class="st">b. 22.7.1890 Boston</span><span class="sc">\n</span><span class="st">d. 22.1.1995 Hyannis Port",image="images/Rose_kennedy.JPG",labelloc=b];</span></span>
<span id="cb17-1314"><a href="#cb17-1314" aria-hidden="true" tabindex="-1"></a><span class="st">I15 [shape=box,color=blue,style=bold,label="Aristotle Onassis"];</span></span>
<span id="cb17-1315"><a href="#cb17-1315" aria-hidden="true" tabindex="-1"></a><span class="st">I3 [shape=box,color=blue,style=bold,label="John Vernou Bouvier III</span><span class="sc">\n</span><span class="st">b. 1891</span><span class="sc">\n</span><span class="st">d. 1957",image="images/BE037819.jpg",labelloc=b];</span></span>
<span id="cb17-1316"><a href="#cb17-1316" aria-hidden="true" tabindex="-1"></a><span class="st">I4 [shape=ellipse,color=red,style=bold,label="Janet Norton Lee</span><span class="sc">\n</span><span class="st">b. 2.10.1877</span><span class="sc">\n</span><span class="st">d. 3.1.1968",image="images/n48862003257_1275276_1366.jpg",labelloc=b];</span></span>
<span id="cb17-1317"><a href="#cb17-1317" aria-hidden="true" tabindex="-1"></a><span class="st"> I1 -- I5  [style=bold,color=blue]; </span></span>
<span id="cb17-1318"><a href="#cb17-1318" aria-hidden="true" tabindex="-1"></a><span class="st"> I1 -- I6  [style=bold,color=orange]; </span></span>
<span id="cb17-1319"><a href="#cb17-1319" aria-hidden="true" tabindex="-1"></a><span class="st"> I2 -- I6  [style=bold,color=orange]; </span></span>
<span id="cb17-1320"><a href="#cb17-1320" aria-hidden="true" tabindex="-1"></a><span class="st"> I1 -- I7  [style=bold,color=orange]; </span></span>
<span id="cb17-1321"><a href="#cb17-1321" aria-hidden="true" tabindex="-1"></a><span class="st"> I2 -- I7  [style=bold,color=orange]; </span></span>
<span id="cb17-1322"><a href="#cb17-1322" aria-hidden="true" tabindex="-1"></a><span class="st"> I1 -- I2  [style=bold,color=violet]; </span></span>
<span id="cb17-1323"><a href="#cb17-1323" aria-hidden="true" tabindex="-1"></a><span class="st"> I8 -- I1  [style=bold,color=blue]; </span></span>
<span id="cb17-1324"><a href="#cb17-1324" aria-hidden="true" tabindex="-1"></a><span class="st"> I8 -- I10  [style=bold,color=orange]; </span></span>
<span id="cb17-1325"><a href="#cb17-1325" aria-hidden="true" tabindex="-1"></a><span class="st"> I9 -- I10  [style=bold,color=orange]; </span></span>
<span id="cb17-1326"><a href="#cb17-1326" aria-hidden="true" tabindex="-1"></a><span class="st"> I8 -- I11  [style=bold,color=orange]; </span></span>
<span id="cb17-1327"><a href="#cb17-1327" aria-hidden="true" tabindex="-1"></a><span class="st"> I9 -- I11  [style=bold,color=orange]; </span></span>
<span id="cb17-1328"><a href="#cb17-1328" aria-hidden="true" tabindex="-1"></a><span class="st"> I8 -- I12  [style=bold,color=orange]; </span></span>
<span id="cb17-1329"><a href="#cb17-1329" aria-hidden="true" tabindex="-1"></a><span class="st"> I9 -- I12  [style=bold,color=orange]; </span></span>
<span id="cb17-1330"><a href="#cb17-1330" aria-hidden="true" tabindex="-1"></a><span class="st"> I8 -- I13  [style=bold,color=orange]; </span></span>
<span id="cb17-1331"><a href="#cb17-1331" aria-hidden="true" tabindex="-1"></a><span class="st"> I9 -- I13  [style=bold,color=orange]; </span></span>
<span id="cb17-1332"><a href="#cb17-1332" aria-hidden="true" tabindex="-1"></a><span class="st"> I8 -- I9  [style=bold,color=violet]; </span></span>
<span id="cb17-1333"><a href="#cb17-1333" aria-hidden="true" tabindex="-1"></a><span class="st"> I9 -- I1  [style=bold,color=red]; </span></span>
<span id="cb17-1334"><a href="#cb17-1334" aria-hidden="true" tabindex="-1"></a><span class="st"> I2 -- I5  [style=bold,color=red]; </span></span>
<span id="cb17-1335"><a href="#cb17-1335" aria-hidden="true" tabindex="-1"></a><span class="st"> I2 -- I15  [style=bold,color=violet]; </span></span>
<span id="cb17-1336"><a href="#cb17-1336" aria-hidden="true" tabindex="-1"></a><span class="st"> I3 -- I2  [style=bold,color=blue]; </span></span>
<span id="cb17-1337"><a href="#cb17-1337" aria-hidden="true" tabindex="-1"></a><span class="st"> I3 -- I4  [style=bold,color=violet]; </span></span>
<span id="cb17-1338"><a href="#cb17-1338" aria-hidden="true" tabindex="-1"></a><span class="st"> I4 -- I2  [style=bold,color=red]; </span></span>
<span id="cb17-1339"><a href="#cb17-1339" aria-hidden="true" tabindex="-1"></a><span class="st">}'</span>)</span>
<span id="cb17-1340"><a href="#cb17-1340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1341"><a href="#cb17-1341" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1342"><a href="#cb17-1342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-1343"><a href="#cb17-1343" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb17-1344"><a href="#cb17-1344" aria-hidden="true" tabindex="-1"></a></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>